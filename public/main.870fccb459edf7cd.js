(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{14:(Jt,nt,N)=>{"use strict";N.d(nt,{nm:()=>Hi});var g=N(2793);N(5879),N(4097);var Qe=N(5861),we=N(4303),ke=N(4537),Le=N(9058),be=N(7879);const Z=new Map,me={activated:!1,tokenObservers:[]},Be={initialized:!1,enabled:!1};function Je(Ke){return Z.get(Ke)||Object.assign({},me)}function ct(){return Be}const Pt="https://content-firebaseappcheck.googleapis.com/v1",We="exchangeDebugToken",ae={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Oe{constructor(Ge,at,Mt,Gt,nn){if(this.operation=Ge,this.retryPolicy=at,this.getWaitDuration=Mt,this.lowerBound=Gt,this.upperBound=nn,this.pending=null,this.nextErrorWaitInterval=Gt,Gt>nn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ge){var at=this;return(0,Qe.Z)(function*(){at.stop();try{at.pending=new Le.BH,yield function ze(Ke){return new Promise(Ge=>{setTimeout(Ge,Ke)})}(at.getNextRun(Ge)),at.pending.resolve(),yield at.pending.promise,at.pending=new Le.BH,yield at.operation(),at.pending.resolve(),yield at.pending.promise,at.process(!0).catch(()=>{})}catch(Mt){at.retryPolicy(Mt)?at.process(!1).catch(()=>{}):at.stop()}})()}getNextRun(Ge){if(Ge)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const at=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),at}}}const Ze=new Le.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function kt(Ke){if(!Je(Ke).activated)throw Ze.create("use-before-activation",{appName:Ke.name})}function dt(Ke,Ge){return mt.apply(this,arguments)}function mt(){return(mt=(0,Qe.Z)(function*({url:Ke,body:Ge},at){const Mt={"Content-Type":"application/json"},Gt=at.getImmediate({optional:!0});if(Gt){const zr=yield Gt.getHeartbeatsHeader();zr&&(Mt["X-Firebase-Client"]=zr)}const nn={method:"POST",body:JSON.stringify(Ge),headers:Mt};let Mn,Hn;try{Mn=yield fetch(Ke,nn)}catch(zr){throw Ze.create("fetch-network-error",{originalErrorMessage:null==zr?void 0:zr.message})}if(200!==Mn.status)throw Ze.create("fetch-status-error",{httpStatus:Mn.status});try{Hn=yield Mn.json()}catch(zr){throw Ze.create("fetch-parse-error",{originalErrorMessage:null==zr?void 0:zr.message})}const ur=Hn.ttl.match(/^([\d.]+)(s)$/);if(!ur||!ur[2]||isNaN(Number(ur[1])))throw Ze.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Hn.ttl}`});const Qr=1e3*Number(ur[1]),ns=Date.now();return{token:Hn.token,expireTimeMillis:ns+Qr,issuedAtTimeMillis:ns}})).apply(this,arguments)}function In(Ke,Ge){const{projectId:at,appId:Mt,apiKey:Gt}=Ke.options;return{url:`${Pt}/projects/${at}/apps/${Mt}:${We}?key=${Gt}`,body:{debug_token:Ge}}}const qt="firebase-app-check-database",Pn=1,Tn="firebase-app-check-store";let yn=null;function Mr(){return(Mr=(0,Qe.Z)(function*(Ke,Ge){const Mt=(yield function Nn(){return yn||(yn=new Promise((Ke,Ge)=>{try{const at=indexedDB.open(qt,Pn);at.onsuccess=Mt=>{Ke(Mt.target.result)},at.onerror=Mt=>{var Gt;Ge(Ze.create("storage-open",{originalErrorMessage:null===(Gt=Mt.target.error)||void 0===Gt?void 0:Gt.message}))},at.onupgradeneeded=Mt=>{0===Mt.oldVersion&&Mt.target.result.createObjectStore(Tn,{keyPath:"compositeKey"})}}catch(at){Ge(Ze.create("storage-open",{originalErrorMessage:null==at?void 0:at.message}))}}),yn)}()).transaction(Tn,"readwrite"),nn=Mt.objectStore(Tn).put({compositeKey:Ke,value:Ge});return new Promise((Mn,Hn)=>{nn.onsuccess=ur=>{Mn()},Mt.onerror=ur=>{var Qr;Hn(Ze.create("storage-set",{originalErrorMessage:null===(Qr=ur.target.error)||void 0===Qr?void 0:Qr.message}))}})})).apply(this,arguments)}const Rn=new be.Yd("@firebase/app-check");function Hr(Ke,Ge){return(0,Le.hl)()?function _r(Ke,Ge){return function kn(Ke,Ge){return Mr.apply(this,arguments)}(function en(Ke){return`${Ke.options.appId}-${Ke.name}`}(Ke),Ge)}(Ke,Ge).catch(at=>{Rn.warn(`Failed to write token to IndexedDB. Error: ${at}`)}):Promise.resolve()}function Xr(){return ct().enabled}function Ei(){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,Qe.Z)(function*(){const Ke=ct();if(Ke.enabled&&Ke.token)return Ke.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Dt={error:"UNKNOWN_ERROR"};function Ve(Ke){return Le.US.encodeString(JSON.stringify(Ke),!1)}function Et(Ke){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,Qe.Z)(function*(Ke,Ge=!1){const at=Ke.app;kt(at);const Mt=Je(at);let nn,Gt=Mt.token;if(Gt&&!ne(Gt)&&(Mt.token=void 0,Gt=void 0),!Gt){const ur=yield Mt.cachedTokenPromise;ur&&(ne(ur)?Gt=ur:yield Hr(at,void 0))}if(!Ge&&Gt&&ne(Gt))return{token:Gt.token};let Hn,Mn=!1;if(Xr()){Mt.exchangeTokenPromise||(Mt.exchangeTokenPromise=dt(In(at,yield Ei()),Ke.heartbeatServiceProvider).finally(()=>{Mt.exchangeTokenPromise=void 0}),Mn=!0);const ur=yield Mt.exchangeTokenPromise;return yield Hr(at,ur),Mt.token=ur,{token:ur.token}}try{Mt.exchangeTokenPromise||(Mt.exchangeTokenPromise=Mt.provider.getToken().finally(()=>{Mt.exchangeTokenPromise=void 0}),Mn=!0),Gt=yield Je(at).exchangeTokenPromise}catch(ur){"appCheck/throttled"===ur.code?Rn.warn(ur.message):Rn.error(ur),nn=ur}return Gt?nn?Hn=ne(Gt)?{token:Gt.token,internalError:nn}:Ye(nn):(Hn={token:Gt.token},Mt.token=Gt,yield Hr(at,Gt)):Hn=Ye(nn),Mn&&function Ae(Ke,Ge){const at=Je(Ke).tokenObservers;for(const Mt of at)try{"EXTERNAL"===Mt.type&&null!=Ge.error?Mt.error(Ge.error):Mt.next(Ge)}catch{}}(at,Hn),Hn})).apply(this,arguments)}function tn(Ke){return mn.apply(this,arguments)}function mn(){return(mn=(0,Qe.Z)(function*(Ke){const Ge=Ke.app;kt(Ge);const{provider:at}=Je(Ge);if(Xr()){const Mt=yield Ei(),{token:Gt}=yield dt(In(Ge,Mt),Ke.heartbeatServiceProvider);return{token:Gt}}{const{token:Mt}=yield at.getToken();return{token:Mt}}})).apply(this,arguments)}function Pe(Ke,Ge){const at=Je(Ke),Mt=at.tokenObservers.filter(Gt=>Gt.next!==Ge);0===Mt.length&&at.tokenRefresher&&at.tokenRefresher.isRunning()&&at.tokenRefresher.stop(),at.tokenObservers=Mt}function te(Ke){const{app:Ge}=Ke,at=Je(Ge);let Mt=at.tokenRefresher;Mt||(Mt=function X(Ke){const{app:Ge}=Ke;return new Oe((0,Qe.Z)(function*(){let Mt;if(Mt=Je(Ge).token?yield Et(Ke,!0):yield Et(Ke),Mt.error)throw Mt.error;if(Mt.internalError)throw Mt.internalError}),()=>!0,()=>{const at=Je(Ge);if(at.token){let Mt=at.token.issuedAtTimeMillis+.5*(at.token.expireTimeMillis-at.token.issuedAtTimeMillis)+3e5;return Mt=Math.min(Mt,at.token.expireTimeMillis-3e5),Math.max(0,Mt-Date.now())}return 0},ae.RETRIAL_MIN_WAIT,ae.RETRIAL_MAX_WAIT)}(Ke),at.tokenRefresher=Mt),!Mt.isRunning()&&at.isTokenAutoRefreshEnabled&&Mt.start()}function ne(Ke){return Ke.expireTimeMillis-Date.now()>0}function Ye(Ke){return{token:Ve(Dt),error:Ke}}class _t{constructor(Ge,at){this.app=Ge,this.heartbeatServiceProvider=at}_delete(){const{tokenObservers:Ge}=Je(this.app);for(const at of Ge)Pe(this.app,at.next);return Promise.resolve()}}const cr="app-check-internal";!function ji(){(0,we._registerComponent)(new ke.wA("app-check",Ke=>function jt(Ke,Ge){return new _t(Ke,Ge)}(Ke.getProvider("app").getImmediate(),Ke.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ke,Ge,at)=>{Ke.getProvider(cr).initialize()})),(0,we._registerComponent)(new ke.wA(cr,Ke=>function dn(Ke){return{getToken:Ge=>Et(Ke,Ge),getLimitedUseToken:()=>tn(Ke),addTokenListener:Ge=>function On(Ke,Ge,at,Mt){const{app:Gt}=Ke,nn=Je(Gt);if(nn.tokenObservers=[...nn.tokenObservers,{next:at,error:Mt,type:Ge}],nn.token&&ne(nn.token)){const Hn=nn.token;Promise.resolve().then(()=>{at({token:Hn.token}),te(Ke)}).catch(()=>{})}nn.cachedTokenPromise.then(()=>te(Ke))}(Ke,"INTERNAL",Ge),removeTokenListener:Ge=>Pe(Ke.app,Ge)}}(Ke.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,we.registerVersion)("@firebase/app-check","0.8.0")}();class Hi{constructor(){return(0,g.vb)("app-check")}}typeof window<"u"&&window},6796:(Jt,nt,N)=>{"use strict";N.d(nt,{zQ:()=>Pt,ww:()=>Tt,rT:()=>Be,f7:()=>je,L6:()=>Z,_Q:()=>me,lh:()=>Je,Qv:()=>be,nw:()=>ct});var g=N(5879),m=N(8645),K=N(2096),re=N(5592),Se=N(2459),Te=N(3019),de=N(3093),He=N(4664),Ne=N(7398),he=N(4552);class oe extends m.x{constructor(We=1/0,ae=1/0,ge=he.l){super(),this._bufferSize=We,this._windowTime=ae,this._timestampProvider=ge,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ae===1/0,this._bufferSize=Math.max(1,We),this._windowTime=Math.max(1,ae)}next(We){const{isStopped:ae,_buffer:ge,_infiniteTimeWindow:Oe,_timestampProvider:ze,_windowTime:tt}=this;ae||(ge.push(We),!Oe&&ge.push(ze.now()+tt)),this._trimBuffer(),super.next(We)}_subscribe(We){this._throwIfClosed(),this._trimBuffer();const ae=this._innerSubscribe(We),{_infiniteTimeWindow:ge,_buffer:Oe}=this,ze=Oe.slice();for(let tt=0;tt<ze.length&&!We.closed;tt+=ge?1:2)We.next(ze[tt]);return this._checkFinalizedStatuses(We),ae}_trimBuffer(){const{_bufferSize:We,_timestampProvider:ae,_buffer:ge,_infiniteTimeWindow:Oe}=this,ze=(Oe?1:2)*We;if(We<1/0&&ze<ge.length&&ge.splice(0,ge.length-ze),!Oe){const tt=ae.now();let Ze=0;for(let Nt=1;Nt<ge.length&&ge[Nt]<=tt;Nt+=2)Ze=Nt;Ze&&ge.splice(0,Ze+1)}}}var Me=N(3020);function Ee(Lt,We,ae){let ge,Oe=!1;return Lt&&"object"==typeof Lt?({bufferSize:ge=1/0,windowTime:We=1/0,refCount:Oe=!1,scheduler:ae}=Lt):ge=null!=Lt?Lt:1/0,(0,Me.B)({connector:()=>new oe(ge,We,ae),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Oe})}var Re=N(1374),$e=N(4674);function lt(Lt,We){return(0,$e.m)(We)?(0,He.w)(()=>Lt,We):(0,He.w)(()=>Lt)}var De=N(5137),_e=N(2181),et=N(2793),ut=N(6304),Qe=N(6814),we=N(14),ke=N(120);const be=new g.OlP("angularfire2.auth.use-emulator"),Z=new g.OlP("angularfire2.auth.settings"),me=new g.OlP("angularfire2.auth.tenant-id"),Be=new g.OlP("angularfire2.auth.langugage-code"),Je=new g.OlP("angularfire2.auth.use-device-language"),je=new g.OlP("angularfire.auth.persistence"),ct=(Lt,We,ae,ge,Oe,ze,tt,Ze)=>(0,ut.cc)(`${Lt.name}.auth`,"AngularFireAuth",Lt.name,()=>{const Nt=We.runOutsideAngular(()=>Lt.auth());if(ae&&Nt.useEmulator(...ae),ge&&(Nt.tenantId=ge),Nt.languageCode=Oe,ze&&Nt.useDeviceLanguage(),tt)for(const[kt,It]of Object.entries(tt))Nt.settings[kt]=It;return Ze&&Nt.setPersistence(Ze),Nt},[ae,ge,Oe,ze,tt,Ze]);let Pt=(()=>{class Lt{constructor(ae,ge,Oe,ze,tt,Ze,Nt,kt,It,pe,dt,mt){const St=new m.x,Zt=(0,K.of)(void 0).pipe((0,de.Q)(tt.outsideAngular),(0,He.w)(()=>ze.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,8977)))),(0,Ne.U)(()=>(0,ut.on)(ae,ze,ge)),(0,Ne.U)(In=>ct(In,ze,Ze,kt,It,pe,Nt,dt)),Ee({bufferSize:1,refCount:!1}));if((0,Qe.PM)(Oe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,K.of)(null);else{Zt.pipe((0,Re.P)()).subscribe();const qt=Zt.pipe((0,He.w)(En=>En.getRedirectResult().then(yn=>yn,()=>null)),et.iC,Ee({bufferSize:1,refCount:!1})),Pn=Zt.pipe((0,He.w)(En=>new re.y(yn=>({unsubscribe:ze.runOutsideAngular(()=>En.onAuthStateChanged(Nn=>yn.next(Nn),Nn=>yn.error(Nn),()=>yn.complete()))})))),Tn=Zt.pipe((0,He.w)(En=>new re.y(yn=>({unsubscribe:ze.runOutsideAngular(()=>En.onIdTokenChanged(Nn=>yn.next(Nn),Nn=>yn.error(Nn),()=>yn.complete()))}))));this.authState=qt.pipe(lt(Pn),(0,De.R)(tt.outsideAngular),(0,de.Q)(tt.insideAngular)),this.user=qt.pipe(lt(Tn),(0,De.R)(tt.outsideAngular),(0,de.Q)(tt.insideAngular)),this.idToken=this.user.pipe((0,He.w)(En=>En?(0,Se.D)(En.getIdToken()):(0,K.of)(null))),this.idTokenResult=this.user.pipe((0,He.w)(En=>En?(0,Se.D)(En.getIdTokenResult()):(0,K.of)(null))),this.credential=(0,Te.T)(qt,St,this.authState.pipe((0,_e.h)(En=>!En))).pipe((0,Ne.U)(En=>null!=En&&En.user?En:null),(0,De.R)(tt.outsideAngular),(0,de.Q)(tt.insideAngular))}return(0,ut.pX)(this,Zt,ze,{spy:{apply:(In,qt,Pn)=>{(In.startsWith("signIn")||In.startsWith("createUser"))&&Pn.then(Tn=>St.next(Tn))}}})}}return Lt.\u0275fac=function(ae){return new(ae||Lt)(g.LFG(ut.Dh),g.LFG(ut.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(et.HU),g.LFG(be,8),g.LFG(Z,8),g.LFG(me,8),g.LFG(Be,8),g.LFG(Je,8),g.LFG(je,8),g.LFG(we.nm,8))},Lt.\u0275prov=g.Yz7({token:Lt,factory:Lt.\u0275fac,providedIn:"any"}),Lt})(),Tt=(()=>{class Lt{constructor(){ke.Z.registerVersion("angularfire",et.q4.full,"auth-compat")}}return Lt.\u0275fac=function(ae){return new(ae||Lt)},Lt.\u0275mod=g.oAB({type:Lt}),Lt.\u0275inj=g.cJS({providers:[Pt]}),Lt})()},6304:(Jt,nt,N)=>{"use strict";N.d(nt,{Dh:()=>He,GT:()=>Te,cc:()=>Re,hO:()=>Ee,on:()=>he,pX:()=>Se,xv:()=>Ne});var g=N(5879),m=N(120),K=N(2793);Jt=N.hmd(Jt);const re=["ngOnDestroy"],Se=(_e,et,ut,Qe={})=>new Proxy(_e,{get:(we,ke)=>ut.runOutsideAngular(()=>{var Le;if(_e[ke])return!(null===(Le=null==Qe?void 0:Qe.spy)||void 0===Le)&&Le.get&&Qe.spy.get(ke,_e[ke]),_e[ke];if(re.indexOf(ke)>-1)return()=>{};const be=et.toPromise().then(Z=>{const me=Z&&Z[ke];return"function"==typeof me?me.bind(Z):me&&me.then?me.then(Be=>ut.run(()=>Be)):ut.run(()=>me)});return new Proxy(()=>{},{get:(Z,me)=>be[me],apply:(Z,me,Be)=>be.then(Je=>{var je;const ct=Je&&Je(...Be);return!(null===(je=null==Qe?void 0:Qe.spy)||void 0===je)&&je.apply&&Qe.spy.apply(ke,Be,ct),ct})})})}),Te=(_e,et)=>{et.forEach(ut=>{Object.getOwnPropertyNames(ut.prototype||ut).forEach(Qe=>{Object.defineProperty(_e.prototype,Qe,Object.getOwnPropertyDescriptor(ut.prototype||ut,Qe))})})};class de{constructor(et){return et}}const He=new g.OlP("angularfire2.app.options"),Ne=new g.OlP("angularfire2.app.name");function he(_e,et,ut){const we="object"==typeof ut&&ut||{};we.name=we.name||"string"==typeof ut&&ut||"[DEFAULT]";const Le=m.Z.apps.filter(be=>be&&be.name===we.name)[0]||et.runOutsideAngular(()=>m.Z.initializeApp(_e,we));try{JSON.stringify(_e)!==JSON.stringify(Le.options)&&oe("error",`${Le.name} Firebase App already initialized with different options${Jt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new de(Le)}const oe=(_e,...et)=>{(0,g.X6Q)()&&typeof console<"u"&&console[_e](...et)},Me={provide:de,useFactory:he,deps:[He,g.R0b,[new g.FiY,Ne]]};let Ee=(()=>{class _e{constructor(ut){m.Z.registerVersion("angularfire",K.q4.full,"core"),m.Z.registerVersion("angularfire",K.q4.full,"app-compat"),m.Z.registerVersion("angular",g.q4F.full,ut.toString())}static initializeApp(ut,Qe){return{ngModule:_e,providers:[{provide:He,useValue:ut},{provide:Ne,useValue:Qe}]}}}return _e.\u0275fac=function(ut){return new(ut||_e)(g.LFG(g.Lbi))},_e.\u0275mod=g.oAB({type:_e}),_e.\u0275inj=g.cJS({providers:[Me]}),_e})();function Re(_e,et,ut,Qe,we){const[,ke,Le]=globalThis.\u0275AngularfireInstanceCache.find(be=>be[0]===_e)||[];if(ke)return function $e(_e,et){try{return _e.toString()===et.toString()}catch{return _e===et}}(we,Le)||(De("error",`${et} was already initialized on the ${ut} Firebase App with different settings.${lt?" You may need to reload as Firebase is not HMR aware.":""}`),De("warn",{is:we,was:Le})),ke;{const be=Qe();return globalThis.\u0275AngularfireInstanceCache.push([_e,be,we]),be}}const lt=!!Jt.hot,De=(_e,...et)=>{(0,g.X6Q)()&&typeof console<"u"&&console[_e](...et)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(Jt,nt,N)=>{"use strict";N.d(nt,{q4:()=>Tl,iC:()=>Xh,fc:()=>Iu,HU:()=>Va,vb:()=>rl,JM:()=>$o});var g=N(5879),m=N(4097),K=N(5861),re=N(4303),Se=N(9058),Te=N(4537),de=N(7879);const He=(S,x)=>x.some(G=>S instanceof G);let Ne,he;const Ee=new WeakMap,Re=new WeakMap,$e=new WeakMap,lt=new WeakMap,De=new WeakMap;let ut={get(S,x,G){if(S instanceof IDBTransaction){if("done"===x)return Re.get(S);if("objectStoreNames"===x)return S.objectStoreNames||$e.get(S);if("store"===x)return G.objectStoreNames[1]?void 0:G.objectStore(G.objectStoreNames[0])}return Le(S[x])},set:(S,x,G)=>(S[x]=G,!0),has:(S,x)=>S instanceof IDBTransaction&&("done"===x||"store"===x)||x in S};function ke(S){return"function"==typeof S?function we(S){return S!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Me(){return he||(he=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(S)?function(...x){return S.apply(be(this),x),Le(Ee.get(this))}:function(...x){return Le(S.apply(be(this),x))}:function(x,...G){const ve=S.call(be(this),x,...G);return $e.set(ve,x.sort?x.sort():[x]),Le(ve)}}(S):(S instanceof IDBTransaction&&function et(S){if(Re.has(S))return;const x=new Promise((G,ve)=>{const Xe=()=>{S.removeEventListener("complete",rt),S.removeEventListener("error",At),S.removeEventListener("abort",At)},rt=()=>{G(),Xe()},At=()=>{ve(S.error||new DOMException("AbortError","AbortError")),Xe()};S.addEventListener("complete",rt),S.addEventListener("error",At),S.addEventListener("abort",At)});Re.set(S,x)}(S),He(S,function oe(){return Ne||(Ne=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(S,ut):S)}function Le(S){if(S instanceof IDBRequest)return function _e(S){const x=new Promise((G,ve)=>{const Xe=()=>{S.removeEventListener("success",rt),S.removeEventListener("error",At)},rt=()=>{G(Le(S.result)),Xe()},At=()=>{ve(S.error),Xe()};S.addEventListener("success",rt),S.addEventListener("error",At)});return x.then(G=>{G instanceof IDBCursor&&Ee.set(G,S)}).catch(()=>{}),De.set(x,S),x}(S);if(lt.has(S))return lt.get(S);const x=ke(S);return x!==S&&(lt.set(S,x),De.set(x,S)),x}const be=S=>De.get(S),Be=["get","getKey","getAll","getAllKeys","count"],Je=["put","add","delete","clear"],je=new Map;function ct(S,x){if(!(S instanceof IDBDatabase)||x in S||"string"!=typeof x)return;if(je.get(x))return je.get(x);const G=x.replace(/FromIndex$/,""),ve=x!==G,Xe=Je.includes(G);if(!(G in(ve?IDBIndex:IDBObjectStore).prototype)||!Xe&&!Be.includes(G))return;const rt=function(){var At=(0,K.Z)(function*(bn,...un){const Fn=this.transaction(bn,Xe?"readwrite":"readonly");let lr=Fn.store;return ve&&(lr=lr.index(un.shift())),(yield Promise.all([lr[G](...un),Xe&&Fn.done]))[0]});return function(un){return At.apply(this,arguments)}}();return je.set(x,rt),rt}!function Qe(S){ut=S(ut)}(S=>({...S,get:(x,G,ve)=>ct(x,G)||S.get(x,G,ve),has:(x,G)=>!!ct(x,G)||S.has(x,G)}));const Pt="@firebase/installations",Tt="0.6.4",Lt=1e4,We=`w:${Tt}`,ae="FIS_v2",ge="https://firebaseinstallations.googleapis.com/v1",Oe=36e5,Nt=new Se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function kt(S){return S instanceof Se.ZR&&S.code.includes("request-failed")}function It({projectId:S}){return`${ge}/projects/${S}/installations`}function pe(S){return{token:S.token,requestStatus:2,expiresIn:Pn(S.expiresIn),creationTime:Date.now()}}function dt(S,x){return mt.apply(this,arguments)}function mt(){return(mt=(0,K.Z)(function*(S,x){const ve=(yield x.json()).error;return Nt.create("request-failed",{requestName:S,serverCode:ve.code,serverMessage:ve.message,serverStatus:ve.status})})).apply(this,arguments)}function St({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function In(S){return qt.apply(this,arguments)}function qt(){return(qt=(0,K.Z)(function*(S){const x=yield S();return x.status>=500&&x.status<600?S():x})).apply(this,arguments)}function Pn(S){return Number(S.replace("s","000"))}function yn(){return(yn=(0,K.Z)(function*({appConfig:S,heartbeatServiceProvider:x},{fid:G}){const ve=It(S),Xe=St(S),rt=x.getImmediate({optional:!0});if(rt){const Fn=yield rt.getHeartbeatsHeader();Fn&&Xe.append("x-firebase-client",Fn)}const bn={method:"POST",headers:Xe,body:JSON.stringify({fid:G,authVersion:ae,appId:S.appId,sdkVersion:We})},un=yield In(()=>fetch(ve,bn));if(un.ok){const Fn=yield un.json();return{fid:Fn.fid||G,registrationStatus:2,refreshToken:Fn.refreshToken,authToken:pe(Fn.authToken)}}throw yield dt("Create Installation",un)})).apply(this,arguments)}function Nn(S){return new Promise(x=>{setTimeout(x,S)})}const _r=/^[cdef][\w-]{21}$/,Ar="";function Qt(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const G=function kn(S){return function Zr(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return _r.test(G)?G:Ar}catch{return Ar}}function Mr(S){return`${S.appName}!${S.appId}`}const qn=new Map;function fr(S,x){const G=Mr(S);Bt(G,x),function Qn(S,x){const G=function Jn(){return!Hr&&"BroadcastChannel"in self&&(Hr=new BroadcastChannel("[Firebase] FID Change"),Hr.onmessage=S=>{Bt(S.data.key,S.data.fid)}),Hr}();G&&G.postMessage({key:S,fid:x}),function ci(){0===qn.size&&Hr&&(Hr.close(),Hr=null)}()}(G,x)}function Bt(S,x){const G=qn.get(S);if(G)for(const ve of G)ve(x)}let Hr=null;const Xr="firebase-installations-database",Ei=1,Ir="firebase-installations-store";let pi=null;function Dt(){return pi||(pi=function Z(S,x,{blocked:G,upgrade:ve,blocking:Xe,terminated:rt}={}){const At=indexedDB.open(S,x),bn=Le(At);return ve&&At.addEventListener("upgradeneeded",un=>{ve(Le(At.result),un.oldVersion,un.newVersion,Le(At.transaction))}),G&&At.addEventListener("blocked",()=>G()),bn.then(un=>{rt&&un.addEventListener("close",()=>rt()),Xe&&un.addEventListener("versionchange",()=>Xe())}).catch(()=>{}),bn}(Xr,Ei,{upgrade:(S,x)=>{0===x&&S.createObjectStore(Ir)}})),pi}function Ve(S,x){return Et.apply(this,arguments)}function Et(){return(Et=(0,K.Z)(function*(S,x){const G=Mr(S),Xe=(yield Dt()).transaction(Ir,"readwrite"),rt=Xe.objectStore(Ir),At=yield rt.get(G);return yield rt.put(x,G),yield Xe.done,(!At||At.fid!==x.fid)&&fr(S,x.fid),x})).apply(this,arguments)}function Yt(S){return tn.apply(this,arguments)}function tn(){return(tn=(0,K.Z)(function*(S){const x=Mr(S),ve=(yield Dt()).transaction(Ir,"readwrite");yield ve.objectStore(Ir).delete(x),yield ve.done})).apply(this,arguments)}function mn(S,x){return On.apply(this,arguments)}function On(){return(On=(0,K.Z)(function*(S,x){const G=Mr(S),Xe=(yield Dt()).transaction(Ir,"readwrite"),rt=Xe.objectStore(Ir),At=yield rt.get(G),bn=x(At);return void 0===bn?yield rt.delete(G):yield rt.put(bn,G),yield Xe.done,bn&&(!At||At.fid!==bn.fid)&&fr(S,bn.fid),bn})).apply(this,arguments)}function Pe(S){return te.apply(this,arguments)}function te(){return te=(0,K.Z)(function*(S){let x;const G=yield mn(S.appConfig,ve=>{const Xe=function X(S){return jn(S||{fid:Qt(),registrationStatus:0})}(ve),rt=function Ae(S,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject(Nt.create("app-offline"))};const G={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},ve=function ne(S,x){return Ye.apply(this,arguments)}(S,G);return{installationEntry:G,registrationPromise:ve}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:_t(S)}:{installationEntry:x}}(S,Xe);return x=rt.registrationPromise,rt.installationEntry});return G.fid===Ar?{installationEntry:yield x}:{installationEntry:G,registrationPromise:x}}),te.apply(this,arguments)}function Ye(){return Ye=(0,K.Z)(function*(S,x){try{const G=yield function En(S,x){return yn.apply(this,arguments)}(S,x);return Ve(S.appConfig,G)}catch(G){throw kt(G)&&409===G.customData.serverCode?yield Yt(S.appConfig):yield Ve(S.appConfig,{fid:x.fid,registrationStatus:0}),G}}),Ye.apply(this,arguments)}function _t(S){return jt.apply(this,arguments)}function jt(){return(jt=(0,K.Z)(function*(S){let x=yield dn(S.appConfig);for(;1===x.registrationStatus;)yield Nn(100),x=yield dn(S.appConfig);if(0===x.registrationStatus){const{installationEntry:G,registrationPromise:ve}=yield Pe(S);return ve||G}return x})).apply(this,arguments)}function dn(S){return mn(S,x=>{if(!x)throw Nt.create("installation-not-found");return jn(x)})}function jn(S){return function Dn(S){return 1===S.registrationStatus&&S.registrationTime+Lt<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function Pr(){return(Pr=(0,K.Z)(function*({appConfig:S,heartbeatServiceProvider:x},G){const ve=function Dr(S,{fid:x}){return`${It(S)}/${x}/authTokens:generate`}(S,G),Xe=function Zt(S,{refreshToken:x}){const G=St(S);return G.append("Authorization",function Tn(S){return`${ae} ${S}`}(x)),G}(S,G),rt=x.getImmediate({optional:!0});if(rt){const Fn=yield rt.getHeartbeatsHeader();Fn&&Xe.append("x-firebase-client",Fn)}const bn={method:"POST",headers:Xe,body:JSON.stringify({installation:{sdkVersion:We,appId:S.appId}})},un=yield In(()=>fetch(ve,bn));if(un.ok)return pe(yield un.json());throw yield dt("Generate Auth Token",un)})).apply(this,arguments)}function Ni(S){return Vi.apply(this,arguments)}function Vi(){return Vi=(0,K.Z)(function*(S,x=!1){let G;const ve=yield mn(S.appConfig,rt=>{if(!Wn(rt))throw Nt.create("not-registered");const At=rt.authToken;if(!x&&function xi(S){return 2===S.requestStatus&&!function Ui(S){const x=Date.now();return x<S.creationTime||S.creationTime+S.expiresIn<x+Oe}(S)}(At))return rt;if(1===At.requestStatus)return G=function xr(S,x){return Zn.apply(this,arguments)}(S,x),rt;{if(!navigator.onLine)throw Nt.create("app-offline");const bn=function to(S){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:x})}(rt);return G=function bi(S,x){return ri.apply(this,arguments)}(S,bn),bn}});return G?yield G:ve.authToken}),Vi.apply(this,arguments)}function Zn(){return(Zn=(0,K.Z)(function*(S,x){let G=yield Nr(S.appConfig);for(;1===G.authToken.requestStatus;)yield Nn(100),G=yield Nr(S.appConfig);const ve=G.authToken;return 0===ve.requestStatus?Ni(S,x):ve})).apply(this,arguments)}function Nr(S){return mn(S,x=>{if(!Wn(x))throw Nt.create("not-registered");return function ui(S){return 1===S.requestStatus&&S.requestTime+Lt<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function ri(){return ri=(0,K.Z)(function*(S,x){try{const G=yield function zn(S,x){return Pr.apply(this,arguments)}(S,x),ve=Object.assign(Object.assign({},x),{authToken:G});return yield Ve(S.appConfig,ve),G}catch(G){if(!kt(G)||401!==G.customData.serverCode&&404!==G.customData.serverCode){const ve=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield Ve(S.appConfig,ve)}else yield Yt(S.appConfig);throw G}}),ri.apply(this,arguments)}function Wn(S){return void 0!==S&&2===S.registrationStatus}function Er(){return(Er=(0,K.Z)(function*(S){const x=S,{installationEntry:G,registrationPromise:ve}=yield Pe(x);return ve?ve.catch(console.error):Ni(x).catch(console.error),G.fid})).apply(this,arguments)}function Co(){return Co=(0,K.Z)(function*(S,x=!1){const G=S;return yield function so(S){return Ri.apply(this,arguments)}(G),(yield Ni(G,x)).token}),Co.apply(this,arguments)}function Ri(){return(Ri=(0,K.Z)(function*(S){const{registrationPromise:x}=yield Pe(S);x&&(yield x)})).apply(this,arguments)}function Lr(S){return Nt.create("missing-app-config-values",{valueName:S})}const Q="installations",ye=S=>{const x=S.getProvider("app").getImmediate(),G=function Hi(S){if(!S||!S.options)throw Lr("App Configuration");if(!S.name)throw Lr("App Name");const x=["projectId","apiKey","appId"];for(const G of x)if(!S.options[G])throw Lr(G);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(x);return{app:x,appConfig:G,heartbeatServiceProvider:(0,re._getProvider)(x,"heartbeat"),_delete:()=>Promise.resolve()}},xe=S=>{const x=S.getProvider("app").getImmediate(),G=(0,re._getProvider)(x,Q).getImmediate();return{getId:()=>function ii(S){return Er.apply(this,arguments)}(G),getToken:Xe=>function nr(S){return Co.apply(this,arguments)}(G,Xe)}};(function pt(){(0,re._registerComponent)(new Te.wA(Q,ye,"PUBLIC")),(0,re._registerComponent)(new Te.wA("installations-internal",xe,"PRIVATE"))})(),(0,re.registerVersion)(Pt,Tt),(0,re.registerVersion)(Pt,Tt,"esm2017");const st="@firebase/remote-config",sn=new Se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class on{constructor(x,G,ve,Xe){this.client=x,this.storage=G,this.storageCache=ve,this.logger=Xe}isCachedDataFresh(x,G){if(!G)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ve=Date.now()-G,Xe=ve<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ve}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${Xe}.`),Xe}fetch(x){var G=this;return(0,K.Z)(function*(){const[ve,Xe]=yield Promise.all([G.storage.getLastSuccessfulFetchTimestampMillis(),G.storage.getLastSuccessfulFetchResponse()]);if(Xe&&G.isCachedDataFresh(x.cacheMaxAgeMillis,ve))return Xe;x.eTag=Xe&&Xe.eTag;const rt=yield G.client.fetch(x),At=[G.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===rt.status&&At.push(G.storage.setLastSuccessfulFetchResponse(rt)),yield Promise.all(At),rt})()}}function er(S=navigator){return S.languages&&S.languages[0]||S.language}class Tr{constructor(x,G,ve,Xe,rt,At){this.firebaseInstallations=x,this.sdkVersion=G,this.namespace=ve,this.projectId=Xe,this.apiKey=rt,this.appId=At}fetch(x){var G=this;return(0,K.Z)(function*(){const[ve,Xe]=yield Promise.all([G.firebaseInstallations.getId(),G.firebaseInstallations.getToken()]),At=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${G.projectId}/namespaces/${G.namespace}:fetch?key=${G.apiKey}`,bn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},un={sdk_version:G.sdkVersion,app_instance_id:ve,app_instance_id_token:Xe,app_id:G.appId,language_code:er()},Fn={method:"POST",headers:bn,body:JSON.stringify(un)},lr=fetch(At,Fn),mr=new Promise((ua,Js)=>{x.signal.addEventListener(()=>{const wu=new Error("The operation was aborted.");wu.name="AbortError",Js(wu)})});let As;try{yield Promise.race([lr,mr]),As=yield lr}catch(ua){let Js="fetch-client-network";throw"AbortError"===(null==ua?void 0:ua.name)&&(Js="fetch-timeout"),sn.create(Js,{originalErrorMessage:null==ua?void 0:ua.message})}let wo=As.status;const po=As.headers.get("ETag")||void 0;let Ml,Fs;if(200===As.status){let ua;try{ua=yield As.json()}catch(Js){throw sn.create("fetch-client-parse",{originalErrorMessage:null==Js?void 0:Js.message})}Ml=ua.entries,Fs=ua.state}if("INSTANCE_STATE_UNSPECIFIED"===Fs?wo=500:"NO_CHANGE"===Fs?wo=304:("NO_TEMPLATE"===Fs||"EMPTY_CONFIG"===Fs)&&(Ml={}),304!==wo&&200!==wo)throw sn.create("fetch-status",{httpStatus:wo});return{status:wo,eTag:po,config:Ml}})()}}class Di{constructor(x,G){this.client=x,this.storage=G}fetch(x){var G=this;return(0,K.Z)(function*(){const ve=(yield G.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return G.attemptFetch(x,ve)})()}attemptFetch(x,{throttleEndTimeMillis:G,backoffCount:ve}){var Xe=this;return(0,K.Z)(function*(){yield function zi(S,x){return new Promise((G,ve)=>{const Xe=Math.max(x-Date.now(),0),rt=setTimeout(G,Xe);S.addEventListener(()=>{clearTimeout(rt),ve(sn.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,G);try{const rt=yield Xe.client.fetch(x);return yield Xe.storage.deleteThrottleMetadata(),rt}catch(rt){if(!function So(S){if(!(S instanceof Se.ZR&&S.customData))return!1;const x=Number(S.customData.httpStatus);return 429===x||500===x||503===x||504===x}(rt))throw rt;const At={throttleEndTimeMillis:Date.now()+(0,Se.$s)(ve),backoffCount:ve+1};return yield Xe.storage.setThrottleMetadata(At),Xe.attemptFetch(x,At)}})()}}class yo{constructor(x,G,ve,Xe,rt){this.app=x,this._client=G,this._storageCache=ve,this._storage=Xe,this._logger=rt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function oi(S,x){const G=S.target.error||void 0;return sn.create(x,{originalErrorMessage:G&&(null==G?void 0:G.message)})}const $n="app_namespace_store";class di{constructor(x,G,ve,Xe=function Mo(){return new Promise((S,x)=>{try{const G=indexedDB.open("firebase_remote_config",1);G.onerror=ve=>{x(oi(ve,"storage-open"))},G.onsuccess=ve=>{S(ve.target.result)},G.onupgradeneeded=ve=>{0===ve.oldVersion&&ve.target.result.createObjectStore($n,{keyPath:"compositeKey"})}}catch(G){x(sn.create("storage-open",{originalErrorMessage:null==G?void 0:G.message}))}})}()){this.appId=x,this.appName=G,this.namespace=ve,this.openDbPromise=Xe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var G=this;return(0,K.Z)(function*(){const ve=yield G.openDbPromise;return new Promise((Xe,rt)=>{const bn=ve.transaction([$n],"readonly").objectStore($n),un=G.createCompositeKey(x);try{const Fn=bn.get(un);Fn.onerror=lr=>{rt(oi(lr,"storage-get"))},Fn.onsuccess=lr=>{const mr=lr.target.result;Xe(mr?mr.value:void 0)}}catch(Fn){rt(sn.create("storage-get",{originalErrorMessage:null==Fn?void 0:Fn.message}))}})})()}set(x,G){var ve=this;return(0,K.Z)(function*(){const Xe=yield ve.openDbPromise;return new Promise((rt,At)=>{const un=Xe.transaction([$n],"readwrite").objectStore($n),Fn=ve.createCompositeKey(x);try{const lr=un.put({compositeKey:Fn,value:G});lr.onerror=mr=>{At(oi(mr,"storage-set"))},lr.onsuccess=()=>{rt()}}catch(lr){At(sn.create("storage-set",{originalErrorMessage:null==lr?void 0:lr.message}))}})})()}delete(x){var G=this;return(0,K.Z)(function*(){const ve=yield G.openDbPromise;return new Promise((Xe,rt)=>{const bn=ve.transaction([$n],"readwrite").objectStore($n),un=G.createCompositeKey(x);try{const Fn=bn.delete(un);Fn.onerror=lr=>{rt(oi(lr,"storage-delete"))},Fn.onsuccess=()=>{Xe()}}catch(Fn){rt(sn.create("storage-delete",{originalErrorMessage:null==Fn?void 0:Fn.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class ms{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,K.Z)(function*(){const G=x.storage.getLastFetchStatus(),ve=x.storage.getLastSuccessfulFetchTimestampMillis(),Xe=x.storage.getActiveConfig(),rt=yield G;rt&&(x.lastFetchStatus=rt);const At=yield ve;At&&(x.lastSuccessfulFetchTimestampMillis=At);const bn=yield Xe;bn&&(x.activeConfig=bn)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function vs(){return _o.apply(this,arguments)}function _o(){return(_o=(0,K.Z)(function*(){if(!(0,Se.hl)())return!1;try{return yield(0,Se.eu)()}catch{return!1}})).apply(this,arguments)}!function gi(){(0,re._registerComponent)(new Te.wA("remote-config",function S(x,{instanceIdentifier:G}){const ve=x.getProvider("app").getImmediate(),Xe=x.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw sn.create("registration-window");if(!(0,Se.hl)())throw sn.create("indexed-db-unavailable");const{projectId:rt,apiKey:At,appId:bn}=ve.options;if(!rt)throw sn.create("registration-project-id");if(!At)throw sn.create("registration-api-key");if(!bn)throw sn.create("registration-app-id");const un=new di(bn,ve.name,G=G||"firebase"),Fn=new ms(un),lr=new de.Yd(st);lr.logLevel=de.in.ERROR;const mr=new Tr(Xe,re.SDK_VERSION,G,rt,At,bn),As=new Di(mr,un),wo=new on(As,un,Fn,lr),po=new yo(ve,wo,Fn,un,lr);return function Mn(S){const x=(0,Se.m9)(S);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(po),po},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(st,"0.4.4"),(0,re.registerVersion)(st,"0.4.4","esm2017")}();const pr=(S,x)=>x.some(G=>S instanceof G);let Wo,Xi;const os=new WeakMap,xo=new WeakMap,Wr=new WeakMap,Gi=new WeakMap,Io=new WeakMap;let ys={get(S,x,G){if(S instanceof IDBTransaction){if("done"===x)return xo.get(S);if("objectStoreNames"===x)return S.objectStoreNames||Wr.get(S);if("store"===x)return G.objectStoreNames[1]?void 0:G.objectStore(G.objectStoreNames[0])}return qi(S[x])},set:(S,x,G)=>(S[x]=G,!0),has:(S,x)=>S instanceof IDBTransaction&&("done"===x||"store"===x)||x in S};function Yo(S){return"function"==typeof S?function Ci(S){return S!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function bs(){return Xi||(Xi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(S)?function(...x){return S.apply(Ro(this),x),qi(os.get(this))}:function(...x){return qi(S.apply(Ro(this),x))}:function(x,...G){const ve=S.call(Ro(this),x,...G);return Wr.set(ve,x.sort?x.sort():[x]),qi(ve)}}(S):(S instanceof IDBTransaction&&function ei(S){if(xo.has(S))return;const x=new Promise((G,ve)=>{const Xe=()=>{S.removeEventListener("complete",rt),S.removeEventListener("error",At),S.removeEventListener("abort",At)},rt=()=>{G(),Xe()},At=()=>{ve(S.error||new DOMException("AbortError","AbortError")),Xe()};S.addEventListener("complete",rt),S.addEventListener("error",At),S.addEventListener("abort",At)});xo.set(S,x)}(S),pr(S,function ir(){return Wo||(Wo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(S,ys):S)}function qi(S){if(S instanceof IDBRequest)return function qo(S){const x=new Promise((G,ve)=>{const Xe=()=>{S.removeEventListener("success",rt),S.removeEventListener("error",At)},rt=()=>{G(qi(S.result)),Xe()},At=()=>{ve(S.error),Xe()};S.addEventListener("success",rt),S.addEventListener("error",At)});return x.then(G=>{G instanceof IDBCursor&&os.set(G,S)}).catch(()=>{}),Io.set(x,S),x}(S);if(Gi.has(S))return Gi.get(S);const x=Yo(S);return x!==S&&(Gi.set(S,x),Io.set(x,S)),x}const Ro=S=>Io.get(S);function Pi(S,x,{blocked:G,upgrade:ve,blocking:Xe,terminated:rt}={}){const At=indexedDB.open(S,x),bn=qi(At);return ve&&At.addEventListener("upgradeneeded",un=>{ve(qi(At.result),un.oldVersion,un.newVersion,qi(At.transaction))}),G&&At.addEventListener("blocked",()=>G()),bn.then(un=>{rt&&un.addEventListener("close",()=>rt()),Xe&&un.addEventListener("versionchange",()=>Xe())}).catch(()=>{}),bn}function _s(S,{blocked:x}={}){const G=indexedDB.deleteDatabase(S);return x&&G.addEventListener("blocked",()=>x()),qi(G).then(()=>{})}const js=["get","getKey","getAll","getAllKeys","count"],ws=["put","add","delete","clear"],ss=new Map;function Hs(S,x){if(!(S instanceof IDBDatabase)||x in S||"string"!=typeof x)return;if(ss.get(x))return ss.get(x);const G=x.replace(/FromIndex$/,""),ve=x!==G,Xe=ws.includes(G);if(!(G in(ve?IDBIndex:IDBObjectStore).prototype)||!Xe&&!js.includes(G))return;const rt=function(){var At=(0,K.Z)(function*(bn,...un){const Fn=this.transaction(bn,Xe?"readwrite":"readonly");let lr=Fn.store;return ve&&(lr=lr.index(un.shift())),(yield Promise.all([lr[G](...un),Xe&&Fn.done]))[0]});return function(un){return At.apply(this,arguments)}}();return ss.set(x,rt),rt}!function Wi(S){ys=S(ys)}(S=>({...S,get:(x,G,ve)=>Hs(x,G)||S.get(x,G,ve),has:(x,G)=>!!Hs(x,G)||S.has(x,G)}));const zs="/firebase-messaging-sw.js",Gs="/firebase-cloud-messaging-push-scope",Na="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",yl="https://fcmregistrations.googleapis.com/v1",hi="google.c.a.c_id",Gl="google.c.a.c_l",Ws="google.c.a.ts";var ie=function(S){return S.PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",S}(ie||{});function j(S){const x=new Uint8Array(S);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function fe(S){const G=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ve=atob(G),Xe=new Uint8Array(ve.length);for(let rt=0;rt<ve.length;++rt)Xe[rt]=ve.charCodeAt(rt);return Xe}const Vt="fcm_token_details_db",y=5,$="fcm_token_object_Store";function k(){return k=(0,K.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(rt=>rt.name).includes(Vt))return null;let x=null;return(yield Pi(Vt,y,{upgrade:(ve=(0,K.Z)(function*(Xe,rt,At,bn){var un;if(rt<2||!Xe.objectStoreNames.contains($))return;const Fn=bn.objectStore($),lr=yield Fn.index("fcmSenderId").get(S);if(yield Fn.clear(),lr)if(2===rt){const mr=lr;if(!mr.auth||!mr.p256dh||!mr.endpoint)return;x={token:mr.fcmToken,createTime:null!==(un=mr.createTime)&&void 0!==un?un:Date.now(),subscriptionOptions:{auth:mr.auth,p256dh:mr.p256dh,endpoint:mr.endpoint,swScope:mr.swScope,vapidKey:"string"==typeof mr.vapidKey?mr.vapidKey:j(mr.vapidKey)}}}else if(3===rt){const mr=lr;x={token:mr.fcmToken,createTime:mr.createTime,subscriptionOptions:{auth:j(mr.auth),p256dh:j(mr.p256dh),endpoint:mr.endpoint,swScope:mr.swScope,vapidKey:j(mr.vapidKey)}}}else if(4===rt){const mr=lr;x={token:mr.fcmToken,createTime:mr.createTime,subscriptionOptions:{auth:j(mr.auth),p256dh:j(mr.p256dh),endpoint:mr.endpoint,swScope:mr.swScope,vapidKey:j(mr.vapidKey)}}}}),function(rt,At,bn,un){return ve.apply(this,arguments)})})).close(),yield _s(Vt),yield _s("fcm_vapid_details_db"),yield _s("undefined"),function se(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:x}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}(x)?x:null;var ve}),k.apply(this,arguments)}const Ct="firebase-messaging-database",hn=1,vn="firebase-messaging-store";let tr=null;function dr(){return tr||(tr=Pi(Ct,hn,{upgrade:(S,x)=>{0===x&&S.createObjectStore(vn)}})),tr}function ki(S){return mi.apply(this,arguments)}function mi(){return mi=(0,K.Z)(function*(S){const x=Zo(S),ve=yield(yield dr()).transaction(vn).objectStore(vn).get(x);if(ve)return ve;{const Xe=yield function I(S){return k.apply(this,arguments)}(S.appConfig.senderId);if(Xe)return yield Oo(S,Xe),Xe}}),mi.apply(this,arguments)}function Oo(S,x){return as.apply(this,arguments)}function as(){return(as=(0,K.Z)(function*(S,x){const G=Zo(S),Xe=(yield dr()).transaction(vn,"readwrite");return yield Xe.objectStore(vn).put(x,G),yield Xe.done,x})).apply(this,arguments)}function Fi(){return(Fi=(0,K.Z)(function*(S){const x=Zo(S),ve=(yield dr()).transaction(vn,"readwrite");yield ve.objectStore(vn).delete(x),yield ve.done})).apply(this,arguments)}function Zo({appConfig:S}){return S.appId}const Ji=new Se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ka(S,x){return pa.apply(this,arguments)}function pa(){return(pa=(0,K.Z)(function*(S,x){const G=yield sa(S),ve=aa(x),Xe={method:"POST",headers:G,body:JSON.stringify(ve)};let rt;try{rt=yield(yield fetch(oa(S.appConfig),Xe)).json()}catch(At){throw Ji.create("token-subscribe-failed",{errorInfo:null==At?void 0:At.toString()})}if(rt.error)throw Ji.create("token-subscribe-failed",{errorInfo:rt.error.message});if(!rt.token)throw Ji.create("token-subscribe-no-token");return rt.token})).apply(this,arguments)}function ga(){return(ga=(0,K.Z)(function*(S,x){const G=yield sa(S),ve=aa(x.subscriptionOptions),Xe={method:"PATCH",headers:G,body:JSON.stringify(ve)};let rt;try{rt=yield(yield fetch(`${oa(S.appConfig)}/${x.token}`,Xe)).json()}catch(At){throw Ji.create("token-update-failed",{errorInfo:null==At?void 0:At.toString()})}if(rt.error)throw Ji.create("token-update-failed",{errorInfo:rt.error.message});if(!rt.token)throw Ji.create("token-update-no-token");return rt.token})).apply(this,arguments)}function Ys(S,x){return ia.apply(this,arguments)}function ia(){return(ia=(0,K.Z)(function*(S,x){const ve={method:"DELETE",headers:yield sa(S)};try{const rt=yield(yield fetch(`${oa(S.appConfig)}/${x}`,ve)).json();if(rt.error)throw Ji.create("token-unsubscribe-failed",{errorInfo:rt.error.message})}catch(Xe){throw Ji.create("token-unsubscribe-failed",{errorInfo:null==Xe?void 0:Xe.toString()})}})).apply(this,arguments)}function oa({projectId:S}){return`${yl}/projects/${S}/registrations`}function sa(S){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,K.Z)(function*({appConfig:S,installations:x}){const G=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${G}`})})).apply(this,arguments)}function aa({p256dh:S,auth:x,endpoint:G,vapidKey:ve}){const Xe={web:{endpoint:G,auth:x,p256dh:S}};return ve!==Na&&(Xe.web.applicationPubKey=ve),Xe}const Ka=6048e5;function Xa(){return Xa=(0,K.Z)(function*(S){const x=yield function Os(S,x){return Bo.apply(this,arguments)}(S.swRegistration,S.vapidKey),G={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:x.endpoint,auth:j(x.getKey("auth")),p256dh:j(x.getKey("p256dh"))},ve=yield ki(S.firebaseDependencies);if(ve){if(function T(S,x){return x.vapidKey===S.vapidKey&&x.endpoint===S.endpoint&&x.auth===S.auth&&x.p256dh===S.p256dh}(ve.subscriptionOptions,G))return Date.now()>=ve.createTime+Ka?function _l(S,x){return ma.apply(this,arguments)}(S,{token:ve.token,createTime:Date.now(),subscriptionOptions:G}):ve.token;try{yield Ys(S.firebaseDependencies,ve.token)}catch(Xe){console.warn(Xe)}return Fa(S.firebaseDependencies,G)}return Fa(S.firebaseDependencies,G)}),Xa.apply(this,arguments)}function Is(){return Is=(0,K.Z)(function*(S){const x=yield ki(S.firebaseDependencies);x&&(yield Ys(S.firebaseDependencies,x.token),yield function Ko(S){return Fi.apply(this,arguments)}(S.firebaseDependencies));const G=yield S.swRegistration.pushManager.getSubscription();return!G||G.unsubscribe()}),Is.apply(this,arguments)}function ma(){return ma=(0,K.Z)(function*(S,x){try{const G=yield function qs(S,x){return ga.apply(this,arguments)}(S.firebaseDependencies,x),ve=Object.assign(Object.assign({},x),{token:G,createTime:Date.now()});return yield Oo(S.firebaseDependencies,ve),G}catch(G){throw yield function Qa(S){return Is.apply(this,arguments)}(S),G}}),ma.apply(this,arguments)}function Fa(S,x){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,K.Z)(function*(S,x){const ve={token:yield ka(S,x),createTime:Date.now(),subscriptionOptions:x};return yield Oo(S,ve),ve.token})).apply(this,arguments)}function Bo(){return(Bo=(0,K.Z)(function*(S,x){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:fe(x)})})).apply(this,arguments)}function V(S){const x={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function Ie(S,x){if(!x.notification)return;S.notification={};const G=x.notification.title;G&&(S.notification.title=G);const ve=x.notification.body;ve&&(S.notification.body=ve);const Xe=x.notification.image;Xe&&(S.notification.image=Xe);const rt=x.notification.icon;rt&&(S.notification.icon=rt)}(x,S),function F(S,x){x.data&&(S.data=x.data)}(x,S),function le(S,x){var G,ve,Xe,rt,At;if(!(x.fcmOptions||null!==(G=x.notification)&&void 0!==G&&G.click_action))return;S.fcmOptions={};const bn=null!==(Xe=null===(ve=x.fcmOptions)||void 0===ve?void 0:ve.link)&&void 0!==Xe?Xe:null===(rt=x.notification)||void 0===rt?void 0:rt.click_action;bn&&(S.fcmOptions.link=bn);const un=null===(At=x.fcmOptions)||void 0===At?void 0:At.analytics_label;un&&(S.fcmOptions.analyticsLabel=un)}(x,S),x}function gt(S,x){const G=[];for(let ve=0;ve<S.length;ve++)G.push(S.charAt(ve)),ve<x.length&&G.push(x.charAt(ve));return G.join("")}function xn(S){return Ji.create("missing-app-config-values",{valueName:S})}gt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),gt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class hr{constructor(x,G,ve){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Xe=function an(S){if(!S||!S.options)throw xn("App Configuration Object");if(!S.name)throw xn("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:G}=S;for(const ve of x)if(!G[ve])throw xn(ve);return{appName:S.name,projectId:G.projectId,apiKey:G.apiKey,appId:G.appId,senderId:G.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:Xe,installations:G,analyticsProvider:ve}}_delete(){return Promise.resolve()}}function Gn(){return(Gn=(0,K.Z)(function*(S){try{S.swRegistration=yield navigator.serviceWorker.register(zs,{scope:Gs}),S.swRegistration.update().catch(()=>{})}catch(x){throw Ji.create("failed-service-worker-registration",{browserErrorMessage:null==x?void 0:x.message})}})).apply(this,arguments)}function Rr(){return(Rr=(0,K.Z)(function*(S,x){if(!x&&!S.swRegistration&&(yield function br(S){return Gn.apply(this,arguments)}(S)),x||!S.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw Ji.create("invalid-sw-registration");S.swRegistration=x}})).apply(this,arguments)}function Ur(){return(Ur=(0,K.Z)(function*(S,x){x?S.vapidKey=x:S.vapidKey||(S.vapidKey=Na)})).apply(this,arguments)}function yi(){return yi=(0,K.Z)(function*(S,x){if(!navigator)throw Ji.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ji.create("permission-blocked");return yield function qr(S,x){return Ur.apply(this,arguments)}(S,null==x?void 0:x.vapidKey),yield function ti(S,x){return Rr.apply(this,arguments)}(S,null==x?void 0:x.serviceWorkerRegistration),function Za(S){return Xa.apply(this,arguments)}(S)}),yi.apply(this,arguments)}function co(){return(co=(0,K.Z)(function*(S,x,G){const ve=function rs(S){switch(S){case ie.NOTIFICATION_CLICKED:return"notification_open";case ie.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(x);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(ve,{message_id:G[hi],message_name:G[Gl],message_time:G[Ws],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ko(){return ko=(0,K.Z)(function*(S,x){const G=x.data;if(!G.isFirebaseMessaging)return;S.onMessageHandler&&G.messageType===ie.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(V(G)):S.onMessageHandler.next(V(G)));const ve=G.data;(function Fe(S){return"object"==typeof S&&!!S&&hi in S})(ve)&&"1"===ve["google.c.a.e"]&&(yield function Vo(S,x,G){return co.apply(this,arguments)}(S,G.messageType,ve))}),ko.apply(this,arguments)}const Ps="@firebase/messaging",va=S=>{const x=new hr(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",G=>function Cs(S,x){return ko.apply(this,arguments)}(x,G)),x},rr=S=>{const x=S.getProvider("messaging").getImmediate();return{getToken:ve=>function vi(S,x){return yi.apply(this,arguments)}(x,ve)}};function hu(){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,K.Z)(function*(){try{yield(0,Se.eu)()}catch{return!1}return typeof window<"u"&&(0,Se.hl)()&&(0,Se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Dc(){(0,re._registerComponent)(new Te.wA("messaging",va,"PUBLIC")),(0,re._registerComponent)(new Te.wA("messaging-internal",rr,"PRIVATE")),(0,re.registerVersion)(Ps,"0.12.4"),(0,re.registerVersion)(Ps,"0.12.4","esm2017")}();const ai="analytics",zt="firebase_id",Br="origin",Xt=6e4,Li="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yr="https://www.googletagmanager.com/gtag/js",io=new de.Yd("@firebase/analytics"),_n=new Se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ya(S){if(!S.startsWith(Yr)){const x=_n.create("invalid-gtag-resource",{gtagURL:S});return io.warn(x.message),""}return S}function wn(S){return Promise.all(S.map(x=>x.catch(G=>G)))}function Ts(){return(Ts=(0,K.Z)(function*(S,x,G,ve,Xe,rt){const At=ve[Xe];try{if(At)yield x[At];else{const un=(yield wn(G)).find(Fn=>Fn.measurementId===Xe);un&&(yield x[un.appId])}}catch(bn){io.error(bn)}S("config",Xe,rt)})).apply(this,arguments)}function _a(){return(_a=(0,K.Z)(function*(S,x,G,ve,Xe){try{let rt=[];if(Xe&&Xe.send_to){let At=Xe.send_to;Array.isArray(At)||(At=[At]);const bn=yield wn(G);for(const un of At){const Fn=bn.find(mr=>mr.measurementId===un),lr=Fn&&x[Fn.appId];if(!lr){rt=[];break}rt.push(lr)}}0===rt.length&&(rt=Object.values(x)),yield Promise.all(rt),S("event",ve,Xe||{})}catch(rt){io.error(rt)}})).apply(this,arguments)}const wd=30,El=new class Ia{constructor(x={},G=1e3){this.throttleMetadata=x,this.intervalMillis=G}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,G){this.throttleMetadata[x]=G}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function ar(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function Kl(){return(Kl=(0,K.Z)(function*(S){var x;const{appId:G,apiKey:ve}=S,Xe={method:"GET",headers:ar(ve)},rt=Li.replace("{app-id}",G),At=yield fetch(rt,Xe);if(200!==At.status&&304!==At.status){let bn="";try{const un=yield At.json();null!==(x=un.error)&&void 0!==x&&x.message&&(bn=un.error.message)}catch{}throw _n.create("config-fetch-failed",{httpStatus:At.status,responseMessage:bn})}return At.json()})).apply(this,arguments)}function Bn(){return(Bn=(0,K.Z)(function*(S,x=El,G){const{appId:ve,apiKey:Xe,measurementId:rt}=S.options;if(!ve)throw _n.create("no-app-id");if(!Xe){if(rt)return{measurementId:rt,appId:ve};throw _n.create("no-api-key")}const At=x.getThrottleMetadata(ve)||{backoffCount:0,throttleEndTimeMillis:Date.now()},bn=new D;return setTimeout((0,K.Z)(function*(){bn.abort()}),void 0!==G?G:Xt),La({appId:ve,apiKey:Xe,measurementId:rt},At,bn,x)})).apply(this,arguments)}function La(S,x,G){return kr.apply(this,arguments)}function kr(){return kr=(0,K.Z)(function*(S,{throttleEndTimeMillis:x,backoffCount:G},ve,Xe=El){var rt;const{appId:At,measurementId:bn}=S;try{yield function pu(S,x){return new Promise((G,ve)=>{const Xe=Math.max(x-Date.now(),0),rt=setTimeout(G,Xe);S.addEventListener(()=>{clearTimeout(rt),ve(_n.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(ve,x)}catch(un){if(bn)return io.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${bn} provided in the "measurementId" field in the local Firebase config. [${null==un?void 0:un.message}]`),{appId:At,measurementId:bn};throw un}try{const un=yield function Ea(S){return Kl.apply(this,arguments)}(S);return Xe.deleteThrottleMetadata(At),un}catch(un){const Fn=un;if(!function b(S){if(!(S instanceof Se.ZR&&S.customData))return!1;const x=Number(S.customData.httpStatus);return 429===x||500===x||503===x||504===x}(Fn)){if(Xe.deleteThrottleMetadata(At),bn)return io.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${bn} provided in the "measurementId" field in the local Firebase config. [${null==Fn?void 0:Fn.message}]`),{appId:At,measurementId:bn};throw un}const lr=503===Number(null===(rt=null==Fn?void 0:Fn.customData)||void 0===rt?void 0:rt.httpStatus)?(0,Se.$s)(G,Xe.intervalMillis,wd):(0,Se.$s)(G,Xe.intervalMillis),mr={throttleEndTimeMillis:Date.now()+lr,backoffCount:G+1};return Xe.setThrottleMetadata(At,mr),io.debug(`Calling attemptFetch again in ${lr} millis`),La(S,mr,ve,Xe)}}),kr.apply(this,arguments)}class D{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}let R,Ti;function L(){return(L=(0,K.Z)(function*(S,x,G,ve,Xe){if(Xe&&Xe.global)S("event",G,ve);else{const rt=yield x;S("event",G,Object.assign(Object.assign({},ve),{send_to:rt}))}})).apply(this,arguments)}function bo(){return(bo=(0,K.Z)(function*(){if(!(0,Se.hl)())return io.warn(_n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Se.eu)()}catch(S){return io.warn(_n.create("indexeddb-unavailable",{errorInfo:null==S?void 0:S.toString()}).message),!1}return!0})).apply(this,arguments)}function Xo(){return Xo=(0,K.Z)(function*(S,x,G,ve,Xe,rt,At){var bn;const un=function $i(S){return Bn.apply(this,arguments)}(S);un.then(wo=>{G[wo.measurementId]=wo.appId,S.options.measurementId&&wo.measurementId!==S.options.measurementId&&io.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${wo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(wo=>io.error(wo)),x.push(un);const Fn=function cs(){return bo.apply(this,arguments)}().then(wo=>{if(wo)return ve.getId()}),[lr,mr]=yield Promise.all([un,Fn]);(function Cc(S){const x=window.document.getElementsByTagName("script");for(const G of Object.values(x))if(G.src&&G.src.includes(Yr)&&G.src.includes(S))return G;return null})(rt)||function Ht(S,x){const G=function wt(S,x){let G;return window.trustedTypes&&(G=window.trustedTypes.createPolicy(S,x)),G}("firebase-js-sdk-policy",{createScriptURL:ya}),ve=document.createElement("script"),Xe=`${Yr}?l=${S}&id=${x}`;ve.src=G?null==G?void 0:G.createScriptURL(Xe):Xe,ve.async=!0,document.head.appendChild(ve)}(rt,lr.measurementId),Ti&&(Xe("consent","default",Ti),function Uo(S){Ti=S}(void 0)),Xe("js",new Date);const As=null!==(bn=null==At?void 0:At.config)&&void 0!==bn?bn:{};return As[Br]="firebase",As.update=!0,null!=mr&&(As[zt]=mr),Xe("config",lr.measurementId,As),R&&(Xe("set",R),function ht(S){R=S}(void 0)),lr.measurementId}),Xo.apply(this,arguments)}class Es{constructor(x){this.app=x}_delete(){return delete Qo[this.app.options.appId],Promise.resolve()}}let Qo={},ks=[];const gu={};let Dd,ho,Zl="dataLayer",nl=!1;function Po(S,x,G){!function Kh(){const S=[];if((0,Se.ru)()&&S.push("This is a browser extension environment."),(0,Se.zI)()||S.push("Cookies are not available."),S.length>0){const x=S.map((ve,Xe)=>`(${Xe+1}) ${ve}`).join(" "),G=_n.create("invalid-analytics-context",{errorInfo:x});io.warn(G.message)}}();const ve=S.options.appId;if(!ve)throw _n.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw _n.create("no-api-key");io.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Qo[ve])throw _n.create("already-exists",{id:ve});if(!nl){!function Eo(S){let x=[];Array.isArray(window[S])?x=window[S]:window[S]=x}(Zl);const{wrappedGtag:rt,gtagCore:At}=function fu(S,x,G,ve,Xe){let rt=function(...At){window[ve].push(arguments)};return window[Xe]&&"function"==typeof window[Xe]&&(rt=window[Xe]),window[Xe]=function Ns(S,x,G,ve){function rt(){return rt=(0,K.Z)(function*(At,...bn){try{if("event"===At){const[un,Fn]=bn;yield function Yl(S,x,G,ve,Xe){return _a.apply(this,arguments)}(S,x,G,un,Fn)}else if("config"===At){const[un,Fn]=bn;yield function Fo(S,x,G,ve,Xe,rt){return Ts.apply(this,arguments)}(S,x,G,ve,un,Fn)}else if("consent"===At){const[un]=bn;S("consent","update",un)}else if("get"===At){const[un,Fn,lr]=bn;S("get",un,Fn,lr)}else if("set"===At){const[un]=bn;S("set",un)}else S(At,...bn)}catch(un){io.error(un)}}),rt.apply(this,arguments)}return function Xe(At){return rt.apply(this,arguments)}}(rt,S,x,G),{gtagCore:rt,wrappedGtag:window[Xe]}}(Qo,ks,gu,Zl,"gtag");ho=rt,Dd=At,nl=!0}return Qo[ve]=function $a(S,x,G,ve,Xe,rt,At){return Xo.apply(this,arguments)}(S,ks,gu,x,Dd,Zl,G),new Es(S)}function is(){return wl.apply(this,arguments)}function wl(){return(wl=(0,K.Z)(function*(){if((0,Se.ru)()||!(0,Se.zI)()||!(0,Se.hl)())return!1;try{return yield(0,Se.eu)()}catch{return!1}})).apply(this,arguments)}const Mc="@firebase/analytics";!function yu(){(0,re._registerComponent)(new Te.wA(ai,(x,{options:G})=>Po(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),G),"PUBLIC")),(0,re._registerComponent)(new Te.wA("analytics-internal",function S(x){try{const G=x.getProvider(ai).getImmediate();return{logEvent:(ve,Xe,rt)=>function Dl(S,x,G,ve){S=(0,Se.m9)(S),function A(S,x,G,ve,Xe){return L.apply(this,arguments)}(ho,Qo[S.app.options.appId],x,G,ve).catch(Xe=>io.error(Xe))}(G,ve,Xe,rt)}}catch(G){throw _n.create("interop-component-reg-failed",{reason:G})}},"PRIVATE")),(0,re.registerVersion)(Mc,"0.10.0"),(0,re.registerVersion)(Mc,"0.10.0","esm2017")}();var _u=N(1954),Sd=N(2631);const Ad=new class xc extends Sd.v{}(class Td extends _u.o{constructor(x,G){super(x,G),this.scheduler=x,this.work=G}schedule(x,G=0){return G>0?super.schedule(x,G):(this.delay=G,this.state=x,this.scheduler.flush(this),this)}execute(x,G){return G>0||this.closed?super.execute(x,G):this._execute(x,G)}requestAsyncId(x,G,ve=0){return null!=ve&&ve>0||null==ve&&this.delay>0?super.requestAsyncId(x,G,ve):(x.flush(this),0)}});var Cl=N(6321),Ba=N(9397),Jl=N(3093),ec=N(5137);const Tl=new g.GfV("7.6.1"),Yi="__angularfire_symbol__analyticsIsSupportedValue",Sl="__angularfire_symbol__analyticsIsSupported",eo="__angularfire_symbol__remoteConfigIsSupportedValue",tc="__angularfire_symbol__remoteConfigIsSupported",fi="__angularfire_symbol__messagingIsSupportedValue",ba="__angularfire_symbol__messagingIsSupported";function $o(S,x,G){if(x){if(1===x.length)return x[0];const rt=x.filter(At=>At.app===G);if(1===rt.length)return rt[0]}return G.container.getProvider(S).getImmediate({optional:!0})}globalThis[Sl]||(globalThis[Sl]=is().then(S=>globalThis[Yi]=S).catch(()=>globalThis[Yi]=!1)),globalThis[ba]||(globalThis[ba]=hu().then(S=>globalThis[fi]=S).catch(()=>globalThis[fi]=!1)),globalThis[tc]||(globalThis[tc]=vs().then(S=>globalThis[eo]=S).catch(()=>globalThis[eo]=!1));const rl=(S,x)=>{const G=x?[x]:(0,m.C6)(),ve=[];return G.forEach(Xe=>{Xe.container.getProvider(S).instances.forEach(At=>{ve.includes(At)||ve.push(At)})}),ve};function wa(){}class fo{constructor(x,G=Ad){this.zone=x,this.delegate=G}now(){return this.delegate.now()}schedule(x,G,ve){const Xe=this.zone;return this.delegate.schedule(function(At){Xe.runGuarded(()=>{x.apply(this,[At])})},G,ve)}}class Al{constructor(x){this.zone=x,this.task=null}call(x,G){const ve=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wa,{},wa,wa)),G.pipe((0,Ba.b)({next:ve,complete:ve,error:ve})).subscribe(x).add(ve)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Va=(()=>{class S{constructor(G){this.ngZone=G,this.outsideAngular=G.runOutsideAngular(()=>new fo(Zone.current)),this.insideAngular=G.run(()=>new fo(Zone.current,Cl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(G){return new(G||S)(g.LFG(g.R0b))},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function Si(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function Iu(S){return S.pipe((0,Jl.Q)(Si().outsideAngular))}function Xh(S){return Si(),function il(S){return function(G){return(G=G.lift(new Al(S.ngZone))).pipe((0,ec.R)(S.outsideAngular),(0,Jl.Q)(S.insideAngular))}}(Si())(S)}},9058:(Jt,nt,N)=>{"use strict";N.d(nt,{$s:()=>Yt,BH:()=>ke,G6:()=>We,L:()=>Ne,LL:()=>Ze,Pz:()=>we,Sg:()=>Le,UG:()=>me,US:()=>Te,ZB:()=>Me,ZR:()=>tt,aH:()=>Qe,b$:()=>je,eu:()=>ge,hl:()=>ae,jU:()=>Be,m9:()=>On,ne:()=>Mr,pd:()=>Qt,r3:()=>qt,ru:()=>Je,tV:()=>he,uI:()=>Z,vZ:()=>yn,w1:()=>Pt,xO:()=>_r,xb:()=>Tn,z$:()=>be,zI:()=>Oe,zd:()=>Ar});const re=function(Pe){const te=[];let X=0;for(let Ae=0;Ae<Pe.length;Ae++){let ne=Pe.charCodeAt(Ae);ne<128?te[X++]=ne:ne<2048?(te[X++]=ne>>6|192,te[X++]=63&ne|128):55296==(64512&ne)&&Ae+1<Pe.length&&56320==(64512&Pe.charCodeAt(Ae+1))?(ne=65536+((1023&ne)<<10)+(1023&Pe.charCodeAt(++Ae)),te[X++]=ne>>18|240,te[X++]=ne>>12&63|128,te[X++]=ne>>6&63|128,te[X++]=63&ne|128):(te[X++]=ne>>12|224,te[X++]=ne>>6&63|128,te[X++]=63&ne|128)}return te},Te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Pe,te){if(!Array.isArray(Pe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const X=te?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ae=[];for(let ne=0;ne<Pe.length;ne+=3){const Ye=Pe[ne],_t=ne+1<Pe.length,jt=_t?Pe[ne+1]:0,dn=ne+2<Pe.length,jn=dn?Pe[ne+2]:0;let Pr=(15&jt)<<2|jn>>6,Dr=63&jn;dn||(Dr=64,_t||(Pr=64)),Ae.push(X[Ye>>2],X[(3&Ye)<<4|jt>>4],X[Pr],X[Dr])}return Ae.join("")},encodeString(Pe,te){return this.HAS_NATIVE_SUPPORT&&!te?btoa(Pe):this.encodeByteArray(re(Pe),te)},decodeString(Pe,te){return this.HAS_NATIVE_SUPPORT&&!te?atob(Pe):function(Pe){const te=[];let X=0,Ae=0;for(;X<Pe.length;){const ne=Pe[X++];if(ne<128)te[Ae++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const Ye=Pe[X++];te[Ae++]=String.fromCharCode((31&ne)<<6|63&Ye)}else if(ne>239&&ne<365){const dn=((7&ne)<<18|(63&Pe[X++])<<12|(63&Pe[X++])<<6|63&Pe[X++])-65536;te[Ae++]=String.fromCharCode(55296+(dn>>10)),te[Ae++]=String.fromCharCode(56320+(1023&dn))}else{const Ye=Pe[X++],_t=Pe[X++];te[Ae++]=String.fromCharCode((15&ne)<<12|(63&Ye)<<6|63&_t)}}return te.join("")}(this.decodeStringToByteArray(Pe,te))},decodeStringToByteArray(Pe,te){this.init_();const X=te?this.charToByteMapWebSafe_:this.charToByteMap_,Ae=[];for(let ne=0;ne<Pe.length;){const Ye=X[Pe.charAt(ne++)],jt=ne<Pe.length?X[Pe.charAt(ne)]:0;++ne;const jn=ne<Pe.length?X[Pe.charAt(ne)]:64;++ne;const zn=ne<Pe.length?X[Pe.charAt(ne)]:64;if(++ne,null==Ye||null==jt||null==jn||null==zn)throw new de;Ae.push(Ye<<2|jt>>4),64!==jn&&(Ae.push(jt<<4&240|jn>>2),64!==zn&&Ae.push(jn<<6&192|zn))}return Ae},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Pe=0;Pe<this.ENCODED_VALS.length;Pe++)this.byteToCharMap_[Pe]=this.ENCODED_VALS.charAt(Pe),this.charToByteMap_[this.byteToCharMap_[Pe]]=Pe,this.byteToCharMapWebSafe_[Pe]=this.ENCODED_VALS_WEBSAFE.charAt(Pe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Pe]]=Pe,Pe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Pe)]=Pe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Pe)]=Pe)}}};class de extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ne=function(Pe){return function(Pe){const te=re(Pe);return Te.encodeByteArray(te,!0)}(Pe).replace(/\./g,"")},he=function(Pe){try{return Te.decodeString(Pe,!0)}catch(te){console.error("base64Decode failed: ",te)}return null};function Me(Pe,te){if(!(te instanceof Object))return te;switch(te.constructor){case Date:return new Date(te.getTime());case Object:void 0===Pe&&(Pe={});break;case Array:Pe=[];break;default:return te}for(const X in te)!te.hasOwnProperty(X)||!Ee(X)||(Pe[X]=Me(Pe[X],te[X]));return Pe}function Ee(Pe){return"__proto__"!==Pe}const _e=()=>{try{return function Re(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Pe=process.env.__FIREBASE_DEFAULTS__;return Pe?JSON.parse(Pe):void 0})()||(()=>{if(typeof document>"u")return;let Pe;try{Pe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const te=Pe&&he(Pe[1]);return te&&JSON.parse(te)})()}catch(Pe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Pe}`)}},Qe=()=>{var Pe;return null===(Pe=_e())||void 0===Pe?void 0:Pe.config},we=Pe=>{var te;return null===(te=_e())||void 0===te?void 0:te[`_${Pe}`]};class ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((te,X)=>{this.resolve=te,this.reject=X})}wrapCallback(te){return(X,Ae)=>{X?this.reject(X):this.resolve(Ae),"function"==typeof te&&(this.promise.catch(()=>{}),1===te.length?te(X):te(X,Ae))}}}function Le(Pe,te){if(Pe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ae=te||"demo-project",ne=Pe.iat||0,Ye=Pe.sub||Pe.user_id;if(!Ye)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const _t=Object.assign({iss:`https://securetoken.google.com/${Ae}`,aud:Ae,iat:ne,exp:ne+3600,auth_time:ne,sub:Ye,user_id:Ye,firebase:{sign_in_provider:"custom",identities:{}}},Pe);return[Ne(JSON.stringify({alg:"none",type:"JWT"})),Ne(JSON.stringify(_t)),""].join(".")}function be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Z(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(be())}function me(){var Pe;const te=null===(Pe=_e())||void 0===Pe?void 0:Pe.forceEnvironment;if("node"===te)return!0;if("browser"===te)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Be(){return"object"==typeof self&&self.self===self}function Je(){const Pe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Pe&&void 0!==Pe.id}function je(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pt(){const Pe=be();return Pe.indexOf("MSIE ")>=0||Pe.indexOf("Trident/")>=0}function We(){return!me()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ae(){try{return"object"==typeof indexedDB}catch{return!1}}function ge(){return new Promise((Pe,te)=>{try{let X=!0;const Ae="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(Ae);ne.onsuccess=()=>{ne.result.close(),X||self.indexedDB.deleteDatabase(Ae),Pe(!0)},ne.onupgradeneeded=()=>{X=!1},ne.onerror=()=>{var Ye;te((null===(Ye=ne.error)||void 0===Ye?void 0:Ye.message)||"")}}catch(X){te(X)}})}function Oe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class tt extends Error{constructor(te,X,Ae){super(X),this.code=te,this.customData=Ae,this.name="FirebaseError",Object.setPrototypeOf(this,tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ze.prototype.create)}}class Ze{constructor(te,X,Ae){this.service=te,this.serviceName=X,this.errors=Ae}create(te,...X){const Ae=X[0]||{},ne=`${this.service}/${te}`,Ye=this.errors[te],_t=Ye?function Nt(Pe,te){return Pe.replace(kt,(X,Ae)=>{const ne=te[Ae];return null!=ne?String(ne):`<${Ae}?>`})}(Ye,Ae):"Error";return new tt(ne,`${this.serviceName}: ${_t} (${ne}).`,Ae)}}const kt=/\{\$([^}]+)}/g;function qt(Pe,te){return Object.prototype.hasOwnProperty.call(Pe,te)}function Tn(Pe){for(const te in Pe)if(Object.prototype.hasOwnProperty.call(Pe,te))return!1;return!0}function yn(Pe,te){if(Pe===te)return!0;const X=Object.keys(Pe),Ae=Object.keys(te);for(const ne of X){if(!Ae.includes(ne))return!1;const Ye=Pe[ne],_t=te[ne];if(Nn(Ye)&&Nn(_t)){if(!yn(Ye,_t))return!1}else if(Ye!==_t)return!1}for(const ne of Ae)if(!X.includes(ne))return!1;return!0}function Nn(Pe){return null!==Pe&&"object"==typeof Pe}function _r(Pe){const te=[];for(const[X,Ae]of Object.entries(Pe))Array.isArray(Ae)?Ae.forEach(ne=>{te.push(encodeURIComponent(X)+"="+encodeURIComponent(ne))}):te.push(encodeURIComponent(X)+"="+encodeURIComponent(Ae));return te.length?"&"+te.join("&"):""}function Ar(Pe){const te={};return Pe.replace(/^\?/,"").split("&").forEach(Ae=>{if(Ae){const[ne,Ye]=Ae.split("=");te[decodeURIComponent(ne)]=decodeURIComponent(Ye)}}),te}function Qt(Pe){const te=Pe.indexOf("?");if(!te)return"";const X=Pe.indexOf("#",te);return Pe.substring(te,X>0?X:void 0)}function Mr(Pe,te){const X=new qn(Pe,te);return X.subscribe.bind(X)}class qn{constructor(te,X){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=X,this.task.then(()=>{te(this)}).catch(Ae=>{this.error(Ae)})}next(te){this.forEachObserver(X=>{X.next(te)})}error(te){this.forEachObserver(X=>{X.error(te)}),this.close(te)}complete(){this.forEachObserver(te=>{te.complete()}),this.close()}subscribe(te,X,Ae){let ne;if(void 0===te&&void 0===X&&void 0===Ae)throw new Error("Missing Observer.");ne=function en(Pe,te){if("object"!=typeof Pe||null===Pe)return!1;for(const X of te)if(X in Pe&&"function"==typeof Pe[X])return!0;return!1}(te,["next","error","complete"])?te:{next:te,error:X,complete:Ae},void 0===ne.next&&(ne.next=Rn),void 0===ne.error&&(ne.error=Rn),void 0===ne.complete&&(ne.complete=Rn);const Ye=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch{}}),this.observers.push(ne),Ye}unsubscribeOne(te){void 0===this.observers||void 0===this.observers[te]||(delete this.observers[te],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(te){if(!this.finalized)for(let X=0;X<this.observers.length;X++)this.sendOne(X,te)}sendOne(te,X){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[te])try{X(this.observers[te])}catch(Ae){typeof console<"u"&&console.error&&console.error(Ae)}})}close(te){this.finalized||(this.finalized=!0,void 0!==te&&(this.finalError=te),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rn(){}const pi=1e3,Dt=2,Ve=144e5,Et=.5;function Yt(Pe,te=pi,X=Dt){const Ae=te*Math.pow(X,Pe),ne=Math.round(Et*Ae*(Math.random()-.5)*2);return Math.min(Ve,Ae+ne)}function On(Pe){return Pe&&Pe._delegate?Pe._delegate:Pe}},1774:(Jt,nt,N)=>{"use strict";N.d(nt,{c:()=>lt});var g=N(6225),m=N(839);let K;const Se=De=>De.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Te=De=>(void 0===K&&(K=void 0===De.style.animationName&&void 0!==De.style.webkitAnimationName?"-webkit-":""),K),de=(De,_e,et)=>{const ut=_e.startsWith("animation")?Te(De):"";De.style.setProperty(ut+_e,et)},He=(De,_e)=>{const et=_e.startsWith("animation")?Te(De):"";De.style.removeProperty(et+_e)},oe=[],$e=(De=[],_e)=>{if(void 0!==_e){const et=Array.isArray(_e)?_e:[_e];return[...De,...et]}return De},lt=De=>{let _e,et,ut,Qe,we,ke,Be,ae,ge,Oe,ze,kt,It,Le=[],be=[],Z=[],me=!1,Je={},je=[],ct=[],Pt={},Tt=0,Lt=!1,We=!1,tt=!0,Ze=!1,Nt=!0,pe=!1;const dt=De,mt=[],St=[],Zt=[],In=[],qt=[],Pn=[],Tn=[],En=[],yn=[],Nn=[],Zr="function"==typeof AnimationEffect||void 0!==g.w&&"function"==typeof g.w.AnimationEffect,_r="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Zr,Qt=()=>Nn,en=(W,ye)=>((null!=ye&&ye.oneTimeCallback?St:mt).push({c:W,o:ye}),It),Bt=()=>{if(_r)Nn.forEach(W=>{W.cancel()}),Nn.length=0;else{const W=Zt.slice();(0,m.r)(()=>{W.forEach(ye=>{He(ye,"animation-name"),He(ye,"animation-duration"),He(ye,"animation-timing-function"),He(ye,"animation-iteration-count"),He(ye,"animation-delay"),He(ye,"animation-play-state"),He(ye,"animation-fill-mode"),He(ye,"animation-direction")})})}},Qn=()=>{qt.forEach(W=>{null!=W&&W.parentNode&&W.parentNode.removeChild(W)}),qt.length=0},mn=()=>void 0!==we?we:Be?Be.getFill():"both",On=()=>void 0!==ge?ge:void 0!==ke?ke:Be?Be.getDirection():"normal",Pe=()=>Lt?"linear":void 0!==ut?ut:Be?Be.getEasing():"linear",te=()=>We?0:void 0!==Oe?Oe:void 0!==et?et:Be?Be.getDuration():0,X=()=>void 0!==Qe?Qe:Be?Be.getIterations():1,Ae=()=>void 0!==ze?ze:void 0!==_e?_e:Be?Be.getDelay():0,Nr=()=>{0!==Tt&&(Tt--,0===Tt&&((()=>{ao(),En.forEach(st=>st()),yn.forEach(st=>st());const W=tt?1:0,ye=je,xe=ct,pt=Pt;Zt.forEach(st=>{const bt=st.classList;ye.forEach(Ft=>bt.add(Ft)),xe.forEach(Ft=>bt.remove(Ft));for(const Ft in pt)pt.hasOwnProperty(Ft)&&de(st,Ft,pt[Ft])}),mt.forEach(st=>st.c(W,It)),St.forEach(st=>st.c(W,It)),St.length=0,Nt=!0,tt&&(Ze=!0),tt=!0})(),Be&&Be.animationFinish()))},bi=(W=!0)=>{Qn();const ye=(De=>(De.forEach(_e=>{for(const et in _e)if(_e.hasOwnProperty(et)){const ut=_e[et];if("easing"===et)_e["animation-timing-function"]=ut,delete _e[et];else{const Qe=Se(et);Qe!==et&&(_e[Qe]=ut,delete _e[et])}}}),De))(Le);Zt.forEach(xe=>{if(ye.length>0){const pt=((De=[])=>De.map(_e=>{const et=_e.offset,ut=[];for(const Qe in _e)_e.hasOwnProperty(Qe)&&"offset"!==Qe&&ut.push(`${Qe}: ${_e[Qe]};`);return`${100*et}% { ${ut.join(" ")} }`}).join(" "))(ye);kt=void 0!==De?De:(De=>{let _e=oe.indexOf(De);return _e<0&&(_e=oe.push(De)-1),`ion-animation-${_e}`})(pt);const st=((De,_e,et)=>{var ut;const Qe=(De=>{const _e=void 0!==De.getRootNode?De.getRootNode():De;return _e.head||_e})(et),we=Te(et),ke=Qe.querySelector("#"+De);if(ke)return ke;const Le=(null!==(ut=et.ownerDocument)&&void 0!==ut?ut:document).createElement("style");return Le.id=De,Le.textContent=`@${we}keyframes ${De} { ${_e} } @${we}keyframes ${De}-alt { ${_e} }`,Qe.appendChild(Le),Le})(kt,pt,xe);qt.push(st),de(xe,"animation-duration",`${te()}ms`),de(xe,"animation-timing-function",Pe()),de(xe,"animation-delay",`${Ae()}ms`),de(xe,"animation-fill-mode",mn()),de(xe,"animation-direction",On());const bt=X()===1/0?"infinite":X().toString();de(xe,"animation-iteration-count",bt),de(xe,"animation-play-state","paused"),W&&de(xe,"animation-name",`${st.id}-alt`),(0,m.r)(()=>{de(xe,"animation-name",st.id||null)})}})},Wn=(W=!0)=>{(()=>{Pn.forEach(pt=>pt()),Tn.forEach(pt=>pt());const W=be,ye=Z,xe=Je;Zt.forEach(pt=>{const st=pt.classList;W.forEach(bt=>st.add(bt)),ye.forEach(bt=>st.remove(bt));for(const bt in xe)xe.hasOwnProperty(bt)&&de(pt,bt,xe[bt])})})(),Le.length>0&&(_r?(Zt.forEach(W=>{const ye=W.animate(Le,{id:dt,delay:Ae(),duration:te(),easing:Pe(),iterations:X(),fill:mn(),direction:On()});ye.pause(),Nn.push(ye)}),Nn.length>0&&(Nn[0].onfinish=()=>{Nr()})):bi(W)),me=!0},xi=W=>{if(W=Math.min(Math.max(W,0),.9999),_r)Nn.forEach(ye=>{ye.currentTime=ye.effect.getComputedTiming().delay+te()*W,ye.pause()});else{const ye=`-${te()*W}ms`;Zt.forEach(xe=>{Le.length>0&&(de(xe,"animation-delay",ye),de(xe,"animation-play-state","paused"))})}},Ui=W=>{Nn.forEach(ye=>{ye.effect.updateTiming({delay:Ae(),duration:te(),easing:Pe(),iterations:X(),fill:mn(),direction:On()})}),void 0!==W&&xi(W)},to=(W=!0,ye)=>{(0,m.r)(()=>{Zt.forEach(xe=>{de(xe,"animation-name",kt||null),de(xe,"animation-duration",`${te()}ms`),de(xe,"animation-timing-function",Pe()),de(xe,"animation-delay",void 0!==ye?`-${ye*te()}ms`:`${Ae()}ms`),de(xe,"animation-fill-mode",mn()||null),de(xe,"animation-direction",On()||null);const pt=X()===1/0?"infinite":X().toString();de(xe,"animation-iteration-count",pt),W&&de(xe,"animation-name",`${kt}-alt`),(0,m.r)(()=>{de(xe,"animation-name",kt||null)})})})},ui=(W=!1,ye=!0,xe)=>(W&&In.forEach(pt=>{pt.update(W,ye,xe)}),_r?Ui(xe):to(ye,xe),It),Co=()=>{me&&(_r?Nn.forEach(W=>{W.pause()}):Zt.forEach(W=>{de(W,"animation-play-state","paused")}),pe=!0)},Ri=()=>{ae=void 0,Nr()},ao=()=>{ae&&clearTimeout(ae)},wi=W=>new Promise(ye=>{null!=W&&W.sync&&(We=!0,en(()=>We=!1,{oneTimeCallback:!0})),me||Wn(),Ze&&(_r?(xi(0),Ui()):to(),Ze=!1),Nt&&(Tt=In.length+1,Nt=!1),en(()=>ye(),{oneTimeCallback:!0}),In.forEach(xe=>{xe.play()}),_r?(Nn.forEach(W=>{W.play()}),(0===Le.length||0===Zt.length)&&Nr()):(()=>{if(ao(),(0,m.r)(()=>{Zt.forEach(W=>{Le.length>0&&de(W,"animation-play-state","running")})}),0===Le.length||0===Zt.length)Nr();else{const W=Ae()||0,ye=te()||0,xe=X()||1;isFinite(xe)&&(ae=setTimeout(Ri,W+ye*xe+100)),((De,_e)=>{let et;const ut={passive:!0},we=ke=>{De===ke.target&&(et&&et(),ao(),(0,m.r)(()=>{Zt.forEach(W=>{He(W,"animation-duration"),He(W,"animation-delay"),He(W,"animation-play-state")}),(0,m.r)(Nr)}))};De&&(De.addEventListener("webkitAnimationEnd",we,ut),De.addEventListener("animationend",we,ut),et=()=>{De.removeEventListener("webkitAnimationEnd",we,ut),De.removeEventListener("animationend",we,ut)})})(Zt[0])}})(),pe=!1}),Hi=(W,ye)=>{const xe=Le[0];return void 0===xe||void 0!==xe.offset&&0!==xe.offset?Le=[{offset:0,[W]:ye},...Le]:xe[W]=ye,It};return It={parentAnimation:Be,elements:Zt,childAnimations:In,id:dt,animationFinish:Nr,from:Hi,to:(W,ye)=>{const xe=Le[Le.length-1];return void 0===xe||void 0!==xe.offset&&1!==xe.offset?Le=[...Le,{offset:1,[W]:ye}]:xe[W]=ye,It},fromTo:(W,ye,xe)=>Hi(W,ye).to(W,xe),parent:W=>(Be=W,It),play:wi,pause:()=>(In.forEach(W=>{W.pause()}),Co(),It),stop:()=>{In.forEach(W=>{W.stop()}),me&&(Bt(),me=!1),Lt=!1,We=!1,Nt=!0,ge=void 0,Oe=void 0,ze=void 0,Tt=0,Ze=!1,tt=!0,pe=!1},destroy:W=>(In.forEach(ye=>{ye.destroy(W)}),(W=>{Bt(),W&&Qn()})(W),Zt.length=0,In.length=0,Le.length=0,mt.length=0,St.length=0,me=!1,Nt=!0,It),keyframes:W=>{const ye=Le!==W;return Le=W,ye&&(W=>{_r?Qt().forEach(ye=>{if(ye.effect.setKeyframes)ye.effect.setKeyframes(W);else{const xe=new KeyframeEffect(ye.effect.target,W,ye.effect.getTiming());ye.effect=xe}}):bi()})(Le),It},addAnimation:W=>{if(null!=W)if(Array.isArray(W))for(const ye of W)ye.parent(It),In.push(ye);else W.parent(It),In.push(W);return It},addElement:W=>{if(null!=W)if(1===W.nodeType)Zt.push(W);else if(W.length>=0)for(let ye=0;ye<W.length;ye++)Zt.push(W[ye]);else console.error("Invalid addElement value");return It},update:ui,fill:W=>(we=W,ui(!0),It),direction:W=>(ke=W,ui(!0),It),iterations:W=>(Qe=W,ui(!0),It),duration:W=>(!_r&&0===W&&(W=1),et=W,ui(!0),It),easing:W=>(ut=W,ui(!0),It),delay:W=>(_e=W,ui(!0),It),getWebAnimations:Qt,getKeyframes:()=>Le,getFill:mn,getDirection:On,getDelay:Ae,getIterations:X,getEasing:Pe,getDuration:te,afterAddRead:W=>(En.push(W),It),afterAddWrite:W=>(yn.push(W),It),afterClearStyles:(W=[])=>{for(const ye of W)Pt[ye]="";return It},afterStyles:(W={})=>(Pt=W,It),afterRemoveClass:W=>(ct=$e(ct,W),It),afterAddClass:W=>(je=$e(je,W),It),beforeAddRead:W=>(Pn.push(W),It),beforeAddWrite:W=>(Tn.push(W),It),beforeClearStyles:(W=[])=>{for(const ye of W)Je[ye]="";return It},beforeStyles:(W={})=>(Je=W,It),beforeRemoveClass:W=>(Z=$e(Z,W),It),beforeAddClass:W=>(be=$e(be,W),It),onFinish:en,isRunning:()=>0!==Tt&&!pe,progressStart:(W=!1,ye)=>(In.forEach(xe=>{xe.progressStart(W,ye)}),Co(),Lt=W,me||Wn(),ui(!1,!0,ye),It),progressStep:W=>(In.forEach(ye=>{ye.progressStep(W)}),xi(W),It),progressEnd:(W,ye,xe)=>(Lt=!1,In.forEach(pt=>{pt.progressEnd(W,ye,xe)}),void 0!==xe&&(Oe=xe),Ze=!1,tt=!0,0===W?(ge="reverse"===On()?"normal":"reverse","reverse"===ge&&(tt=!1),_r?(ui(),xi(1-ye)):(ze=(1-ye)*te()*-1,ui(!1,!1))):1===W&&(_r?(ui(),xi(ye)):(ze=ye*te()*-1,ui(!1,!1))),void 0!==W&&(en(()=>{Oe=void 0,ge=void 0,ze=void 0},{oneTimeCallback:!0}),Be||wi()),It)}}},3365:(Jt,nt,N)=>{"use strict";N.d(nt,{E:()=>he,a:()=>g,s:()=>He});const g=oe=>{try{if(oe instanceof de)return oe.value;if(!re()||"string"!=typeof oe||""===oe)return oe;if(oe.includes("onload="))return"";const Me=document.createDocumentFragment(),Ee=document.createElement("div");Me.appendChild(Ee),Ee.innerHTML=oe,Te.forEach(De=>{const _e=Me.querySelectorAll(De);for(let et=_e.length-1;et>=0;et--){const ut=_e[et];ut.parentNode?ut.parentNode.removeChild(ut):Me.removeChild(ut);const Qe=K(ut);for(let we=0;we<Qe.length;we++)m(Qe[we])}});const Re=K(Me);for(let De=0;De<Re.length;De++)m(Re[De]);const $e=document.createElement("div");$e.appendChild(Me);const lt=$e.querySelector("div");return null!==lt?lt.innerHTML:$e.innerHTML}catch(Me){return console.error(Me),""}},m=oe=>{if(oe.nodeType&&1!==oe.nodeType)return;if(typeof NamedNodeMap<"u"&&!(oe.attributes instanceof NamedNodeMap))return void oe.remove();for(let Ee=oe.attributes.length-1;Ee>=0;Ee--){const Re=oe.attributes.item(Ee),$e=Re.name;if(!Se.includes($e.toLowerCase())){oe.removeAttribute($e);continue}const lt=Re.value,De=oe[$e];(null!=lt&&lt.toLowerCase().includes("javascript:")||null!=De&&De.toLowerCase().includes("javascript:"))&&oe.removeAttribute($e)}const Me=K(oe);for(let Ee=0;Ee<Me.length;Ee++)m(Me[Ee])},K=oe=>null!=oe.children?oe.children:oe.childNodes,re=()=>{var oe;const Me=window,Ee=null===(oe=null==Me?void 0:Me.Ionic)||void 0===oe?void 0:oe.config;return!Ee||(Ee.get?Ee.get("sanitizerEnabled",!0):!0===Ee.sanitizerEnabled||void 0===Ee.sanitizerEnabled)},Se=["class","id","href","src","name","slot"],Te=["script","style","iframe","meta","link","object","embed"];class de{constructor(Me){this.value=Me}}const He=oe=>{const Me=window,Ee=Me.Ionic;if(!Ee||!Ee.config||"Object"===Ee.config.constructor.name)return Me.Ionic=Me.Ionic||{},Me.Ionic.config=Object.assign(Object.assign({},Me.Ionic.config),oe),Me.Ionic.config},he=!1},1042:(Jt,nt,N)=>{"use strict";N.d(nt,{C:()=>Se,a:()=>K,d:()=>re});var g=N(5861),m=N(839);const K=function(){var Te=(0,g.Z)(function*(de,He,Ne,he,oe,Me){var Ee;if(de)return de.attachViewToDom(He,Ne,oe,he);if(!(Me||"string"==typeof Ne||Ne instanceof HTMLElement))throw new Error("framework delegate is missing");const Re="string"==typeof Ne?null===(Ee=He.ownerDocument)||void 0===Ee?void 0:Ee.createElement(Ne):Ne;return he&&he.forEach($e=>Re.classList.add($e)),oe&&Object.assign(Re,oe),He.appendChild(Re),yield new Promise($e=>(0,m.c)(Re,$e)),Re});return function(He,Ne,he,oe,Me,Ee){return Te.apply(this,arguments)}}(),re=(Te,de)=>{if(de){if(Te)return Te.removeViewFromDom(de.parentElement,de);de.remove()}return Promise.resolve()},Se=()=>{let Te,de;return{attachViewToDom:function(){var he=(0,g.Z)(function*(oe,Me,Ee={},Re=[]){var $e,lt;if(Te=oe,Me){const _e="string"==typeof Me?null===($e=Te.ownerDocument)||void 0===$e?void 0:$e.createElement(Me):Me;Re.forEach(et=>_e.classList.add(et)),Object.assign(_e,Ee),Te.appendChild(_e),yield new Promise(et=>(0,m.c)(_e,et))}else if(Te.children.length>0&&("ION-MODAL"===Te.tagName||"ION-POPOVER"===Te.tagName)&&!Te.children[0].classList.contains("ion-delegate-host")){const et=null===(lt=Te.ownerDocument)||void 0===lt?void 0:lt.createElement("div");et.classList.add("ion-delegate-host"),Re.forEach(ut=>et.classList.add(ut)),et.append(...Te.children),Te.appendChild(et)}const De=document.querySelector("ion-app")||document.body;return de=document.createComment("ionic teleport"),Te.parentNode.insertBefore(de,Te),De.appendChild(Te),Te});return function(Me,Ee){return he.apply(this,arguments)}}(),removeViewFromDom:()=>(Te&&de&&(de.parentNode.insertBefore(Te,de),de.remove()),Promise.resolve())}}},619:(Jt,nt,N)=>{"use strict";N.d(nt,{G:()=>Se});class m{constructor(de,He,Ne,he,oe){this.id=He,this.name=Ne,this.disableScroll=oe,this.priority=1e6*he+He,this.ctrl=de}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const de=this.ctrl.capture(this.name,this.id,this.priority);return de&&this.disableScroll&&this.ctrl.disableScroll(this.id),de}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class K{constructor(de,He,Ne,he){this.id=He,this.disable=Ne,this.disableScroll=he,this.ctrl=de}block(){if(this.ctrl){if(this.disable)for(const de of this.disable)this.ctrl.disableGesture(de,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const de of this.disable)this.ctrl.enableGesture(de,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const re="backdrop-no-scroll",Se=new class g{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(de){var He;return new m(this,this.newID(),de.name,null!==(He=de.priority)&&void 0!==He?He:0,!!de.disableScroll)}createBlocker(de={}){return new K(this,this.newID(),de.disable,!!de.disableScroll)}start(de,He,Ne){return this.canStart(de)?(this.requestedStart.set(He,Ne),!0):(this.requestedStart.delete(He),!1)}capture(de,He,Ne){if(!this.start(de,He,Ne))return!1;const he=this.requestedStart;let oe=-1e4;if(he.forEach(Me=>{oe=Math.max(oe,Me)}),oe===Ne){this.capturedId=He,he.clear();const Me=new CustomEvent("ionGestureCaptured",{detail:{gestureName:de}});return document.dispatchEvent(Me),!0}return he.delete(He),!1}release(de){this.requestedStart.delete(de),this.capturedId===de&&(this.capturedId=void 0)}disableGesture(de,He){let Ne=this.disabledGestures.get(de);void 0===Ne&&(Ne=new Set,this.disabledGestures.set(de,Ne)),Ne.add(He)}enableGesture(de,He){const Ne=this.disabledGestures.get(de);void 0!==Ne&&Ne.delete(He)}disableScroll(de){this.disabledScroll.add(de),1===this.disabledScroll.size&&document.body.classList.add(re)}enableScroll(de){this.disabledScroll.delete(de),0===this.disabledScroll.size&&document.body.classList.remove(re)}canStart(de){return!(void 0!==this.capturedId||this.isDisabled(de))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(de){const He=this.disabledGestures.get(de);return!!(He&&He.size>0)}newID(){return this.gestureId++,this.gestureId}}},2124:(Jt,nt,N)=>{"use strict";N.r(nt),N.d(nt,{MENU_BACK_BUTTON_PRIORITY:()=>Se,OVERLAY_BACK_BUTTON_PRIORITY:()=>re,blockHardwareBackButton:()=>m,startHardwareBackButton:()=>K});var g=N(5861);const m=()=>{document.addEventListener("backbutton",()=>{})},K=()=>{const Te=document;let de=!1;Te.addEventListener("backbutton",()=>{if(de)return;let He=0,Ne=[];const he=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Ee,Re){Ne.push({priority:Ee,handler:Re,id:He++})}}});Te.dispatchEvent(he);const oe=function(){var Ee=(0,g.Z)(function*(Re){try{if(null!=Re&&Re.handler){const $e=Re.handler(Me);null!=$e&&(yield $e)}}catch($e){console.error($e)}});return function($e){return Ee.apply(this,arguments)}}(),Me=()=>{if(Ne.length>0){let Ee={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ne.forEach(Re=>{Re.priority>=Ee.priority&&(Ee=Re)}),de=!0,Ne=Ne.filter(Re=>Re.id!==Ee.id),oe(Ee).then(()=>de=!1)}};Me()})},re=100,Se=99},839:(Jt,nt,N)=>{"use strict";N.d(nt,{a:()=>He,b:()=>Ne,c:()=>K,d:()=>lt,e:()=>$e,f:()=>Re,g:()=>he,h:()=>Ee,i:()=>de,j:()=>we,k:()=>Se,l:()=>De,m:()=>re,n:()=>Me,o:()=>_e,p:()=>Qe,q:()=>ke,r:()=>oe,s:()=>Le,t:()=>g,u:()=>et,v:()=>ut});const g=(be,Z=0)=>new Promise(me=>{m(be,Z,me)}),m=(be,Z=0,me)=>{let Be,Je;const je={passive:!0},Pt=()=>{Be&&Be()},Tt=Lt=>{(void 0===Lt||be===Lt.target)&&(Pt(),me(Lt))};return be&&(be.addEventListener("webkitTransitionEnd",Tt,je),be.addEventListener("transitionend",Tt,je),Je=setTimeout(Tt,Z+500),Be=()=>{Je&&(clearTimeout(Je),Je=void 0),be.removeEventListener("webkitTransitionEnd",Tt,je),be.removeEventListener("transitionend",Tt,je)}),Pt},K=(be,Z)=>{be.componentOnReady?be.componentOnReady().then(me=>Z(me)):oe(()=>Z(be))},re=be=>void 0!==be.componentOnReady,Se=(be,Z=[])=>{const me={};return Z.forEach(Be=>{be.hasAttribute(Be)&&(null!==be.getAttribute(Be)&&(me[Be]=be.getAttribute(Be)),be.removeAttribute(Be))}),me},Te=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],de=(be,Z)=>{let me=Te;return Z&&Z.length>0&&(me=me.filter(Be=>!Z.includes(Be))),Se(be,me)},He=(be,Z,me,Be)=>{var Je;if(typeof window<"u"){const je=window,ct=null===(Je=null==je?void 0:je.Ionic)||void 0===Je?void 0:Je.config;if(ct){const Pt=ct.get("_ael");if(Pt)return Pt(be,Z,me,Be);if(ct._ael)return ct._ael(be,Z,me,Be)}}return be.addEventListener(Z,me,Be)},Ne=(be,Z,me,Be)=>{var Je;if(typeof window<"u"){const je=window,ct=null===(Je=null==je?void 0:je.Ionic)||void 0===Je?void 0:Je.config;if(ct){const Pt=ct.get("_rel");if(Pt)return Pt(be,Z,me,Be);if(ct._rel)return ct._rel(be,Z,me,Be)}}return be.removeEventListener(Z,me,Be)},he=(be,Z=be)=>be.shadowRoot||Z,oe=be=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(be):"function"==typeof requestAnimationFrame?requestAnimationFrame(be):setTimeout(be),Me=be=>!!be.shadowRoot&&!!be.attachShadow,Ee=be=>{const Z=be.closest("ion-item");return Z?Z.querySelector("ion-label"):null},Re=be=>{if(be.focus(),be.classList.contains("ion-focusable")){const Z=be.closest("ion-app");Z&&Z.setFocus([be])}},$e=(be,Z)=>{let me;const Be=be.getAttribute("aria-labelledby"),Je=be.id;let je=null!==Be&&""!==Be.trim()?Be:Z+"-lbl",ct=null!==Be&&""!==Be.trim()?document.getElementById(Be):Ee(be);return ct?(null===Be&&(ct.id=je),me=ct.textContent,ct.setAttribute("aria-hidden","true")):""!==Je.trim()&&(ct=document.querySelector(`label[for="${Je}"]`),ct&&(""!==ct.id?je=ct.id:ct.id=je=`${Je}-lbl`,me=ct.textContent)),{label:ct,labelId:je,labelText:me}},lt=(be,Z,me,Be,Je)=>{if(be||Me(Z)){let je=Z.querySelector("input.aux-input");je||(je=Z.ownerDocument.createElement("input"),je.type="hidden",je.classList.add("aux-input"),Z.appendChild(je)),je.disabled=Je,je.name=me,je.value=Be||""}},De=(be,Z,me)=>Math.max(be,Math.min(Z,me)),_e=(be,Z)=>{if(!be){const me="ASSERT: "+Z;throw console.error(me),new Error(me)}},et=be=>be.timeStamp||Date.now(),ut=be=>{if(be){const Z=be.changedTouches;if(Z&&Z.length>0){const me=Z[0];return{x:me.clientX,y:me.clientY}}if(void 0!==be.pageX)return{x:be.pageX,y:be.pageY}}return{x:0,y:0}},Qe=be=>{const Z="rtl"===document.dir;switch(be){case"start":return Z;case"end":return!Z;default:throw new Error(`"${be}" is not a valid value for [side]. Use "start" or "end" instead.`)}},we=(be,Z)=>{const me=be._original||be;return{_original:be,emit:ke(me.emit.bind(me),Z)}},ke=(be,Z=0)=>{let me;return(...Be)=>{clearTimeout(me),me=setTimeout(be,Z,...Be)}},Le=(be,Z)=>{if(null!=be||(be={}),null!=Z||(Z={}),be===Z)return!0;const me=Object.keys(be);if(me.length!==Object.keys(Z).length)return!1;for(const Be of me)if(!(Be in Z)||be[Be]!==Z[Be])return!1;return!0}},6710:(Jt,nt,N)=>{"use strict";N.d(nt,{a:()=>m,b:()=>K,p:()=>g});const g=(re,...Se)=>console.warn(`[Ionic Warning]: ${re}`,...Se),m=(re,...Se)=>console.error(`[Ionic Error]: ${re}`,...Se),K=(re,...Se)=>console.error(`<${re.tagName.toLowerCase()}> must be used inside ${Se.join(" or ")}.`)},1651:(Jt,nt,N)=>{"use strict";N.d(nt,{L:()=>re,a:()=>Se,b:()=>Te,c:()=>de,d:()=>He,e:()=>be,g:()=>Be,l:()=>ke,s:()=>Z,t:()=>oe,w:()=>Le});var g=N(5861),m=N(1688),K=N(839);const re="ionViewWillEnter",Se="ionViewDidEnter",Te="ionViewWillLeave",de="ionViewDidLeave",He="ionViewWillUnload",oe=Je=>new Promise((je,ct)=>{(0,m.w)(()=>{Me(Je),Ee(Je).then(Pt=>{Pt.animation&&Pt.animation.destroy(),Re(Je),je(Pt)},Pt=>{Re(Je),ct(Pt)})})}),Me=Je=>{const je=Je.enteringEl,ct=Je.leavingEl;me(je,ct,Je.direction),Je.showGoBack?je.classList.add("can-go-back"):je.classList.remove("can-go-back"),Z(je,!1),je.style.setProperty("pointer-events","none"),ct&&(Z(ct,!1),ct.style.setProperty("pointer-events","none"))},Ee=function(){var Je=(0,g.Z)(function*(je){const ct=yield $e(je);return ct&&m.B.isBrowser?lt(ct,je):De(je)});return function(ct){return Je.apply(this,arguments)}}(),Re=Je=>{const je=Je.enteringEl,ct=Je.leavingEl;je.classList.remove("ion-page-invisible"),je.style.removeProperty("pointer-events"),void 0!==ct&&(ct.classList.remove("ion-page-invisible"),ct.style.removeProperty("pointer-events"))},$e=function(){var Je=(0,g.Z)(function*(je){return je.leavingEl&&je.animated&&0!==je.duration?je.animationBuilder?je.animationBuilder:"ios"===je.mode?(yield Promise.resolve().then(N.bind(N,2650))).iosTransitionAnimation:(yield Promise.resolve().then(N.bind(N,1904))).mdTransitionAnimation:void 0});return function(ct){return Je.apply(this,arguments)}}(),lt=function(){var Je=(0,g.Z)(function*(je,ct){yield _e(ct,!0);const Pt=je(ct.baseEl,ct);Qe(ct.enteringEl,ct.leavingEl);const Tt=yield ut(Pt,ct);return ct.progressCallback&&ct.progressCallback(void 0),Tt&&we(ct.enteringEl,ct.leavingEl),{hasCompleted:Tt,animation:Pt}});return function(ct,Pt){return Je.apply(this,arguments)}}(),De=function(){var Je=(0,g.Z)(function*(je){const ct=je.enteringEl,Pt=je.leavingEl;return yield _e(je,!1),Qe(ct,Pt),we(ct,Pt),{hasCompleted:!0}});return function(ct){return Je.apply(this,arguments)}}(),_e=function(){var Je=(0,g.Z)(function*(je,ct){(void 0!==je.deepWait?je.deepWait:ct)&&(yield Promise.all([be(je.enteringEl),be(je.leavingEl)])),yield et(je.viewIsReady,je.enteringEl)});return function(ct,Pt){return Je.apply(this,arguments)}}(),et=function(){var Je=(0,g.Z)(function*(je,ct){je&&(yield je(ct))});return function(ct,Pt){return Je.apply(this,arguments)}}(),ut=(Je,je)=>{const ct=je.progressCallback,Pt=new Promise(Tt=>{Je.onFinish(Lt=>Tt(1===Lt))});return ct?(Je.progressStart(!0),ct(Je)):Je.play(),Pt},Qe=(Je,je)=>{ke(je,Te),ke(Je,re)},we=(Je,je)=>{ke(Je,Se),ke(je,de)},ke=(Je,je)=>{if(Je){const ct=new CustomEvent(je,{bubbles:!1,cancelable:!1});Je.dispatchEvent(ct)}},Le=()=>new Promise(Je=>(0,K.r)(()=>(0,K.r)(()=>Je()))),be=function(){var Je=(0,g.Z)(function*(je){const ct=je;if(ct){if(null!=ct.componentOnReady){if(null!=(yield ct.componentOnReady()))return}else if(null!=ct.__registerHost)return void(yield new Promise(Tt=>(0,K.r)(Tt)));yield Promise.all(Array.from(ct.children).map(be))}});return function(ct){return Je.apply(this,arguments)}}(),Z=(Je,je)=>{je?(Je.setAttribute("aria-hidden","true"),Je.classList.add("ion-page-hidden")):(Je.hidden=!1,Je.removeAttribute("aria-hidden"),Je.classList.remove("ion-page-hidden"))},me=(Je,je,ct)=>{void 0!==Je&&(Je.style.zIndex="back"===ct?"99":"101"),void 0!==je&&(je.style.zIndex="100")},Be=Je=>Je.classList.contains("ion-page")?Je:Je.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Je},6225:(Jt,nt,N)=>{"use strict";N.d(nt,{d:()=>m,w:()=>g});const g=typeof window<"u"?window:void 0,m=typeof document<"u"?document:void 0},1688:(Jt,nt,N)=>{"use strict";N.d(nt,{B:()=>oe,H:()=>Pt,a:()=>Co,b:()=>Dn,c:()=>Ze,d:()=>pe,e:()=>Hi,f:()=>It,g:()=>Nt,h:()=>je,i:()=>tn,j:()=>Me,r:()=>Nr,w:()=>Lr});var g=N(5861);let K,re,Se,Te=!1,de=!1,He=!1,Ne=!1,he=!1;const oe={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Me=Q=>{const W=new URL(Q,nr.$resourcesUrl$);return W.origin!==ii.location.origin?W.href:W.pathname},et="s-id",ut="sty-id",ke="http://www.w3.org/1999/xlink",Le={},Be=Q=>"object"==(Q=typeof Q)||"function"===Q;function Je(Q){var W,ye,xe;return null!==(xe=null===(ye=null===(W=Q.head)||void 0===W?void 0:W.querySelector('meta[name="csp-nonce"]'))||void 0===ye?void 0:ye.getAttribute("content"))&&void 0!==xe?xe:void 0}const je=(Q,W,...ye)=>{let xe=null,pt=null,st=null,bt=!1,Ft=!1;const Rt=[],$t=Yn=>{for(let An=0;An<Yn.length;An++)xe=Yn[An],Array.isArray(xe)?$t(xe):null!=xe&&"boolean"!=typeof xe&&((bt="function"!=typeof Q&&!Be(xe))&&(xe=String(xe)),bt&&Ft?Rt[Rt.length-1].$text$+=xe:Rt.push(bt?ct(null,xe):xe),Ft=bt)};if($t(ye),W){W.key&&(pt=W.key),W.name&&(st=W.name);{const Yn=W.className||W.class;Yn&&(W.class="object"!=typeof Yn?Yn:Object.keys(Yn).filter(An=>Yn[An]).join(" "))}}if("function"==typeof Q)return Q(null===W?{}:W,Rt,Lt);const sn=ct(Q,null);return sn.$attrs$=W,Rt.length>0&&(sn.$children$=Rt),sn.$key$=pt,sn.$name$=st,sn},ct=(Q,W)=>({$flags$:0,$tag$:Q,$text$:W,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Pt={},Lt={forEach:(Q,W)=>Q.map(We).forEach(W),map:(Q,W)=>Q.map(We).map(W).map(ae)},We=Q=>({vattrs:Q.$attrs$,vchildren:Q.$children$,vkey:Q.$key$,vname:Q.$name$,vtag:Q.$tag$,vtext:Q.$text$}),ae=Q=>{if("function"==typeof Q.vtag){const ye=Object.assign({},Q.vattrs);return Q.vkey&&(ye.key=Q.vkey),Q.vname&&(ye.name=Q.vname),je(Q.vtag,ye,...Q.vchildren||[])}const W=ct(Q.vtag,Q.vtext);return W.$attrs$=Q.vattrs,W.$children$=Q.vchildren,W.$key$=Q.vkey,W.$name$=Q.vname,W},Oe=(Q,W,ye,xe,pt,st,bt)=>{let Ft,Rt,$t,sn;if(1===st.nodeType){for(Ft=st.getAttribute("c-id"),Ft&&(Rt=Ft.split("."),(Rt[0]===bt||"0"===Rt[0])&&($t={$flags$:0,$hostId$:Rt[0],$nodeId$:Rt[1],$depth$:Rt[2],$index$:Rt[3],$tag$:st.tagName.toLowerCase(),$elm$:st,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},W.push($t),st.removeAttribute("c-id"),Q.$children$||(Q.$children$=[]),Q.$children$[$t.$index$]=$t,Q=$t,xe&&"0"===$t.$depth$&&(xe[$t.$index$]=$t.$elm$))),sn=st.childNodes.length-1;sn>=0;sn--)Oe(Q,W,ye,xe,pt,st.childNodes[sn],bt);if(st.shadowRoot)for(sn=st.shadowRoot.childNodes.length-1;sn>=0;sn--)Oe(Q,W,ye,xe,pt,st.shadowRoot.childNodes[sn],bt)}else if(8===st.nodeType)Rt=st.nodeValue.split("."),(Rt[1]===bt||"0"===Rt[1])&&(Ft=Rt[0],$t={$flags$:0,$hostId$:Rt[1],$nodeId$:Rt[2],$depth$:Rt[3],$index$:Rt[4],$elm$:st,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Ft?($t.$elm$=st.nextSibling,$t.$elm$&&3===$t.$elm$.nodeType&&($t.$text$=$t.$elm$.textContent,W.push($t),st.remove(),Q.$children$||(Q.$children$=[]),Q.$children$[$t.$index$]=$t,xe&&"0"===$t.$depth$&&(xe[$t.$index$]=$t.$elm$))):$t.$hostId$===bt&&("s"===Ft?($t.$tag$="slot",st["s-sn"]=Rt[5]?$t.$name$=Rt[5]:"",st["s-sr"]=!0,xe&&($t.$elm$=Er.createElement($t.$tag$),$t.$name$&&$t.$elm$.setAttribute("name",$t.$name$),st.parentNode.insertBefore($t.$elm$,st),st.remove(),"0"===$t.$depth$&&(xe[$t.$index$]=$t.$elm$)),ye.push($t),Q.$children$||(Q.$children$=[]),Q.$children$[$t.$index$]=$t):"r"===Ft&&(xe?st.remove():(pt["s-cr"]=st,st["s-cn"]=!0))));else if(Q&&"style"===Q.$tag$){const Yn=ct(null,st.textContent);Yn.$elm$=st,Yn.$index$="0",Q.$children$=[Yn]}},ze=(Q,W)=>{if(1===Q.nodeType){let ye=0;for(;ye<Q.childNodes.length;ye++)ze(Q.childNodes[ye],W);if(Q.shadowRoot)for(ye=0;ye<Q.shadowRoot.childNodes.length;ye++)ze(Q.shadowRoot.childNodes[ye],W)}else if(8===Q.nodeType){const ye=Q.nodeValue.split(".");"o"===ye[0]&&(W.set(ye[1]+"."+ye[2],Q),Q.nodeValue="",Q["s-en"]=ye[3])}},Ze=Q=>ui.push(Q),Nt=Q=>Zn(Q).$modeName$,It=Q=>Zn(Q).$hostElement$,pe=(Q,W,ye)=>{const xe=It(Q);return{emit:pt=>dt(xe,W,{bubbles:!!(4&ye),composed:!!(2&ye),cancelable:!!(1&ye),detail:pt})}},dt=(Q,W,ye)=>{const xe=nr.ce(W,ye);return Q.dispatchEvent(xe),xe},mt=new WeakMap,St=(Q,W,ye)=>{let xe=to.get(Q);ao&&ye?(xe=xe||new CSSStyleSheet,"string"==typeof xe?xe=W:xe.replaceSync(W)):xe=W,to.set(Q,xe)},Zt=(Q,W,ye)=>{var xe;const pt=qt(W,ye),st=to.get(pt);if(Q=11===Q.nodeType?Q:Er,st)if("string"==typeof st){let Ft,bt=mt.get(Q=Q.head||Q);if(bt||mt.set(Q,bt=new Set),!bt.has(pt)){if(Q.host&&(Ft=Q.querySelector(`[${ut}="${pt}"]`)))Ft.innerHTML=st;else{Ft=Er.createElement("style"),Ft.innerHTML=st;const Rt=null!==(xe=nr.$nonce$)&&void 0!==xe?xe:Je(Er);null!=Rt&&Ft.setAttribute("nonce",Rt),Q.insertBefore(Ft,Q.querySelector("link"))}bt&&bt.add(pt)}}else Q.adoptedStyleSheets.includes(st)||(Q.adoptedStyleSheets=[...Q.adoptedStyleSheets,st]);return pt},qt=(Q,W)=>"sc-"+(W&&32&Q.$flags$?Q.$tagName$+"-"+W:Q.$tagName$),Pn=Q=>Q.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Tn=(Q,W,ye,xe,pt,st)=>{if(ye!==xe){let bt=ri(Q,W),Ft=W.toLowerCase();if("class"===W){const Rt=Q.classList,$t=yn(ye),sn=yn(xe);Rt.remove(...$t.filter(Yn=>Yn&&!sn.includes(Yn))),Rt.add(...sn.filter(Yn=>Yn&&!$t.includes(Yn)))}else if("style"===W){for(const Rt in ye)(!xe||null==xe[Rt])&&(Rt.includes("-")?Q.style.removeProperty(Rt):Q.style[Rt]="");for(const Rt in xe)(!ye||xe[Rt]!==ye[Rt])&&(Rt.includes("-")?Q.style.setProperty(Rt,xe[Rt]):Q.style[Rt]=xe[Rt])}else if("key"!==W)if("ref"===W)xe&&xe(Q);else if(bt||"o"!==W[0]||"n"!==W[1]){const Rt=Be(xe);if((bt||Rt&&null!==xe)&&!pt)try{if(Q.tagName.includes("-"))Q[W]=xe;else{const sn=null==xe?"":xe;"list"===W?bt=!1:(null==ye||Q[W]!=sn)&&(Q[W]=sn)}}catch{}let $t=!1;Ft!==(Ft=Ft.replace(/^xlink\:?/,""))&&(W=Ft,$t=!0),null==xe||!1===xe?(!1!==xe||""===Q.getAttribute(W))&&($t?Q.removeAttributeNS(ke,W):Q.removeAttribute(W)):(!bt||4&st||pt)&&!Rt&&(xe=!0===xe?"":xe,$t?Q.setAttributeNS(ke,W,xe):Q.setAttribute(W,xe))}else W="-"===W[2]?W.slice(3):ri(ii,Ft)?Ft.slice(2):Ft[2]+W.slice(3),ye&&nr.rel(Q,W,ye,!1),xe&&nr.ael(Q,W,xe,!1)}},En=/\s/,yn=Q=>Q?Q.split(En):[],Nn=(Q,W,ye,xe)=>{const pt=11===W.$elm$.nodeType&&W.$elm$.host?W.$elm$.host:W.$elm$,st=Q&&Q.$attrs$||Le,bt=W.$attrs$||Le;for(xe in st)xe in bt||Tn(pt,xe,st[xe],void 0,ye,W.$flags$);for(xe in bt)Tn(pt,xe,st[xe],bt[xe],ye,W.$flags$)},Zr=(Q,W,ye,xe)=>{const pt=W.$children$[ye];let bt,Ft,Rt,st=0;if(Te||(He=!0,"slot"===pt.$tag$&&(K&&xe.classList.add(K+"-s"),pt.$flags$|=pt.$children$?2:1)),null!==pt.$text$)bt=pt.$elm$=Er.createTextNode(pt.$text$);else if(1&pt.$flags$)bt=pt.$elm$=Er.createTextNode("");else{if(Ne||(Ne="svg"===pt.$tag$),bt=pt.$elm$=Er.createElementNS(Ne?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&pt.$flags$?"slot-fb":pt.$tag$),Ne&&"foreignObject"===pt.$tag$&&(Ne=!1),Nn(null,pt,Ne),(Q=>null!=Q)(K)&&bt["s-si"]!==K&&bt.classList.add(bt["s-si"]=K),pt.$children$)for(st=0;st<pt.$children$.length;++st)Ft=Zr(Q,pt,st,bt),Ft&&bt.appendChild(Ft);"svg"===pt.$tag$?Ne=!1:"foreignObject"===bt.tagName&&(Ne=!0)}return bt["s-hn"]=Se,3&pt.$flags$&&(bt["s-sr"]=!0,bt["s-cr"]=re,bt["s-sn"]=pt.$name$||"",Rt=Q&&Q.$children$&&Q.$children$[ye],Rt&&Rt.$tag$===pt.$tag$&&Q.$elm$&&_r(Q.$elm$,!1)),bt},_r=(Q,W)=>{nr.$flags$|=1;const ye=Q.childNodes;for(let xe=ye.length-1;xe>=0;xe--){const pt=ye[xe];pt["s-hn"]!==Se&&pt["s-ol"]&&(fr(pt).insertBefore(pt,qn(pt)),pt["s-ol"].remove(),pt["s-ol"]=void 0,He=!0),W&&_r(pt,W)}nr.$flags$&=-2},Ar=(Q,W,ye,xe,pt,st)=>{let Ft,bt=Q["s-cr"]&&Q["s-cr"].parentNode||Q;for(bt.shadowRoot&&bt.tagName===Se&&(bt=bt.shadowRoot);pt<=st;++pt)xe[pt]&&(Ft=Zr(null,ye,pt,Q),Ft&&(xe[pt].$elm$=Ft,bt.insertBefore(Ft,qn(W))))},Qt=(Q,W,ye)=>{for(let xe=W;xe<=ye;++xe){const pt=Q[xe];if(pt){const st=pt.$elm$;Jn(pt),st&&(de=!0,st["s-ol"]?st["s-ol"].remove():_r(st,!0),st.remove())}}},Mr=(Q,W)=>Q.$tag$===W.$tag$&&("slot"===Q.$tag$?Q.$name$===W.$name$:Q.$key$===W.$key$),qn=Q=>Q&&Q["s-ol"]||Q,fr=Q=>(Q["s-ol"]?Q["s-ol"]:Q).parentNode,en=(Q,W)=>{const ye=W.$elm$=Q.$elm$,xe=Q.$children$,pt=W.$children$,st=W.$tag$,bt=W.$text$;let Ft;null===bt?(Ne="svg"===st||"foreignObject"!==st&&Ne,"slot"===st||Nn(Q,W,Ne),null!==xe&&null!==pt?((Q,W,ye,xe)=>{let Ke,Ge,pt=0,st=0,bt=0,Ft=0,Rt=W.length-1,$t=W[0],sn=W[Rt],Yn=xe.length-1,An=xe[0],gr=xe[Yn];for(;pt<=Rt&&st<=Yn;)if(null==$t)$t=W[++pt];else if(null==sn)sn=W[--Rt];else if(null==An)An=xe[++st];else if(null==gr)gr=xe[--Yn];else if(Mr($t,An))en($t,An),$t=W[++pt],An=xe[++st];else if(Mr(sn,gr))en(sn,gr),sn=W[--Rt],gr=xe[--Yn];else if(Mr($t,gr))("slot"===$t.$tag$||"slot"===gr.$tag$)&&_r($t.$elm$.parentNode,!1),en($t,gr),Q.insertBefore($t.$elm$,sn.$elm$.nextSibling),$t=W[++pt],gr=xe[--Yn];else if(Mr(sn,An))("slot"===$t.$tag$||"slot"===gr.$tag$)&&_r(sn.$elm$.parentNode,!1),en(sn,An),Q.insertBefore(sn.$elm$,$t.$elm$),sn=W[--Rt],An=xe[++st];else{for(bt=-1,Ft=pt;Ft<=Rt;++Ft)if(W[Ft]&&null!==W[Ft].$key$&&W[Ft].$key$===An.$key$){bt=Ft;break}bt>=0?(Ge=W[bt],Ge.$tag$!==An.$tag$?Ke=Zr(W&&W[st],ye,bt,Q):(en(Ge,An),W[bt]=void 0,Ke=Ge.$elm$),An=xe[++st]):(Ke=Zr(W&&W[st],ye,st,Q),An=xe[++st]),Ke&&fr($t.$elm$).insertBefore(Ke,qn($t.$elm$))}pt>Rt?Ar(Q,null==xe[Yn+1]?null:xe[Yn+1].$elm$,ye,xe,st,Yn):st>Yn&&Qt(W,pt,Rt)})(ye,xe,W,pt):null!==pt?(null!==Q.$text$&&(ye.textContent=""),Ar(ye,null,W,pt,0,pt.length-1)):null!==xe&&Qt(xe,0,xe.length-1),Ne&&"svg"===st&&(Ne=!1)):(Ft=ye["s-cr"])?Ft.parentNode.textContent=bt:Q.$text$!==bt&&(ye.data=bt)},Rn=Q=>{const W=Q.childNodes;let ye,xe,pt,st,bt,Ft;for(xe=0,pt=W.length;xe<pt;xe++)if(ye=W[xe],1===ye.nodeType){if(ye["s-sr"])for(bt=ye["s-sn"],ye.hidden=!1,st=0;st<pt;st++)if(Ft=W[st].nodeType,W[st]["s-hn"]!==ye["s-hn"]||""!==bt){if(1===Ft&&bt===W[st].getAttribute("slot")){ye.hidden=!0;break}}else if(1===Ft||3===Ft&&""!==W[st].textContent.trim()){ye.hidden=!0;break}Rn(ye)}},Bt=[],Qn=Q=>{let W,ye,xe,pt,st,bt,Ft=0;const Rt=Q.childNodes,$t=Rt.length;for(;Ft<$t;Ft++){if(W=Rt[Ft],W["s-sr"]&&(ye=W["s-cr"])&&ye.parentNode)for(xe=ye.parentNode.childNodes,pt=W["s-sn"],bt=xe.length-1;bt>=0;bt--)ye=xe[bt],!ye["s-cn"]&&!ye["s-nr"]&&ye["s-hn"]!==W["s-hn"]&&(Hr(ye,pt)?(st=Bt.find(sn=>sn.$nodeToRelocate$===ye),de=!0,ye["s-sn"]=ye["s-sn"]||pt,st?st.$slotRefNode$=W:Bt.push({$slotRefNode$:W,$nodeToRelocate$:ye}),ye["s-sr"]&&Bt.map(sn=>{Hr(sn.$nodeToRelocate$,ye["s-sn"])&&(st=Bt.find(Yn=>Yn.$nodeToRelocate$===ye),st&&!sn.$slotRefNode$&&(sn.$slotRefNode$=st.$slotRefNode$))})):Bt.some(sn=>sn.$nodeToRelocate$===ye)||Bt.push({$nodeToRelocate$:ye}));1===W.nodeType&&Qn(W)}},Hr=(Q,W)=>1===Q.nodeType?null===Q.getAttribute("slot")&&""===W||Q.getAttribute("slot")===W:Q["s-sn"]===W||""===W,Jn=Q=>{Q.$attrs$&&Q.$attrs$.ref&&Q.$attrs$.ref(null),Q.$children$&&Q.$children$.map(Jn)},Xr=(Q,W)=>{W&&!Q.$onRenderResolve$&&W["s-p"]&&W["s-p"].push(new Promise(ye=>Q.$onRenderResolve$=ye))},Ei=(Q,W)=>{if(Q.$flags$|=16,!(4&Q.$flags$))return Xr(Q,Q.$ancestorComponent$),Lr(()=>Ir(Q,W));Q.$flags$|=512},Ir=(Q,W)=>{const xe=Q.$lazyInstance$;let pt;return W&&(Q.$flags$|=256,Q.$queuedListeners$&&(Q.$queuedListeners$.map(([st,bt])=>On(xe,st,bt)),Q.$queuedListeners$=void 0),pt=On(xe,"componentWillLoad")),pt=pi(pt,()=>On(xe,"componentWillRender")),pi(pt,()=>Ve(Q,xe,W))},pi=(Q,W)=>Dt(Q)?Q.then(W):W(),Dt=Q=>Q instanceof Promise||Q&&Q.then&&"function"==typeof Q.then,Ve=function(){var Q=(0,g.Z)(function*(W,ye,xe){var pt;const st=W.$hostElement$,Ft=st["s-rc"];xe&&(Q=>{const W=Q.$cmpMeta$,ye=Q.$hostElement$,xe=W.$flags$,st=Zt(ye.shadowRoot?ye.shadowRoot:ye.getRootNode(),W,Q.$modeName$);10&xe&&(ye["s-sc"]=st,ye.classList.add(st+"-h"),2&xe&&ye.classList.add(st+"-s"))})(W);Et(W,ye,st,xe),Ft&&(Ft.map($t=>$t()),st["s-rc"]=void 0);{const $t=null!==(pt=st["s-p"])&&void 0!==pt?pt:[],sn=()=>Yt(W);0===$t.length?sn():(Promise.all($t).then(sn),W.$flags$|=4,$t.length=0)}});return function(ye,xe,pt){return Q.apply(this,arguments)}}(),Et=(Q,W,ye,xe)=>{try{W=W.render&&W.render(),Q.$flags$&=-17,Q.$flags$|=2,((Q,W,ye=!1)=>{const xe=Q.$hostElement$,pt=Q.$cmpMeta$,st=Q.$vnode$||ct(null,null),bt=(Q=>Q&&Q.$tag$===Pt)(W)?W:je(null,null,W);if(Se=xe.tagName,pt.$attrsToReflect$&&(bt.$attrs$=bt.$attrs$||{},pt.$attrsToReflect$.map(([Ft,Rt])=>bt.$attrs$[Rt]=xe[Ft])),ye&&bt.$attrs$)for(const Ft of Object.keys(bt.$attrs$))xe.hasAttribute(Ft)&&!["key","ref","style","class"].includes(Ft)&&(bt.$attrs$[Ft]=xe[Ft]);if(bt.$tag$=null,bt.$flags$|=4,Q.$vnode$=bt,bt.$elm$=st.$elm$=xe.shadowRoot||xe,K=xe["s-sc"],re=xe["s-cr"],Te=0!=(1&pt.$flags$),de=!1,en(st,bt),nr.$flags$|=1,He){Qn(bt.$elm$);let Ft,Rt,$t,sn,Yn,An,gr=0;for(;gr<Bt.length;gr++)Ft=Bt[gr],Rt=Ft.$nodeToRelocate$,Rt["s-ol"]||($t=Er.createTextNode(""),$t["s-nr"]=Rt,Rt.parentNode.insertBefore(Rt["s-ol"]=$t,Rt));for(gr=0;gr<Bt.length;gr++)if(Ft=Bt[gr],Rt=Ft.$nodeToRelocate$,Ft.$slotRefNode$){for(sn=Ft.$slotRefNode$.parentNode,Yn=Ft.$slotRefNode$.nextSibling,$t=Rt["s-ol"];$t=$t.previousSibling;)if(An=$t["s-nr"],An&&An["s-sn"]===Rt["s-sn"]&&sn===An.parentNode&&(An=An.nextSibling,!An||!An["s-nr"])){Yn=An;break}(!Yn&&sn!==Rt.parentNode||Rt.nextSibling!==Yn)&&Rt!==Yn&&(!Rt["s-hn"]&&Rt["s-ol"]&&(Rt["s-hn"]=Rt["s-ol"].parentNode.nodeName),sn.insertBefore(Rt,Yn))}else 1===Rt.nodeType&&(Rt.hidden=!0)}de&&Rn(bt.$elm$),nr.$flags$&=-2,Bt.length=0})(Q,W,xe)}catch(pt){Wn(pt,Q.$hostElement$)}return null},Yt=Q=>{const ye=Q.$hostElement$,pt=Q.$lazyInstance$,st=Q.$ancestorComponent$;On(pt,"componentDidRender"),64&Q.$flags$?On(pt,"componentDidUpdate"):(Q.$flags$|=64,Pe(ye),On(pt,"componentDidLoad"),Q.$onReadyResolve$(ye),st||mn()),Q.$onInstanceResolve$(ye),Q.$onRenderResolve$&&(Q.$onRenderResolve$(),Q.$onRenderResolve$=void 0),512&Q.$flags$&&no(()=>Ei(Q,!1)),Q.$flags$&=-517},tn=Q=>{{const W=Zn(Q),ye=W.$hostElement$.isConnected;return ye&&2==(18&W.$flags$)&&Ei(W,!1),ye}},mn=Q=>{Pe(Er.documentElement),no(()=>dt(ii,"appload",{detail:{namespace:"ionic"}}))},On=(Q,W,ye)=>{if(Q&&Q[W])try{return Q[W](ye)}catch(xe){Wn(xe)}},Pe=Q=>Q.classList.add("hydrated"),Ae=(Q,W,ye)=>{if(W.$members$){Q.watchers&&(W.$watchers$=Q.watchers);const xe=Object.entries(W.$members$),pt=Q.prototype;if(xe.map(([st,[bt]])=>{31&bt||2&ye&&32&bt?Object.defineProperty(pt,st,{get(){return((Q,W)=>Zn(this).$instanceValues$.get(W))(0,st)},set(Ft){((Q,W,ye,xe)=>{const pt=Zn(Q),st=pt.$hostElement$,bt=pt.$instanceValues$.get(W),Ft=pt.$flags$,Rt=pt.$lazyInstance$;ye=((Q,W)=>null==Q||Be(Q)?Q:4&W?"false"!==Q&&(""===Q||!!Q):2&W?parseFloat(Q):1&W?String(Q):Q)(ye,xe.$members$[W][0]);const $t=Number.isNaN(bt)&&Number.isNaN(ye);if((!(8&Ft)||void 0===bt)&&ye!==bt&&!$t&&(pt.$instanceValues$.set(W,ye),Rt)){if(xe.$watchers$&&128&Ft){const Yn=xe.$watchers$[W];Yn&&Yn.map(An=>{try{Rt[An](ye,bt,W)}catch(gr){Wn(gr,st)}})}2==(18&Ft)&&Ei(pt,!1)}})(this,st,Ft,W)},configurable:!0,enumerable:!0}):1&ye&&64&bt&&Object.defineProperty(pt,st,{value(...Ft){const Rt=Zn(this);return Rt.$onInstancePromise$.then(()=>Rt.$lazyInstance$[st](...Ft))}})}),1&ye){const st=new Map;pt.attributeChangedCallback=function(bt,Ft,Rt){nr.jmp(()=>{const $t=st.get(bt);if(this.hasOwnProperty($t))Rt=this[$t],delete this[$t];else if(pt.hasOwnProperty($t)&&"number"==typeof this[$t]&&this[$t]==Rt)return;this[$t]=(null!==Rt||"boolean"!=typeof this[$t])&&Rt})},Q.observedAttributes=xe.filter(([bt,Ft])=>15&Ft[0]).map(([bt,Ft])=>{const Rt=Ft[1]||bt;return st.set(Rt,bt),512&Ft[0]&&W.$attrsToReflect$.push([bt,Rt]),Rt})}}return Q},ne=function(){var Q=(0,g.Z)(function*(W,ye,xe,pt,st){if(!(32&ye.$flags$)){ye.$flags$|=32;{if((st=Ui(xe)).then){const $t=()=>{};st=yield st,$t()}st.isProxied||(xe.$watchers$=st.watchers,Ae(st,xe,2),st.isProxied=!0);const Rt=()=>{};ye.$flags$|=8;try{new st(ye)}catch($t){Wn($t)}ye.$flags$&=-9,ye.$flags$|=128,Rt(),Ye(ye.$lazyInstance$)}if(st.style){let Rt=st.style;"string"!=typeof Rt&&(Rt=Rt[ye.$modeName$=(Q=>ui.map(W=>W(Q)).find(W=>!!W))(W)]);const $t=qt(xe,ye.$modeName$);if(!to.has($t)){const sn=()=>{};St($t,Rt,!!(1&xe.$flags$)),sn()}}}const bt=ye.$ancestorComponent$,Ft=()=>Ei(ye,!0);bt&&bt["s-rc"]?bt["s-rc"].push(Ft):Ft()});return function(ye,xe,pt,st,bt){return Q.apply(this,arguments)}}(),Ye=Q=>{On(Q,"connectedCallback")},jt=Q=>{const W=Q["s-cr"]=Er.createComment("");W["s-cn"]=!0,Q.insertBefore(W,Q.firstChild)},dn=Q=>{On(Q,"disconnectedCallback")},jn=function(){var Q=(0,g.Z)(function*(W){if(!(1&nr.$flags$)){const ye=Zn(W);ye.$rmListeners$&&(ye.$rmListeners$.map(xe=>xe()),ye.$rmListeners$=void 0),null!=ye&&ye.$lazyInstance$?dn(ye.$lazyInstance$):null!=ye&&ye.$onReadyPromise$&&ye.$onReadyPromise$.then(()=>dn(ye.$lazyInstance$))}});return function(ye){return Q.apply(this,arguments)}}(),Dn=(Q,W={})=>{var ye;const pt=[],st=W.exclude||[],bt=ii.customElements,Ft=Er.head,Rt=Ft.querySelector("meta[charset]"),$t=Er.createElement("style"),sn=[],Yn=Er.querySelectorAll(`[${ut}]`);let An,gr=!0,Ke=0;for(Object.assign(nr,W),nr.$resourcesUrl$=new URL(W.resourcesUrl||"./",Er.baseURI).href,nr.$flags$|=2;Ke<Yn.length;Ke++)St(Yn[Ke].getAttribute(ut),Pn(Yn[Ke].innerHTML),!0);Q.map(Ge=>{Ge[1].map(at=>{const Mt={$flags$:at[0],$tagName$:at[1],$members$:at[2],$listeners$:at[3]};Mt.$members$=at[2],Mt.$listeners$=at[3],Mt.$attrsToReflect$=[],Mt.$watchers$={};const Gt=Mt.$tagName$,nn=class extends HTMLElement{constructor(Mn){super(Mn),bi(Mn=this,Mt),1&Mt.$flags$&&Mn.attachShadow({mode:"open",delegatesFocus:!!(16&Mt.$flags$)})}connectedCallback(){An&&(clearTimeout(An),An=null),gr?sn.push(this):nr.jmp(()=>(Q=>{if(!(1&nr.$flags$)){const W=Zn(Q),ye=W.$cmpMeta$,xe=()=>{};if(1&W.$flags$)zn(Q,W,ye.$listeners$),null!=W&&W.$lazyInstance$?Ye(W.$lazyInstance$):null!=W&&W.$onReadyPromise$&&W.$onReadyPromise$.then(()=>Ye(W.$lazyInstance$));else{let pt;if(W.$flags$|=1,pt=Q.getAttribute(et),pt){if(1&ye.$flags$){const st=Zt(Q.shadowRoot,ye,Q.getAttribute("s-mode"));Q.classList.remove(st+"-h",st+"-s")}((Q,W,ye,xe)=>{const st=Q.shadowRoot,bt=[],Rt=st?[]:null,$t=xe.$vnode$=ct(W,null);nr.$orgLocNodes$||ze(Er.body,nr.$orgLocNodes$=new Map),Q[et]=ye,Q.removeAttribute(et),Oe($t,bt,[],Rt,Q,Q,ye),bt.map(sn=>{const Yn=sn.$hostId$+"."+sn.$nodeId$,An=nr.$orgLocNodes$.get(Yn),gr=sn.$elm$;An&&so&&""===An["s-en"]&&An.parentNode.insertBefore(gr,An.nextSibling),st||(gr["s-hn"]=W,An&&(gr["s-ol"]=An,gr["s-ol"]["s-nr"]=gr)),nr.$orgLocNodes$.delete(Yn)}),st&&Rt.map(sn=>{sn&&st.appendChild(sn)})})(Q,ye.$tagName$,pt,W)}pt||12&ye.$flags$&&jt(Q);{let st=Q;for(;st=st.parentNode||st.host;)if(1===st.nodeType&&st.hasAttribute("s-id")&&st["s-p"]||st["s-p"]){Xr(W,W.$ancestorComponent$=st);break}}ye.$members$&&Object.entries(ye.$members$).map(([st,[bt]])=>{if(31&bt&&Q.hasOwnProperty(st)){const Ft=Q[st];delete Q[st],Q[st]=Ft}}),ne(Q,W,ye)}xe()}})(this))}disconnectedCallback(){nr.jmp(()=>jn(this))}componentOnReady(){return Zn(this).$onReadyPromise$}};Mt.$lazyBundleId$=Ge[0],!st.includes(Gt)&&!bt.get(Gt)&&(pt.push(Gt),bt.define(Gt,Ae(nn,Mt,1)))})});{$t.innerHTML=pt+"{visibility:hidden}.hydrated{visibility:inherit}",$t.setAttribute("data-styles","");const Ge=null!==(ye=nr.$nonce$)&&void 0!==ye?ye:Je(Er);null!=Ge&&$t.setAttribute("nonce",Ge),Ft.insertBefore($t,Rt?Rt.nextSibling:Ft.firstChild)}gr=!1,sn.length?sn.map(Ge=>Ge.connectedCallback()):nr.jmp(()=>An=setTimeout(mn,30))},zn=(Q,W,ye,xe)=>{ye&&ye.map(([pt,st,bt])=>{const Ft=Dr(Q,pt),Rt=Pr(W,bt),$t=Ni(pt);nr.ael(Ft,st,Rt,$t),(W.$rmListeners$=W.$rmListeners$||[]).push(()=>nr.rel(Ft,st,Rt,$t))})},Pr=(Q,W)=>ye=>{try{256&Q.$flags$?Q.$lazyInstance$[W](ye):(Q.$queuedListeners$=Q.$queuedListeners$||[]).push([W,ye])}catch(xe){Wn(xe)}},Dr=(Q,W)=>4&W?Er:8&W?ii:16&W?Er.body:Q,Ni=Q=>0!=(2&Q),xr=new WeakMap,Zn=Q=>xr.get(Q),Nr=(Q,W)=>xr.set(W.$lazyInstance$=Q,W),bi=(Q,W)=>{const ye={$flags$:0,$hostElement$:Q,$cmpMeta$:W,$instanceValues$:new Map};return ye.$onInstancePromise$=new Promise(xe=>ye.$onInstanceResolve$=xe),ye.$onReadyPromise$=new Promise(xe=>ye.$onReadyResolve$=xe),Q["s-p"]=[],Q["s-rc"]=[],zn(Q,ye,W.$listeners$),xr.set(Q,ye)},ri=(Q,W)=>W in Q,Wn=(Q,W)=>(0,console.error)(Q,W),xi=new Map,Ui=(Q,W,ye)=>{const xe=Q.$tagName$.replace(/-/g,"_"),pt=Q.$lazyBundleId$,st=xi.get(pt);return st?st[xe]:N(863)(`./${pt}.entry.js`).then(bt=>(xi.set(pt,bt),bt[xe]),Wn)},to=new Map,ui=[],ii=typeof window<"u"?window:{},Er=ii.document||{head:{}},nr={$flags$:0,$resourcesUrl$:"",jmp:Q=>Q(),raf:Q=>requestAnimationFrame(Q),ael:(Q,W,ye,xe)=>Q.addEventListener(W,ye,xe),rel:(Q,W,ye,xe)=>Q.removeEventListener(W,ye,xe),ce:(Q,W)=>new CustomEvent(Q,W)},Co=Q=>{Object.assign(nr,Q)},so=!0,ao=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Oi=[],Zi=[],cr=(Q,W)=>ye=>{Q.push(ye),he||(he=!0,W&&4&nr.$flags$?no(wi):nr.raf(wi))},ji=Q=>{for(let W=0;W<Q.length;W++)try{Q[W](performance.now())}catch(ye){Wn(ye)}Q.length=0},wi=()=>{ji(Oi),ji(Zi),(he=Oi.length>0)&&nr.raf(wi)},no=Q=>Promise.resolve(void 0).then(Q),Hi=cr(Oi,!1),Lr=cr(Zi,!0)},5662:(Jt,nt,N)=>{"use strict";N.d(nt,{m:()=>oe});var g=N(5861),m=N(2124),K=N(839),re=N(2085),Se=N(1774);const Te=Me=>(0,Se.c)().duration(Me?400:300),de=Me=>{let Ee,Re;const $e=Me.width+8,lt=(0,Se.c)(),De=(0,Se.c)();Me.isEndSide?(Ee=$e+"px",Re="0px"):(Ee=-$e+"px",Re="0px"),lt.addElement(Me.menuInnerEl).fromTo("transform",`translateX(${Ee})`,`translateX(${Re})`);const et="ios"===(0,re.b)(Me),ut=et?.2:.25;return De.addElement(Me.backdropEl).fromTo("opacity",.01,ut),Te(et).addAnimation([lt,De])},He=Me=>{let Ee,Re;const $e=(0,re.b)(Me),lt=Me.width;Me.isEndSide?(Ee=-lt+"px",Re=lt+"px"):(Ee=lt+"px",Re=-lt+"px");const De=(0,Se.c)().addElement(Me.menuInnerEl).fromTo("transform",`translateX(${Re})`,"translateX(0px)"),_e=(0,Se.c)().addElement(Me.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ee})`),et=(0,Se.c)().addElement(Me.backdropEl).fromTo("opacity",.01,.32);return Te("ios"===$e).addAnimation([De,_e,et])},Ne=Me=>{const Ee=(0,re.b)(Me),Re=Me.width*(Me.isEndSide?-1:1)+"px",$e=(0,Se.c)().addElement(Me.contentEl).fromTo("transform","translateX(0px)",`translateX(${Re})`);return Te("ios"===Ee).addAnimation($e)},oe=(()=>{const Me=new Map,Ee=[],Re=function(){var ae=(0,g.Z)(function*(ge){const Oe=yield Qe(ge);return!!Oe&&Oe.open()});return function(Oe){return ae.apply(this,arguments)}}(),$e=function(){var ae=(0,g.Z)(function*(ge){const Oe=yield void 0!==ge?Qe(ge):we();return void 0!==Oe&&Oe.close()});return function(Oe){return ae.apply(this,arguments)}}(),lt=function(){var ae=(0,g.Z)(function*(ge){const Oe=yield Qe(ge);return!!Oe&&Oe.toggle()});return function(Oe){return ae.apply(this,arguments)}}(),De=function(){var ae=(0,g.Z)(function*(ge,Oe){const ze=yield Qe(Oe);return ze&&(ze.disabled=!ge),ze});return function(Oe,ze){return ae.apply(this,arguments)}}(),_e=function(){var ae=(0,g.Z)(function*(ge,Oe){const ze=yield Qe(Oe);return ze&&(ze.swipeGesture=ge),ze});return function(Oe,ze){return ae.apply(this,arguments)}}(),et=function(){var ae=(0,g.Z)(function*(ge){if(null!=ge){const Oe=yield Qe(ge);return void 0!==Oe&&Oe.isOpen()}return void 0!==(yield we())});return function(Oe){return ae.apply(this,arguments)}}(),ut=function(){var ae=(0,g.Z)(function*(ge){const Oe=yield Qe(ge);return!!Oe&&!Oe.disabled});return function(Oe){return ae.apply(this,arguments)}}(),Qe=function(){var ae=(0,g.Z)(function*(ge){return yield We(),"start"===ge||"end"===ge?Lt(tt=>tt.side===ge&&!tt.disabled)||Lt(tt=>tt.side===ge):null!=ge?Lt(ze=>ze.menuId===ge):Lt(ze=>!ze.disabled)||(Ee.length>0?Ee[0].el:void 0)});return function(Oe){return ae.apply(this,arguments)}}(),we=function(){var ae=(0,g.Z)(function*(){return yield We(),ct()});return function(){return ae.apply(this,arguments)}}(),ke=function(){var ae=(0,g.Z)(function*(){return yield We(),Pt()});return function(){return ae.apply(this,arguments)}}(),Le=function(){var ae=(0,g.Z)(function*(){return yield We(),Tt()});return function(){return ae.apply(this,arguments)}}(),be=(ae,ge)=>{Me.set(ae,ge)},Be=ae=>{const ge=ae.side;Ee.filter(Oe=>Oe.side===ge&&Oe!==ae).forEach(Oe=>Oe.disabled=!0)},Je=function(){var ae=(0,g.Z)(function*(ge,Oe,ze){if(Tt())return!1;if(Oe){const tt=yield we();tt&&ge.el!==tt&&(yield tt.setOpen(!1,!1))}return ge._setOpen(Oe,ze)});return function(Oe,ze,tt){return ae.apply(this,arguments)}}(),ct=()=>Lt(ae=>ae._isOpen),Pt=()=>Ee.map(ae=>ae.el),Tt=()=>Ee.some(ae=>ae.isAnimating),Lt=ae=>{const ge=Ee.find(ae);if(void 0!==ge)return ge.el},We=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ae=>new Promise(ge=>(0,K.c)(ae,ge))));return be("reveal",Ne),be("push",He),be("overlay",de),typeof document<"u"&&document.addEventListener("ionBackButton",ae=>{const ge=ct();ge&&ae.detail.register(m.MENU_BACK_BUTTON_PRIORITY,()=>ge.close())}),{registerAnimation:be,get:Qe,getMenus:ke,getOpen:we,isEnabled:ut,swipeGesture:_e,isAnimating:Le,isOpen:et,enable:De,toggle:lt,close:$e,open:Re,_getOpenSync:ct,_createAnimation:(ae,ge)=>{const Oe=Me.get(ae);if(!Oe)throw new Error("animation not registered");return Oe(ge)},_register:ae=>{Ee.indexOf(ae)<0&&(ae.disabled||Be(ae),Ee.push(ae))},_unregister:ae=>{const ge=Ee.indexOf(ae);ge>-1&&Ee.splice(ge,1)},_setOpen:Je,_setActiveMenu:Be}})()},9203:(Jt,nt,N)=>{"use strict";N.r(nt),N.d(nt,{GESTURE_CONTROLLER:()=>g.G,createGesture:()=>Ne});var g=N(619);const m=(Ee,Re,$e,lt)=>{const De=K(Ee)?{capture:!!lt.capture,passive:!!lt.passive}:!!lt.capture;let _e,et;return Ee.__zone_symbol__addEventListener?(_e="__zone_symbol__addEventListener",et="__zone_symbol__removeEventListener"):(_e="addEventListener",et="removeEventListener"),Ee[_e](Re,$e,De),()=>{Ee[et](Re,$e,De)}},K=Ee=>{if(void 0===re)try{const Re=Object.defineProperty({},"passive",{get:()=>{re=!0}});Ee.addEventListener("optsTest",()=>{},Re)}catch{re=!1}return!!re};let re;const de=Ee=>Ee instanceof Document?Ee:Ee.ownerDocument,Ne=Ee=>{let Re=!1,$e=!1,lt=!0,De=!1;const _e=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Ee),et=_e.canStart,ut=_e.onWillStart,Qe=_e.onStart,we=_e.onEnd,ke=_e.notCaptured,Le=_e.onMove,be=_e.threshold,Z=_e.passive,me=_e.blurOnStart,Be={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Je=((Ee,Re,$e)=>{const lt=$e*(Math.PI/180),De="x"===Ee,_e=Math.cos(lt),et=Re*Re;let ut=0,Qe=0,we=!1,ke=0;return{start(Le,be){ut=Le,Qe=be,ke=0,we=!0},detect(Le,be){if(!we)return!1;const Z=Le-ut,me=be-Qe,Be=Z*Z+me*me;if(Be<et)return!1;const Je=Math.sqrt(Be),je=(De?Z:me)/Je;return ke=je>_e?1:je<-_e?-1:0,we=!1,!0},isGesture:()=>0!==ke,getDirection:()=>ke}})(_e.direction,_e.threshold,_e.maxAngle),je=g.G.createGesture({name:Ee.gestureName,priority:Ee.gesturePriority,disableScroll:Ee.disableScroll}),Tt=()=>{Re&&(De=!1,Le&&Le(Be))},Lt=()=>!!je.capture()&&(Re=!0,lt=!1,Be.startX=Be.currentX,Be.startY=Be.currentY,Be.startTime=Be.currentTime,ut?ut(Be).then(ae):ae(),!0),ae=()=>{me&&(()=>{if(typeof document<"u"){const Ze=document.activeElement;null!=Ze&&Ze.blur&&Ze.blur()}})(),Qe&&Qe(Be),lt=!0},ge=()=>{Re=!1,$e=!1,De=!1,lt=!0,je.release()},Oe=Ze=>{const Nt=Re,kt=lt;if(ge(),kt){if(he(Be,Ze),Nt)return void(we&&we(Be));ke&&ke(Be)}},ze=((Ee,Re,$e,lt,De)=>{let _e,et,ut,Qe,we,ke,Le,be=0;const Z=We=>{be=Date.now()+2e3,Re(We)&&(!et&&$e&&(et=m(Ee,"touchmove",$e,De)),ut||(ut=m(We.target,"touchend",Be,De)),Qe||(Qe=m(We.target,"touchcancel",Be,De)))},me=We=>{be>Date.now()||Re(We)&&(!ke&&$e&&(ke=m(de(Ee),"mousemove",$e,De)),Le||(Le=m(de(Ee),"mouseup",Je,De)))},Be=We=>{je(),lt&&lt(We)},Je=We=>{ct(),lt&&lt(We)},je=()=>{et&&et(),ut&&ut(),Qe&&Qe(),et=ut=Qe=void 0},ct=()=>{ke&&ke(),Le&&Le(),ke=Le=void 0},Pt=()=>{je(),ct()},Tt=(We=!0)=>{We?(_e||(_e=m(Ee,"touchstart",Z,De)),we||(we=m(Ee,"mousedown",me,De))):(_e&&_e(),we&&we(),_e=we=void 0,Pt())};return{enable:Tt,stop:Pt,destroy:()=>{Tt(!1),lt=$e=Re=void 0}}})(_e.el,Ze=>{const Nt=Me(Ze);return!($e||!lt||(oe(Ze,Be),Be.startX=Be.currentX,Be.startY=Be.currentY,Be.startTime=Be.currentTime=Nt,Be.velocityX=Be.velocityY=Be.deltaX=Be.deltaY=0,Be.event=Ze,et&&!1===et(Be))||(je.release(),!je.start()))&&($e=!0,0===be?Lt():(Je.start(Be.startX,Be.startY),!0))},Ze=>{Re?!De&&lt&&(De=!0,he(Be,Ze),requestAnimationFrame(Tt)):(he(Be,Ze),Je.detect(Be.currentX,Be.currentY)&&(!Je.isGesture()||!Lt())&&tt())},Oe,{capture:!1,passive:Z}),tt=()=>{ge(),ze.stop(),ke&&ke(Be)};return{enable(Ze=!0){Ze||(Re&&Oe(void 0),ge()),ze.enable(Ze)},destroy(){je.destroy(),ze.destroy()}}},he=(Ee,Re)=>{if(!Re)return;const $e=Ee.currentX,lt=Ee.currentY,De=Ee.currentTime;oe(Re,Ee);const _e=Ee.currentX,et=Ee.currentY,Qe=(Ee.currentTime=Me(Re))-De;if(Qe>0&&Qe<100){const ke=(et-lt)/Qe;Ee.velocityX=(_e-$e)/Qe*.7+.3*Ee.velocityX,Ee.velocityY=.7*ke+.3*Ee.velocityY}Ee.deltaX=_e-Ee.startX,Ee.deltaY=et-Ee.startY,Ee.event=Re},oe=(Ee,Re)=>{let $e=0,lt=0;if(Ee){const De=Ee.changedTouches;if(De&&De.length>0){const _e=De[0];$e=_e.clientX,lt=_e.clientY}else void 0!==Ee.pageX&&($e=Ee.pageX,lt=Ee.pageY)}Re.currentX=$e,Re.currentY=lt},Me=Ee=>Ee.timeStamp||Date.now()},2085:(Jt,nt,N)=>{"use strict";N.d(nt,{a:()=>oe,b:()=>Tt,c:()=>K,g:()=>he,i:()=>Lt});var g=N(1688);class m{constructor(){this.m=new Map}reset(ae){this.m=new Map(Object.entries(ae))}get(ae,ge){const Oe=this.m.get(ae);return void 0!==Oe?Oe:ge}getBoolean(ae,ge=!1){const Oe=this.m.get(ae);return void 0===Oe?ge:"string"==typeof Oe?"true"===Oe:!!Oe}getNumber(ae,ge){const Oe=parseFloat(this.m.get(ae));return isNaN(Oe)?void 0!==ge?ge:NaN:Oe}set(ae,ge){this.m.set(ae,ge)}}const K=new m,Ne="ionic-persist-config",he=We=>Me(We),oe=(We,ae)=>("string"==typeof We&&(ae=We,We=void 0),he(We).includes(ae)),Me=(We=window)=>{if(typeof We>"u")return[];We.Ionic=We.Ionic||{};let ae=We.Ionic.platforms;return null==ae&&(ae=We.Ionic.platforms=Ee(We),ae.forEach(ge=>We.document.documentElement.classList.add(`plt-${ge}`))),ae},Ee=We=>{const ae=K.get("platform");return Object.keys(ct).filter(ge=>{const Oe=null==ae?void 0:ae[ge];return"function"==typeof Oe?Oe(We):ct[ge](We)})},$e=We=>!!(Je(We,/iPad/i)||Je(We,/Macintosh/i)&&we(We)),_e=We=>Je(We,/android|sink/i),we=We=>je(We,"(any-pointer:coarse)"),Le=We=>be(We)||Z(We),be=We=>!!(We.cordova||We.phonegap||We.PhoneGap),Z=We=>{const ae=We.Capacitor;return!(null==ae||!ae.isNative)},Je=(We,ae)=>ae.test(We.navigator.userAgent),je=(We,ae)=>{var ge;return null===(ge=We.matchMedia)||void 0===ge?void 0:ge.call(We,ae).matches},ct={ipad:$e,iphone:We=>Je(We,/iPhone/i),ios:We=>Je(We,/iPhone|iPod/i)||$e(We),android:_e,phablet:We=>{const ae=We.innerWidth,ge=We.innerHeight,Oe=Math.min(ae,ge),ze=Math.max(ae,ge);return Oe>390&&Oe<520&&ze>620&&ze<800},tablet:We=>{const ae=We.innerWidth,ge=We.innerHeight,Oe=Math.min(ae,ge),ze=Math.max(ae,ge);return $e(We)||(We=>_e(We)&&!Je(We,/mobile/i))(We)||Oe>460&&Oe<820&&ze>780&&ze<1400},cordova:be,capacitor:Z,electron:We=>Je(We,/electron/i),pwa:We=>{var ae;return!!(null!==(ae=We.matchMedia)&&void 0!==ae&&ae.call(We,"(display-mode: standalone)").matches||We.navigator.standalone)},mobile:we,mobileweb:We=>we(We)&&!Le(We),desktop:We=>!we(We),hybrid:Le};let Pt;const Tt=We=>We&&(0,g.g)(We)||Pt,Lt=(We={})=>{if(typeof window>"u")return;const ae=window.document,ge=window,Oe=ge.Ionic=ge.Ionic||{},ze={};We._ael&&(ze.ael=We._ael),We._rel&&(ze.rel=We._rel),We._ce&&(ze.ce=We._ce),(0,g.a)(ze);const tt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(We=>{try{const ae=We.sessionStorage.getItem(Ne);return null!==ae?JSON.parse(ae):{}}catch{return{}}})(ge)),{persistConfig:!1}),Oe.config),(We=>{const ae={};return We.location.search.slice(1).split("&").map(ge=>ge.split("=")).map(([ge,Oe])=>[decodeURIComponent(ge),decodeURIComponent(Oe)]).filter(([ge])=>((We,ae)=>We.substr(0,ae.length)===ae)(ge,"ionic:")).map(([ge,Oe])=>[ge.slice(6),Oe]).forEach(([ge,Oe])=>{ae[ge]=Oe}),ae})(ge)),We);K.reset(tt),K.getBoolean("persistConfig")&&((We,ae)=>{try{We.sessionStorage.setItem(Ne,JSON.stringify(ae))}catch{return}})(ge,tt),Me(ge),Oe.config=K,Oe.mode=Pt=K.get("mode",ae.documentElement.getAttribute("mode")||(oe(ge,"ios")?"ios":"md")),K.set("mode",Pt),ae.documentElement.setAttribute("mode",Pt),ae.documentElement.classList.add(Pt),K.getBoolean("_testing")&&K.set("animated",!1);const Ze=kt=>{var It;return null===(It=kt.tagName)||void 0===It?void 0:It.startsWith("ION-")},Nt=kt=>["ios","md"].includes(kt);(0,g.c)(kt=>{for(;kt;){const It=kt.mode||kt.getAttribute("mode");if(It){if(Nt(It))return It;Ze(kt)&&console.warn('Invalid ionic mode: "'+It+'", expected: "ios" or "md"')}kt=kt.parentElement}return Pt})}},2650:(Jt,nt,N)=>{"use strict";N.r(nt),N.d(nt,{iosTransitionAnimation:()=>Ee,shadow:()=>de});var g=N(1774),m=N(1651);N(6225),N(1688);const Te=Re=>document.querySelector(`${Re}.ion-cloned-element`),de=Re=>Re.shadowRoot||Re,He=Re=>{const $e="ION-TABS"===Re.tagName?Re:Re.querySelector("ion-tabs"),lt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=$e){const De=$e.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=De?De.querySelector(lt):null}return Re.querySelector(lt)},Ne=(Re,$e)=>{const lt="ION-TABS"===Re.tagName?Re:Re.querySelector("ion-tabs");let De=[];if(null!=lt){const _e=lt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=_e&&(De=_e.querySelectorAll("ion-buttons"))}else De=Re.querySelectorAll("ion-buttons");for(const _e of De){const et=_e.closest("ion-header"),ut=et&&!et.classList.contains("header-collapse-condense-inactive"),Qe=_e.querySelector("ion-back-button"),we=_e.classList.contains("buttons-collapse");if(null!==Qe&&("start"===_e.slot||""===_e.slot)&&(we&&ut&&$e||!we))return Qe}return null},oe=(Re,$e,lt,De,_e,et)=>{const ut=$e?`calc(100% - ${et.right+4}px)`:et.left-4+"px",Qe=$e?"7px":"-7px",we=$e?"-4px":"4px",ke=$e?"-4px":"4px",Le=$e?"right":"left",be=$e?"left":"right",Be=lt?[{offset:0,opacity:1,transform:`translate3d(${we}, ${et.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Qe}, ${_e.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Qe}, ${_e.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${we}, ${et.top-46}px, 0) scale(1)`}],ct=lt?[{offset:0,opacity:1,transform:`translate3d(${ke}, ${et.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${ke}, ${et.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${ke}, ${et.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${ke}, ${et.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${ke}, ${et.top-46}px, 0) scale(1)`}],Pt=(0,g.c)(),Tt=(0,g.c)(),Lt=Te("ion-back-button"),We=de(Lt).querySelector(".button-text"),ae=de(Lt).querySelector("ion-icon");Lt.text=De.text,Lt.mode=De.mode,Lt.icon=De.icon,Lt.color=De.color,Lt.disabled=De.disabled,Lt.style.setProperty("display","block"),Lt.style.setProperty("position","fixed"),Tt.addElement(ae),Pt.addElement(We),Pt.beforeStyles({"transform-origin":`${Le} center`}).beforeAddWrite(()=>{De.style.setProperty("display","none"),Lt.style.setProperty(Le,ut)}).afterAddWrite(()=>{De.style.setProperty("display",""),Lt.style.setProperty("display","none"),Lt.style.removeProperty(Le)}).keyframes(Be),Tt.beforeStyles({"transform-origin":`${be} center`}).keyframes(ct),Re.addAnimation([Pt,Tt])},Me=(Re,$e,lt,De,_e,et)=>{const ut=$e?`calc(100% - ${_e.right}px)`:`${_e.left}px`,Qe=$e?"-18px":"18px",we=$e?"right":"left",be=lt?[{offset:0,opacity:0,transform:`translate3d(${Qe}, ${et.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${_e.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${_e.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Qe}, ${et.top-4}px, 0) scale(0.5)`}],Z=Te("ion-title"),me=(0,g.c)();Z.innerText=De.innerText,Z.size=De.size,Z.color=De.color,me.addElement(Z),me.beforeStyles({"transform-origin":`${we} center`,height:"46px",display:"",position:"relative",[we]:ut}).beforeAddWrite(()=>{De.style.setProperty("display","none")}).afterAddWrite(()=>{De.style.setProperty("display",""),Z.style.setProperty("display","none")}).keyframes(be),Re.addAnimation(me)},Ee=(Re,$e)=>{var lt;try{const De="cubic-bezier(0.32,0.72,0,1)",_e="opacity",et="transform",ut="0%",we="rtl"===Re.ownerDocument.dir,ke=we?"-99.5%":"99.5%",Le=we?"33%":"-33%",be=$e.enteringEl,Z=$e.leavingEl,me="back"===$e.direction,Be=be.querySelector(":scope > ion-content"),Je=be.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),je=be.querySelectorAll(":scope > ion-header > ion-toolbar"),ct=(0,g.c)(),Pt=(0,g.c)();if(ct.addElement(be).duration((null!==(lt=$e.duration)&&void 0!==lt?lt:0)||540).easing($e.easing||De).fill("both").beforeRemoveClass("ion-page-invisible"),Z&&null!=Re){const ae=(0,g.c)();ae.addElement(Re),ct.addAnimation(ae)}if(Be||0!==je.length||0!==Je.length?(Pt.addElement(Be),Pt.addElement(Je)):Pt.addElement(be.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ct.addAnimation(Pt),me?Pt.beforeClearStyles([_e]).fromTo("transform",`translateX(${Le})`,`translateX(${ut})`).fromTo(_e,.8,1):Pt.beforeClearStyles([_e]).fromTo("transform",`translateX(${ke})`,`translateX(${ut})`),Be){const ae=de(Be).querySelector(".transition-effect");if(ae){const ge=ae.querySelector(".transition-cover"),Oe=ae.querySelector(".transition-shadow"),ze=(0,g.c)(),tt=(0,g.c)(),Ze=(0,g.c)();ze.addElement(ae).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),tt.addElement(ge).beforeClearStyles([_e]).fromTo(_e,0,.1),Ze.addElement(Oe).beforeClearStyles([_e]).fromTo(_e,.03,.7),ze.addAnimation([tt,Ze]),Pt.addAnimation([ze])}}const Tt=be.querySelector("ion-header.header-collapse-condense"),{forward:Lt,backward:We}=((Re,$e,lt,De,_e)=>{const et=Ne(De,lt),ut=He(_e),Qe=He(De),we=Ne(_e,lt),ke=null!==et&&null!==ut&&!lt,Le=null!==Qe&&null!==we&&lt;if(ke){const be=ut.getBoundingClientRect(),Z=et.getBoundingClientRect();Me(Re,$e,lt,ut,be,Z),oe(Re,$e,lt,et,be,Z)}else if(Le){const be=Qe.getBoundingClientRect(),Z=we.getBoundingClientRect();Me(Re,$e,lt,Qe,be,Z),oe(Re,$e,lt,we,be,Z)}return{forward:ke,backward:Le}})(ct,we,me,be,Z);if(je.forEach(ae=>{const ge=(0,g.c)();ge.addElement(ae),ct.addAnimation(ge);const Oe=(0,g.c)();Oe.addElement(ae.querySelector("ion-title"));const ze=(0,g.c)(),tt=Array.from(ae.querySelectorAll("ion-buttons,[menuToggle]")),Ze=ae.closest("ion-header"),Nt=null==Ze?void 0:Ze.classList.contains("header-collapse-condense-inactive");let kt;kt=tt.filter(me?St=>{const Zt=St.classList.contains("buttons-collapse");return Zt&&!Nt||!Zt}:St=>!St.classList.contains("buttons-collapse")),ze.addElement(kt);const It=(0,g.c)();It.addElement(ae.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const pe=(0,g.c)();pe.addElement(de(ae).querySelector(".toolbar-background"));const dt=(0,g.c)(),mt=ae.querySelector("ion-back-button");if(mt&&dt.addElement(mt),ge.addAnimation([Oe,ze,It,pe,dt]),ze.fromTo(_e,.01,1),It.fromTo(_e,.01,1),me)Nt||Oe.fromTo("transform",`translateX(${Le})`,`translateX(${ut})`).fromTo(_e,.01,1),It.fromTo("transform",`translateX(${Le})`,`translateX(${ut})`),dt.fromTo(_e,.01,1);else if(Tt||Oe.fromTo("transform",`translateX(${ke})`,`translateX(${ut})`).fromTo(_e,.01,1),It.fromTo("transform",`translateX(${ke})`,`translateX(${ut})`),pe.beforeClearStyles([_e,"transform"]),(null==Ze?void 0:Ze.translucent)?pe.fromTo("transform",we?"translateX(-100%)":"translateX(100%)","translateX(0px)"):pe.fromTo(_e,.01,"var(--opacity)"),Lt||dt.fromTo(_e,.01,1),mt&&!Lt){const Zt=(0,g.c)();Zt.addElement(de(mt).querySelector(".button-text")).fromTo("transform",we?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ge.addAnimation(Zt)}}),Z){const ae=(0,g.c)(),ge=Z.querySelector(":scope > ion-content"),Oe=Z.querySelectorAll(":scope > ion-header > ion-toolbar"),ze=Z.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ge||0!==Oe.length||0!==ze.length?(ae.addElement(ge),ae.addElement(ze)):ae.addElement(Z.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ct.addAnimation(ae),me){ae.beforeClearStyles([_e]).fromTo("transform",`translateX(${ut})`,we?"translateX(-100%)":"translateX(100%)");const tt=(0,m.g)(Z);ct.afterAddWrite(()=>{"normal"===ct.getDirection()&&tt.style.setProperty("display","none")})}else ae.fromTo("transform",`translateX(${ut})`,`translateX(${Le})`).fromTo(_e,1,.8);if(ge){const tt=de(ge).querySelector(".transition-effect");if(tt){const Ze=tt.querySelector(".transition-cover"),Nt=tt.querySelector(".transition-shadow"),kt=(0,g.c)(),It=(0,g.c)(),pe=(0,g.c)();kt.addElement(tt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),It.addElement(Ze).beforeClearStyles([_e]).fromTo(_e,.1,0),pe.addElement(Nt).beforeClearStyles([_e]).fromTo(_e,.7,.03),kt.addAnimation([It,pe]),ae.addAnimation([kt])}}Oe.forEach(tt=>{const Ze=(0,g.c)();Ze.addElement(tt);const Nt=(0,g.c)();Nt.addElement(tt.querySelector("ion-title"));const kt=(0,g.c)(),It=tt.querySelectorAll("ion-buttons,[menuToggle]"),pe=tt.closest("ion-header"),dt=null==pe?void 0:pe.classList.contains("header-collapse-condense-inactive"),mt=Array.from(It).filter(Tn=>{const En=Tn.classList.contains("buttons-collapse");return En&&!dt||!En});kt.addElement(mt);const St=(0,g.c)(),Zt=tt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Zt.length>0&&St.addElement(Zt);const In=(0,g.c)();In.addElement(de(tt).querySelector(".toolbar-background"));const qt=(0,g.c)(),Pn=tt.querySelector("ion-back-button");if(Pn&&qt.addElement(Pn),Ze.addAnimation([Nt,kt,St,qt,In]),ct.addAnimation(Ze),qt.fromTo(_e,.99,0),kt.fromTo(_e,.99,0),St.fromTo(_e,.99,0),me){if(dt||Nt.fromTo("transform",`translateX(${ut})`,we?"translateX(-100%)":"translateX(100%)").fromTo(_e,.99,0),St.fromTo("transform",`translateX(${ut})`,we?"translateX(-100%)":"translateX(100%)"),In.beforeClearStyles([_e,"transform"]),(null==pe?void 0:pe.translucent)?In.fromTo("transform","translateX(0px)",we?"translateX(-100%)":"translateX(100%)"):In.fromTo(_e,"var(--opacity)",0),Pn&&!We){const En=(0,g.c)();En.addElement(de(Pn).querySelector(".button-text")).fromTo("transform",`translateX(${ut})`,`translateX(${(we?-124:124)+"px"})`),Ze.addAnimation(En)}}else dt||Nt.fromTo("transform",`translateX(${ut})`,`translateX(${Le})`).fromTo(_e,.99,0).afterClearStyles([et,_e]),St.fromTo("transform",`translateX(${ut})`,`translateX(${Le})`).afterClearStyles([et,_e]),qt.afterClearStyles([_e]),Nt.afterClearStyles([_e]),kt.afterClearStyles([_e])})}return ct}catch(De){throw De}}},1904:(Jt,nt,N)=>{"use strict";N.r(nt),N.d(nt,{mdTransitionAnimation:()=>Se});var g=N(1774),m=N(1651);N(6225),N(1688);const Se=(Te,de)=>{var He,Ne,he;const Ee="back"===de.direction,$e=de.leavingEl,lt=(0,m.g)(de.enteringEl),De=lt.querySelector("ion-toolbar"),_e=(0,g.c)();if(_e.addElement(lt).fill("both").beforeRemoveClass("ion-page-invisible"),Ee?_e.duration((null!==(He=de.duration)&&void 0!==He?He:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):_e.duration((null!==(Ne=de.duration)&&void 0!==Ne?Ne:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),De){const et=(0,g.c)();et.addElement(De),_e.addAnimation(et)}if($e&&Ee){_e.duration((null!==(he=de.duration)&&void 0!==he?he:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const et=(0,g.c)();et.addElement((0,m.g)($e)).onFinish(ut=>{1===ut&&et.elements.length>0&&et.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),_e.addAnimation(et)}return _e}},4988:(Jt,nt,N)=>{"use strict";N.d(nt,{B:()=>Ze,G:()=>Nt,a:()=>oe,b:()=>Me,c:()=>lt,d:()=>kt,e:()=>It,f:()=>ct,g:()=>Tt,h:()=>ae,i:()=>Oe,j:()=>_e,k:()=>et,m:()=>Re,n:()=>Ne,o:()=>we,q:()=>Je,s:()=>tt});var g=N(5861),m=N(2085),K=N(1042),re=N(2124),Se=N(839),Te=N(6710);let de=0,He=0;const Ne=new WeakMap,he=pe=>({create:dt=>ut(pe,dt),dismiss:(dt,mt,St)=>me(document,dt,mt,pe,St),getTop:()=>(0,g.Z)(function*(){return Je(document,pe)})()}),oe=he("ion-alert"),Me=he("ion-action-sheet"),Re=he("ion-modal"),lt=he("ion-popover"),_e=pe=>{typeof document<"u"&&Z(document);const dt=de++;pe.overlayIndex=dt},et=pe=>(pe.hasAttribute("id")||(pe.id="ion-overlay-"+ ++He),pe.id),ut=(pe,dt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(pe).then(()=>{const mt=document.createElement(pe);return mt.classList.add("overlay-hidden"),Object.assign(mt,Object.assign(Object.assign({},dt),{hasController:!0})),Lt(document).appendChild(mt),new Promise(St=>(0,Se.c)(mt,St))}):Promise.resolve(),Qe='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',we=(pe,dt)=>{let mt=pe.querySelector(Qe);const St=null==mt?void 0:mt.shadowRoot;St&&(mt=St.querySelector(Qe)||mt),mt?(0,Se.f)(mt):dt.focus()},Le=(pe,dt)=>{const mt=Array.from(pe.querySelectorAll(Qe));let St=mt.length>0?mt[mt.length-1]:null;const Zt=null==St?void 0:St.shadowRoot;Zt&&(St=Zt.querySelector(Qe)||St),St?St.focus():dt.focus()},Z=pe=>{0===de&&(de=1,pe.addEventListener("focus",dt=>{((pe,dt)=>{const mt=Je(dt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),St=pe.target;mt&&St&&!mt.classList.contains("ion-disable-focus-trap")&&(mt.shadowRoot?(()=>{if(mt.contains(St))mt.lastFocus=St;else{const qt=mt.lastFocus;we(mt,mt),qt===dt.activeElement&&Le(mt,mt),mt.lastFocus=dt.activeElement}})():(()=>{if(mt===St)mt.lastFocus=void 0;else{const qt=(0,Se.g)(mt);if(!qt.contains(St))return;const Pn=qt.querySelector(".ion-overlay-wrapper");if(!Pn)return;if(Pn.contains(St)||St===qt.querySelector("ion-backdrop"))mt.lastFocus=St;else{const Tn=mt.lastFocus;we(Pn,mt),Tn===dt.activeElement&&Le(Pn,mt),mt.lastFocus=dt.activeElement}}})())})(dt,pe)},!0),pe.addEventListener("ionBackButton",dt=>{const mt=Je(pe);null!=mt&&mt.backdropDismiss&&dt.detail.register(re.OVERLAY_BACK_BUTTON_PRIORITY,()=>mt.dismiss(void 0,Ze))}),pe.addEventListener("keydown",dt=>{if("Escape"===dt.key){const mt=Je(pe);null!=mt&&mt.backdropDismiss&&mt.dismiss(void 0,Ze)}}))},me=(pe,dt,mt,St,Zt)=>{const In=Je(pe,St,Zt);return In?In.dismiss(dt,mt):Promise.reject("overlay does not exist")},Je=(pe,dt,mt)=>{const St=((pe,dt)=>(void 0===dt&&(dt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(pe.querySelectorAll(dt)).filter(mt=>mt.overlayIndex>0)))(pe,dt).filter(Zt=>!(pe=>pe.classList.contains("overlay-hidden"))(Zt));return void 0===mt?St[St.length-1]:St.find(Zt=>Zt.id===mt)},je=(pe=!1)=>{const mt=Lt(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");mt&&(pe?mt.setAttribute("aria-hidden","true"):mt.removeAttribute("aria-hidden"))},ct=function(){var pe=(0,g.Z)(function*(dt,mt,St,Zt,In){var qt,Pn;if(dt.presented)return;je(!0),dt.presented=!0,dt.willPresent.emit(),null===(qt=dt.willPresentShorthand)||void 0===qt||qt.emit();const Tn=(0,m.b)(dt),En=dt.enterAnimation?dt.enterAnimation:m.c.get(mt,"ios"===Tn?St:Zt);(yield We(dt,En,dt.el,In))&&(dt.didPresent.emit(),null===(Pn=dt.didPresentShorthand)||void 0===Pn||Pn.emit()),"ION-TOAST"!==dt.el.tagName&&Pt(dt.el),dt.keyboardClose&&(null===document.activeElement||!dt.el.contains(document.activeElement))&&dt.el.focus()});return function(mt,St,Zt,In,qt){return pe.apply(this,arguments)}}(),Pt=function(){var pe=(0,g.Z)(function*(dt){let mt=document.activeElement;if(!mt)return;const St=null==mt?void 0:mt.shadowRoot;St&&(mt=St.querySelector(Qe)||mt),yield dt.onDidDismiss(),mt.focus()});return function(mt){return pe.apply(this,arguments)}}(),Tt=function(){var pe=(0,g.Z)(function*(dt,mt,St,Zt,In,qt,Pn){var Tn,En;if(!dt.presented)return!1;je(!1),dt.presented=!1;try{dt.el.style.setProperty("pointer-events","none"),dt.willDismiss.emit({data:mt,role:St}),null===(Tn=dt.willDismissShorthand)||void 0===Tn||Tn.emit({data:mt,role:St});const yn=(0,m.b)(dt),Nn=dt.leaveAnimation?dt.leaveAnimation:m.c.get(Zt,"ios"===yn?In:qt);St!==Nt&&(yield We(dt,Nn,dt.el,Pn)),dt.didDismiss.emit({data:mt,role:St}),null===(En=dt.didDismissShorthand)||void 0===En||En.emit({data:mt,role:St}),Ne.delete(dt),dt.el.classList.add("overlay-hidden"),dt.el.style.removeProperty("pointer-events"),void 0!==dt.el.lastFocus&&(dt.el.lastFocus=void 0)}catch(yn){console.error(yn)}return dt.el.remove(),!0});return function(mt,St,Zt,In,qt,Pn,Tn){return pe.apply(this,arguments)}}(),Lt=pe=>pe.querySelector("ion-app")||pe.body,We=function(){var pe=(0,g.Z)(function*(dt,mt,St,Zt){St.classList.remove("overlay-hidden");const qt=mt(dt.el,Zt);(!dt.animated||!m.c.getBoolean("animated",!0))&&qt.duration(0),dt.keyboardClose&&qt.beforeAddWrite(()=>{const Tn=St.ownerDocument.activeElement;null!=Tn&&Tn.matches("input,ion-input, ion-textarea")&&Tn.blur()});const Pn=Ne.get(dt)||[];return Ne.set(dt,[...Pn,qt]),yield qt.play(),!0});return function(mt,St,Zt,In){return pe.apply(this,arguments)}}(),ae=(pe,dt)=>{let mt;const St=new Promise(Zt=>mt=Zt);return ge(pe,dt,Zt=>{mt(Zt.detail)}),St},ge=(pe,dt,mt)=>{const St=Zt=>{(0,Se.b)(pe,dt,St),mt(Zt)};(0,Se.a)(pe,dt,St)},Oe=pe=>"cancel"===pe||pe===Ze,ze=pe=>pe(),tt=(pe,dt)=>{if("function"==typeof pe)return m.c.get("_zoneGate",ze)(()=>{try{return pe(dt)}catch(St){throw St}})},Ze="backdrop",Nt="gesture",kt=pe=>{let mt,dt=!1;const St=(0,K.C)(),Zt=(Pn=!1)=>{if(mt&&!Pn)return{delegate:mt,inline:dt};const{el:Tn,hasController:En,delegate:yn}=pe;return dt=null!==Tn.parentNode&&!En,mt=dt?yn||St:yn,{inline:dt,delegate:mt}};return{attachViewToDom:function(){var Pn=(0,g.Z)(function*(Tn){const{delegate:En}=Zt(!0);if(En)return yield En.attachViewToDom(pe.el,Tn);const{hasController:yn}=pe;if(yn&&void 0!==Tn)throw new Error("framework delegate is missing");return null});return function(En){return Pn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Pn}=Zt();Pn&&void 0!==pe.el&&Pn.removeViewFromDom(pe.el.parentElement,pe.el)}}},It=()=>{let pe;const dt=()=>{pe&&(pe(),pe=void 0)};return{addClickListener:(St,Zt)=>{dt();const In=void 0!==Zt?document.getElementById(Zt):null;In?pe=((Pn,Tn)=>{const En=()=>{Tn.present()};return Pn.addEventListener("click",En),()=>{Pn.removeEventListener("click",En)}})(In,St):(0,Te.p)(`A trigger element with the ID "${Zt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,St)},removeClickListener:dt}}},553:(Jt,nt,N)=>{"use strict";N.d(nt,{N:()=>g});const g={production:!0,firebaseConfig:{apiKey:"AIzaSyCW7sZrFFbVtCNftNmhdlFHXsk-jh6o4LI",authDomain:"greenhousseweb.firebaseapp.com",projectId:"greenhousseweb",storageBucket:"greenhousseweb.appspot.com",messagingSenderId:"105586037829",appId:"1:105586037829:web:6624f0ab6ad34fd2f37f2c",measurementId:"G-G7B8RH27R5"},dataApp:{nombreApp:"Extra rapido los Motilones S A",logo:"assets/icon/favicon.png"}}},4469:(Jt,nt,N)=>{"use strict";var g=N(5879),m=N(6593),K=N(4934),re=N(7027);const Se=[{path:"main-page",loadComponent:()=>N.e(9933).then(N.bind(N,9933)).then(r=>r.MainPageComponent)},{path:"",redirectTo:"main-page",pathMatch:"full"},{path:"login-page",loadComponent:()=>N.e(5064).then(N.bind(N,5064)).then(r=>r.LoginPageComponent)}];var Te=N(6814),de=N(553);let He=(()=>{var r;class e{constructor(){this.dataApp=de.N.dataApp}}return(r=e).\u0275fac=function(o){return new(o||r)},r.\u0275cmp=g.Xpm({type:r,selectors:[["app-root"]],standalone:!0,features:[g.jDz],decls:8,vars:4,consts:[[3,"translucent"],["color","alto"],[2,"display","flex","justify-content","space-between"],[2,"padding","0.5rem","font-size","1rem"]],template:function(o,l){1&o&&(g.TgZ(0,"ion-app")(1,"ion-header",0)(2,"ion-toolbar",1)(3,"div",2)(4,"span",3),g._uU(5),g.ALo(6,"titlecase"),g.qZA()()()(),g._UZ(7,"ion-router-outlet"),g.qZA()),2&o&&(g.xp6(1),g.Q6J("translucent",!0),g.xp6(4),g.hij(" ",g.lcZ(6,2,l.dataApp.nombreApp)," "))},dependencies:[re.Pc,re.dr,re.Gu,re.sr,re.jP,Te.ez,Te.rS]}),e})();var Ne=N(6304),he=N(6796),oe=N(6321),Me=N(5592),Ee=N(2459),Re=N(2096),$e=N(2793),lt=N(7921),De=N(9360),_e=N(8251);function et(){return(0,De.e)((r,e)=>{let t,o=!1;r.subscribe((0,_e.x)(e,l=>{const u=t;t=l,o&&e.next([u,l]),o=!0}))})}var Tt,ut=N(7398),Qe=N(6699),we=N(3997),ke=N(2181),be=(N(8977),N(3399)),Z=N(5861),me=N(7592),Be=N(4537),Je=N(7879),je=N(9058),ct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pt={},Lt=Lt||{},We=ct||self;function ae(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function ge(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var ze="closure_uid_"+(1e9*Math.random()>>>0),tt=0;function Ze(r,e,t){return r.call.apply(r.bind,arguments)}function Nt(r,e,t){if(!r)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,o),r.apply(e,l)}}return function(){return r.apply(e,arguments)}}function kt(r,e,t){return(kt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ze:Nt).apply(null,arguments)}function It(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),r.apply(this,o)}}function pe(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(o,l,u){for(var f=Array(arguments.length-2),C=2;C<arguments.length;C++)f[C-2]=arguments[C];return e.prototype[l].apply(o,f)}}function dt(){this.s=this.s,this.o=this.o}dt.prototype.s=!1,dt.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Oe(r){Object.prototype.hasOwnProperty.call(r,ze)&&r[ze]||(r[ze]=++tt)}(this)},dt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const St=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function Zt(r){const e=r.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=r[o];return t}return[]}function In(r,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(ae(o)){const l=r.length||0,u=o.length||0;r.length=l+u;for(let f=0;f<u;f++)r[l+f]=o[f]}else r.push(o)}}function qt(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}qt.prototype.h=function(){this.defaultPrevented=!0};var Pn=function(){if(!We.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{We.addEventListener("test",()=>{},e),We.removeEventListener("test",()=>{},e)}catch{}return r}();function Tn(r){return/^[\s\xa0]*$/.test(r)}function En(){var r=We.navigator;return r&&(r=r.userAgent)?r:""}function yn(r){return-1!=En().indexOf(r)}function Nn(r){return Nn[" "](r),r}Nn[" "]=function(){};var en,r,_r=yn("Opera"),Ar=yn("Trident")||yn("MSIE"),Qt=yn("Edge"),kn=Qt||Ar,Mr=yn("Gecko")&&!(-1!=En().toLowerCase().indexOf("webkit")&&!yn("Edge"))&&!(yn("Trident")||yn("MSIE"))&&!yn("Edge"),qn=-1!=En().toLowerCase().indexOf("webkit")&&!yn("Edge");function fr(){var r=We.document;return r?r.documentMode:void 0}e:{var Rn="",Bt=(r=En(),Mr?/rv:([^\);]+)(\)|;)/.exec(r):Qt?/Edge\/([\d\.]+)/.exec(r):Ar?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):qn?/WebKit\/(\S+)/.exec(r):_r?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Bt&&(Rn=Bt?Bt[1]:""),Ar){var Qn=fr();if(null!=Qn&&Qn>parseFloat(Rn)){en=String(Qn);break e}}en=Rn}var ci=We.document&&Ar&&(fr()||parseInt(en,10))||void 0;function Xr(r,e){if(qt.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,o=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(Mr){e:{try{Nn(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Ei[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Xr.$.h.call(this)}}pe(Xr,qt);var Ei={2:"touch",3:"pen",4:"mouse"};Xr.prototype.h=function(){Xr.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Ir="closure_listenable_"+(1e6*Math.random()|0),pi=0;function Dt(r,e,t,o,l){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.la=l,this.key=++pi,this.fa=this.ia=!1}function Ve(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function Et(r,e,t){for(const o in r)e.call(t,r[o],o,r)}function tn(r){const e={};for(const t in r)e[t]=r[t];return e}const mn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function On(r,e){let t,o;for(let l=1;l<arguments.length;l++){for(t in o=arguments[l],o)r[t]=o[t];for(let u=0;u<mn.length;u++)t=mn[u],Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}}function Pe(r){this.src=r,this.g={},this.h=0}function te(r,e){var t=e.type;if(t in r.g){var u,o=r.g[t],l=St(o,e);(u=0<=l)&&Array.prototype.splice.call(o,l,1),u&&(Ve(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function X(r,e,t,o){for(var l=0;l<r.length;++l){var u=r[l];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==o)return l}return-1}Pe.prototype.add=function(r,e,t,o,l){var u=r.toString();(r=this.g[u])||(r=this.g[u]=[],this.h++);var f=X(r,e,o,l);return-1<f?(e=r[f],t||(e.ia=!1)):((e=new Dt(e,this.src,u,!!o,l)).ia=t,r.push(e)),e};var Ae="closure_lm_"+(1e6*Math.random()|0),ne={};function Ye(r,e,t,o,l){if(o&&o.once)return dn(r,e,t,o,l);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Ye(r,e[u],t,o,l);return null}return t=Vi(t),r&&r[Ir]?r.O(e,t,ge(o)?!!o.capture:!!o,l):_t(r,e,t,!1,o,l)}function _t(r,e,t,o,l,u){if(!e)throw Error("Invalid event type");var f=ge(l)?!!l.capture:!!l,C=Dr(r);if(C||(r[Ae]=C=new Pe(r)),(t=C.add(e,t,o,f,u)).proxy)return t;if(o=function jt(){const e=Pr;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=o,o.src=r,o.listener=t,r.addEventListener)Pn||(l=f),void 0===l&&(l=!1),r.addEventListener(e.toString(),o,l);else if(r.attachEvent)r.attachEvent(zn(e.toString()),o);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(o)}return t}function dn(r,e,t,o,l){if(Array.isArray(e)){for(var u=0;u<e.length;u++)dn(r,e[u],t,o,l);return null}return t=Vi(t),r&&r[Ir]?r.P(e,t,ge(o)?!!o.capture:!!o,l):_t(r,e,t,!0,o,l)}function jn(r,e,t,o,l){if(Array.isArray(e))for(var u=0;u<e.length;u++)jn(r,e[u],t,o,l);else o=ge(o)?!!o.capture:!!o,t=Vi(t),r&&r[Ir]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=X(u=r.g[e],t,o,l))&&(Ve(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete r.g[e],r.h--))):r&&(r=Dr(r))&&(e=r.g[e.toString()],r=-1,e&&(r=X(e,t,o,l)),(t=-1<r?e[r]:null)&&Dn(t))}function Dn(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[Ir])te(e.i,r);else{var t=r.type,o=r.proxy;e.removeEventListener?e.removeEventListener(t,o,r.capture):e.detachEvent?e.detachEvent(zn(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=Dr(e))?(te(t,r),0==t.h&&(t.src=null,e[Ae]=null)):Ve(r)}}}function zn(r){return r in ne?ne[r]:ne[r]="on"+r}function Pr(r,e){if(r.fa)r=!0;else{e=new Xr(e,this);var t=r.listener,o=r.la||r.src;r.ia&&Dn(r),r=t.call(o,e)}return r}function Dr(r){return(r=r[Ae])instanceof Pe?r:null}var Ni="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vi(r){return"function"==typeof r?r:(r[Ni]||(r[Ni]=function(e){return r.handleEvent(e)}),r[Ni])}function xr(){dt.call(this),this.i=new Pe(this),this.S=this,this.J=null}function Zn(r,e){var t,o=r.J;if(o)for(t=[];o;o=o.J)t.push(o);if(r=r.S,o=e.type||e,"string"==typeof e)e=new qt(e,r);else if(e instanceof qt)e.target=e.target||r;else{var l=e;On(e=new qt(o,r),l)}if(l=!0,t)for(var u=t.length-1;0<=u;u--){var f=e.g=t[u];l=Nr(f,o,!0,e)&&l}if(l=Nr(f=e.g=r,o,!0,e)&&l,l=Nr(f,o,!1,e)&&l,t)for(u=0;u<t.length;u++)l=Nr(f=e.g=t[u],o,!1,e)&&l}function Nr(r,e,t,o){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,u=0;u<e.length;++u){var f=e[u];if(f&&!f.fa&&f.capture==t){var C=f.listener,O=f.la||f.src;f.ia&&te(r.i,f),l=!1!==C.call(O,o)&&l}}return l&&!o.defaultPrevented}pe(xr,dt),xr.prototype[Ir]=!0,xr.prototype.removeEventListener=function(r,e,t,o){jn(this,r,e,t,o)},xr.prototype.N=function(){if(xr.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],o=0;o<t.length;o++)Ve(t[o]);delete r.g[e],r.h--}}this.J=null},xr.prototype.O=function(r,e,t,o){return this.i.add(String(r),e,!1,t,o)},xr.prototype.P=function(r,e,t,o){return this.i.add(String(r),e,!0,t,o)};var bi=We.JSON.stringify;function Wn(){var r=Co;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var Ui=new class ri{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new to,r=>r.reset());class to{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ui(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function ii(r){We.setTimeout(()=>{throw r},0)}let Er,nr=!1,Co=new class xi{constructor(){this.h=this.g=null}add(e,t){const o=Ui.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}},so=()=>{const r=We.Promise.resolve(void 0);Er=()=>{r.then(Ri)}};var Ri=()=>{for(var r;r=Wn();){try{r.h.call(r.g)}catch(t){ii(t)}var e=Ui;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}nr=!1};function ao(r,e){xr.call(this),this.h=r||1,this.g=e||We,this.j=kt(this.qb,this),this.l=Date.now()}function Oi(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function Zi(r,e,t){if("function"==typeof r)t&&(r=kt(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=kt(r.handleEvent,r)}return 2147483647<Number(e)?-1:We.setTimeout(r,e||0)}function cr(r){r.g=Zi(()=>{r.g=null,r.i&&(r.i=!1,cr(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}pe(ao,xr),(Tt=ao.prototype).ga=!1,Tt.T=null,Tt.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Zn(this,"tick"),this.ga&&(Oi(this),this.start()))}},Tt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Tt.N=function(){ao.$.N.call(this),Oi(this),delete this.g};class ji extends dt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:cr(this)}N(){super.N(),this.g&&(We.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wi(r){dt.call(this),this.h=r,this.g={}}pe(wi,dt);var no=[];function Hi(r,e,t,o){Array.isArray(t)||(t&&(no[0]=t.toString()),t=no);for(var l=0;l<t.length;l++){var u=Ye(e,t[l],o||r.handleEvent,!1,r.h||r);if(!u)break;r.g[u.key]=u}}function Lr(r){Et(r.g,function(e,t){this.g.hasOwnProperty(t)&&Dn(e)},r),r.g={}}function Q(){this.g=!0}function xe(r,e,t,o){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function st(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var o=t[r];if(!(2>o.length)){var l=o[1];if(Array.isArray(l)&&!(1>l.length)){var u=l[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var f=1;f<l.length;f++)l[f]=""}}}return bi(t)}catch{return e}}(r,t)+(o?" "+o:"")})}wi.prototype.N=function(){wi.$.N.call(this),Lr(this)},wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Q.prototype.Ea=function(){this.g=!1},Q.prototype.info=function(){};var bt={},Ft=null;function Rt(){return Ft=Ft||new xr}function $t(r){qt.call(this,bt.Ta,r)}function sn(r){const e=Rt();Zn(e,new $t(e))}function Yn(r,e){qt.call(this,bt.STAT_EVENT,r),this.stat=e}function An(r){const e=Rt();Zn(e,new Yn(e,r))}function gr(r,e){qt.call(this,bt.Ua,r),this.size=e}function Ke(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return We.setTimeout(function(){r()},e)}bt.Ta="serverreachability",pe($t,qt),bt.STAT_EVENT="statevent",pe(Yn,qt),bt.Ua="timingevent",pe(gr,qt);var Ge={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},at={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Mt(){}function nn(){}Mt.prototype.h=null;var Qr,Mn={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Hn(){qt.call(this,"d")}function ur(){qt.call(this,"c")}function ns(){}function zr(r,e,t,o){this.l=r,this.j=e,this.m=t,this.W=o||1,this.U=new wi(this),this.P=To,this.V=new ao(r=kn?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new No}function No(){this.i=null,this.g="",this.h=!1}pe(Hn,qt),pe(ur,qt),pe(ns,Mt),ns.prototype.g=function(){return new XMLHttpRequest},ns.prototype.i=function(){return{}},Qr=new ns;var To=45e3,lo={},$r={};function on(r,e,t){r.L=1,r.v=Wo(Jr(e)),r.s=t,r.S=!0,er(r,null)}function er(r,e){r.G=Date.now(),Di(r),r.A=Jr(r.v);var t=r.A,o=r.W;Array.isArray(o)||(o=[String(o)]),Ci(t.i,"t",o),r.C=0,t=r.l.J,r.h=new No,r.g=Fa(r.l,t?e:null,!r.s),0<r.O&&(r.M=new ji(kt(r.Pa,r,r.g),r.O)),Hi(r.U,r.g,"readystatechange",r.nb),e=r.I?tn(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),sn(),function W(r,e,t,o,l,u){r.info(function(){if(r.g)if(u)for(var f="",C=u.split("&"),O=0;O<C.length;O++){var B=C[O].split("=");if(1<B.length){var Y=B[0];B=B[1];var Ce=Y.split("_");f=2<=Ce.length&&"type"==Ce[1]?f+(Y+"=")+B+"&":f+(Y+"=redacted&")}}else f=null;else f=u;return"XMLHTTP REQ ("+o+") [attempt "+l+"]: "+e+"\n"+t+"\n"+f})}(r.j,r.u,r.A,r.m,r.W,r.s)}function Tr(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function zi(r,e,t){let l,o=!0;for(;!r.J&&r.C<t.length;){if(l=So(r,t),l==$r){4==e&&(r.o=4,An(14),o=!1),xe(r.j,r.m,null,"[Incomplete Response]");break}if(l==lo){r.o=4,An(15),xe(r.j,r.m,t,"[Invalid Chunk]"),o=!1;break}xe(r.j,r.m,l,null),$n(r,l)}Tr(r)&&l!=$r&&l!=lo&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,An(16),o=!1),r.i=r.i&&o,o?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),aa(e),e.M=!0,An(11))):(xe(r.j,r.m,t,"[Invalid Chunked Response]"),oi(r),yo(r))}function So(r,e){var t=r.C,o=e.indexOf("\n",t);return-1==o?$r:(t=Number(e.substring(t,o)),isNaN(t)?lo:(o+=1)+t>e.length?$r:(e=e.slice(o,o+t),r.C=o+t,e))}function Di(r){r.Y=Date.now()+r.P,Ao(r,r.P)}function Ao(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Ke(kt(r.lb,r),e)}function Vr(r){r.B&&(We.clearTimeout(r.B),r.B=null)}function yo(r){0==r.l.H||r.J||Xa(r.l,r)}function oi(r){Vr(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,Oi(r.V),Lr(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function $n(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||ss(t.i,r)))if(!r.K&&ss(t.i,r)&&3==t.H){try{var o=t.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var l=o;if(0==l[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;Za(t),ka(t)}Ks(t),An(18)}}else t.Fa=l[1],0<t.Fa-t.V&&37500>l[2]&&t.G&&0==t.A&&!t.v&&(t.v=Ke(kt(t.ib,t),6e3));if(1>=ws(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Is(t,11)}else if((r.K||t.g==r)&&Za(t),!Tn(e))for(l=t.Ja.g.parse(e),e=0;e<l.length;e++){let B=l[e];if(t.V=B[0],B=B[1],2==t.H)if("c"==B[0]){t.K=B[1],t.pa=B[2];const Y=B[3];null!=Y&&(t.ra=Y,t.l.info("VER="+t.ra));const Ce=B[4];null!=Ce&&(t.Ga=Ce,t.l.info("SVER="+t.Ga));const it=B[5];null!=it&&"number"==typeof it&&0<it&&(t.L=o=1.5*it,t.l.info("backChannelRequestTimeoutMs_="+o)),o=t;const yt=r.g;if(yt){const Ut=yt.g?yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ut){var u=o.i;u.g||-1==Ut.indexOf("spdy")&&-1==Ut.indexOf("quic")&&-1==Ut.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Hs(u,u.h),u.h=null))}if(o.F){const fn=yt.g?yt.g.getResponseHeader("X-HTTP-Session-Id"):null;fn&&(o.Da=fn,pr(o.I,o.F,fn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var f=r;if((o=t).wa=ma(o,o.J?o.pa:null,o.Y),f.K){zs(o.i,f);var C=f,O=o.L;O&&C.setTimeout(O),C.B&&(Vr(C),Di(C)),o.g=f}else sa(o);0<t.j.length&&qs(t)}else"stop"!=B[0]&&"close"!=B[0]||Is(t,7);else 3==t.H&&("stop"==B[0]||"close"==B[0]?"stop"==B[0]?Is(t,7):Ji(t):"noop"!=B[0]&&t.h&&t.h.Aa(B),t.A=0)}sn()}catch{}}function Mo(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(ae(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function Rs(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(ae(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const o in r)e[t++]=o;return e}}}(r),o=function gs(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(ae(r)){for(var e=[],t=r.length,o=0;o<t;o++)e.push(r[o]);return e}for(o in e=[],t=0,r)e[t++]=r[o];return e}(r),l=o.length,u=0;u<l;u++)e.call(void 0,o[u],t&&t[u],r)}(Tt=zr.prototype).setTimeout=function(r){this.P=r},Tt.nb=function(r){r=r.target;const e=this.M;e&&3==mi(r)?e.l():this.Pa(r)},Tt.Pa=function(r){try{if(r==this.g)e:{const Y=mi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Y)&&(3!=Y||kn||this.g&&(this.h.h||this.g.ja()||Oo(this.g)))){this.J||4!=Y||7==e||sn(),Vr(this);var t=this.g.da();this.ca=t;t:if(Tr(this)){var o=Oo(this.g);r="";var l=o.length,u=4==mi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){oi(this),yo(this);var f="";break t}this.h.i=new We.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,r+=this.h.i.decode(o[e],{stream:u&&e==l-1});o.splice(0,l),this.h.g+=r,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==t,function ye(r,e,t,o,l,u,f){r.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+u+" "+f})}(this.j,this.u,this.A,this.m,this.W,Y,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var C,O=this.g;if((C=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tn(C)){var B=C;break t}}B=null}if(!(t=B)){this.i=!1,this.o=3,An(12),oi(this),yo(this);break e}xe(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$n(this,t)}this.S?(zi(this,Y,f),kn&&this.i&&3==Y&&(Hi(this.U,this.V,"tick",this.mb),this.V.start())):(xe(this.j,this.m,f,null),$n(this,f)),4==Y&&oi(this),this.i&&!this.J&&(4==Y?Xa(this.l,this):(this.i=!1,Di(this)))}else(function as(r){const e={};r=(r.g&&2<=mi(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<r.length;o++){if(Tn(r[o]))continue;var t=ui(r[o]);const l=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[l]||[];e[l]=u,u.push(t)}!function Yt(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(o){return o.join(", ")})})(this.g),400==t&&0<f.indexOf("Unknown SID")?(this.o=3,An(12)):(this.o=0,An(13)),oi(this),yo(this)}}}catch{}},Tt.mb=function(){if(this.g){var r=mi(this.g),e=this.g.ja();this.C<e.length&&(Vr(this),zi(this,r,e),this.i&&4!=r&&Di(this))}},Tt.cancel=function(){this.J=!0,oi(this)},Tt.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function pt(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(sn(),An(17)),oi(this),this.o=2,yo(this)):Ao(this,this.Y-r)};var di=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gi(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof gi){this.h=r.h,ro(this,r.j),this.s=r.s,this.g=r.g,vs(this,r.m),this.l=r.l;var e=r.i,t=new qo;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),_o(this,t),this.o=r.o}else r&&(e=String(r).match(di))?(this.h=!1,ro(this,e[1]||"",!0),this.s=Xi(e[2]||""),this.g=Xi(e[3]||"",!0),vs(this,e[4]),this.l=Xi(e[5]||"",!0),_o(this,e[6]||"",!0),this.o=Xi(e[7]||"")):(this.h=!1,this.i=new qo(null,this.h))}function Jr(r){return new gi(r)}function ro(r,e,t){r.j=t?Xi(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function vs(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function _o(r,e,t){e instanceof qo?(r.i=e,function qi(r,e){e&&!r.j&&(ei(r),r.i=null,r.g.forEach(function(t,o){var l=o.toLowerCase();o!=l&&(ys(this,o),Ci(this,l,t))},r)),r.j=e}(r.i,r.h)):(t||(e=ir(e,Gi)),r.i=new qo(e,r.h))}function pr(r,e,t){r.i.set(e,t)}function Wo(r){return pr(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Xi(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function ir(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,bs),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function bs(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}gi.prototype.toString=function(){var r=[],e=this.j;e&&r.push(ir(e,os,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(ir(e,os,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(ir(t,"/"==t.charAt(0)?Wr:xo,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",ir(t,Io)),r.join("")};var os=/[#\/\?@]/g,xo=/[#\?:]/g,Wr=/[#\?]/g,Gi=/[#\?@]/g,Io=/#/g;function qo(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function ei(r){r.g||(r.g=new Map,r.h=0,r.i&&function ms(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var o=r[t].indexOf("="),l=null;if(0<=o){var u=r[t].substring(0,o);l=r[t].substring(o+1)}else u=r[t];e(u,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ys(r,e){ei(r),e=Yo(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function Wi(r,e){return ei(r),e=Yo(r,e),r.g.has(e)}function Ci(r,e,t){ys(r,e),0<t.length&&(r.i=null,r.g.set(Yo(r,e),Zt(t)),r.h+=t.length)}function Yo(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Pi(r){this.l=r||_s,r=We.PerformanceNavigationTiming?0<(r=We.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(We.g&&We.g.Ka&&We.g.Ka()&&We.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Tt=qo.prototype).add=function(r,e){ei(this),this.i=null,r=Yo(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},Tt.forEach=function(r,e){ei(this),this.g.forEach(function(t,o){t.forEach(function(l){r.call(e,l,o,this)},this)},this)},Tt.ta=function(){ei(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const l=r[o];for(let u=0;u<l.length;u++)t.push(e[o])}return t},Tt.Z=function(r){ei(this);let e=[];if("string"==typeof r)Wi(this,r)&&(e=e.concat(this.g.get(Yo(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},Tt.set=function(r,e){return ei(this),this.i=null,Wi(this,r=Yo(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},Tt.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},Tt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const u=encodeURIComponent(String(o)),f=this.Z(o);for(o=0;o<f.length;o++){var l=u;""!==f[o]&&(l+="="+encodeURIComponent(String(f[o]))),r.push(l)}}return this.i=r.join("&")};var _s=10;function js(r){return!!r.h||!!r.g&&r.g.size>=r.j}function ws(r){return r.h?1:r.g?r.g.size:0}function ss(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Hs(r,e){r.g?r.g.add(e):r.h=e}function zs(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function Gs(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return Zt(r.i)}Pi.prototype.cancel=function(){if(this.i=Gs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var Na=class{stringify(r){return We.JSON.stringify(r,void 0)}parse(r){return We.JSON.parse(r,void 0)}};function yl(){this.g=new Na}function hi(r,e,t){const o=t||"";try{Mo(r,function(l,u){let f=l;ge(l)&&(f=bi(l)),e.push(o+u+"="+encodeURIComponent(f))})}catch(l){throw e.push(o+"type="+encodeURIComponent("_badmap")),l}}function Ws(r,e,t,o,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(o)}catch{}}function z(r){this.l=r.fc||null,this.j=r.ob||!1}function P(r,e){xr.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=ie,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pe(z,Mt),z.prototype.g=function(){return new P(this.l,this.j)},z.prototype.i=function(r){return function(){return r}}({}),pe(P,xr);var ie=0;function j(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function fe(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Vt(r)}function Vt(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(Tt=P.prototype).open=function(r,e){if(this.readyState!=ie)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Vt(this)},Tt.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||We).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Tt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fe(this)),this.readyState=ie},Tt.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Vt(this)),this.g&&(this.readyState=3,Vt(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof We.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;j(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},Tt.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?fe(this):Vt(this),3==this.readyState&&j(this)}},Tt.Za=function(r){this.g&&(this.response=this.responseText=r,fe(this))},Tt.Ya=function(r){this.g&&(this.response=r,fe(this))},Tt.ka=function(){this.g&&fe(this)},Tt.setRequestHeader=function(r,e){this.v.append(r,e)},Tt.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},Tt.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(P.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var y=We.JSON.parse;function $(r){xr.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=I,this.L=this.M=!1}pe($,xr);var I="",k=/^https?$/i,se=["POST","PUT"];function hn(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,vn(r),dr(r)}function vn(r){r.F||(r.F=!0,Zn(r,"complete"),Zn(r,"error"))}function tr(r){if(r.h&&typeof Lt<"u"&&(!r.C[1]||4!=mi(r)||2!=r.da()))if(r.v&&4==mi(r))Zi(r.La,0,r);else if(Zn(r,"readystatechange"),4==mi(r)){r.h=!1;try{const f=r.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===f){var l=String(r.I).match(di)[1]||null;!l&&We.self&&We.self.location&&(l=We.self.location.protocol.slice(0,-1)),o=!k.test(l?l.toLowerCase():"")}t=o}if(t)Zn(r,"complete"),Zn(r,"success");else{r.m=6;try{var u=2<mi(r)?r.g.statusText:""}catch{u=""}r.j=u+" ["+r.da()+"]",vn(r)}}finally{dr(r)}}}function dr(r,e){if(r.g){ki(r);const t=r.g,o=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||Zn(r,"ready");try{t.onreadystatechange=o}catch{}}}function ki(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(We.clearTimeout(r.A),r.A=null)}function mi(r){return r.g?r.g.readyState:0}function Oo(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case I:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function Ko(r){let e="";return Et(r,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function Fi(r,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=Ko(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):pr(r,e,t))}function Zo(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function Qi(r){this.Ga=0,this.j=[],this.l=new Q,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Zo("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Zo("baseRetryDelayMs",5e3,r),this.hb=Zo("retryDelaySeedMs",1e4,r),this.eb=Zo("forwardChannelMaxRetries",2,r),this.xa=Zo("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new Pi(r&&r.concurrentRequestLimit),this.Ja=new yl,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Ji(r){if(pa(r),3==r.H){var e=r.W++,t=Jr(r.I);if(pr(t,"SID",r.K),pr(t,"RID",e),pr(t,"TYPE","terminate"),ia(r,t),(e=new zr(r,r.l,e)).L=2,e.v=Wo(Jr(t)),t=!1,We.navigator&&We.navigator.sendBeacon)try{t=We.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&We.Image&&((new Image).src=e.v,t=!0),t||(e.g=Fa(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Di(e)}_l(r)}function ka(r){r.g&&(aa(r),r.g.cancel(),r.g=null)}function pa(r){ka(r),r.u&&(We.clearTimeout(r.u),r.u=null),Za(r),r.i.cancel(),r.m&&("number"==typeof r.m&&We.clearTimeout(r.m),r.m=null)}function qs(r){if(!js(r.i)&&!r.m){r.m=!0;var e=r.Na;Er||so(),nr||(Er(),nr=!0),Co.add(e,r),r.C=0}}function Ys(r,e){var t;t=e?e.m:r.W++;const o=Jr(r.I);pr(o,"SID",r.K),pr(o,"RID",t),pr(o,"AID",r.V),ia(r,o),r.o&&r.s&&Fi(o,r.o,r.s),t=new zr(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=oa(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),Hs(r.i,t),on(t,o,e)}function ia(r,e){r.na&&Et(r.na,function(t,o){pr(e,o,t)}),r.h&&Mo({},function(t,o){pr(e,o,t)})}function oa(r,e,t){t=Math.min(r.j.length,t);var o=r.h?kt(r.h.Va,r.h,r):null;e:{var l=r.j;let u=-1;for(;;){const f=["count="+t];-1==u?0<t?(u=l[0].g,f.push("ofs="+u)):u=0:f.push("ofs="+u);let C=!0;for(let O=0;O<t;O++){let B=l[O].g;const Y=l[O].map;if(B-=u,0>B)u=Math.max(0,l[O].g-100),C=!1;else try{hi(Y,f,"req"+B+"_")}catch{o&&o(Y)}}if(C){o=f.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,o}function sa(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;Er||so(),nr||(Er(),nr=!0),Co.add(e,r),r.A=0}}function Ks(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=Ke(kt(r.Ma,r),Qa(r,r.A)),r.A++,0))}function aa(r){null!=r.B&&(We.clearTimeout(r.B),r.B=null)}function Ka(r){r.g=new zr(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=Jr(r.wa);pr(e,"RID","rpc"),pr(e,"SID",r.K),pr(e,"AID",r.V),pr(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&pr(e,"TO",r.qa),pr(e,"TYPE","xmlhttp"),ia(r,e),r.o&&r.s&&Fi(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=Wo(Jr(e)),t.s=null,t.S=!0,er(t,r)}function Za(r){null!=r.v&&(We.clearTimeout(r.v),r.v=null)}function Xa(r,e){var t=null;if(r.g==e){Za(r),aa(r),r.g=null;var o=2}else{if(!ss(r.i,e))return;t=e.F,zs(r.i,e),o=1}if(0!=r.H)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.G;var l=r.C;Zn(o=Rt(),new gr(o,t)),qs(r)}else sa(r);else if(3==(l=e.o)||0==l&&0<e.ca||!(1==o&&function ga(r,e){return!(ws(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=Ke(kt(r.Na,r,e),Qa(r,r.C)),r.C++,0)))}(r,e)||2==o&&Ks(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),l){case 1:Is(r,5);break;case 4:Is(r,10);break;case 3:Is(r,6);break;default:Is(r,2)}}function Qa(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function Is(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var o=kt(r.pb,r);t||(t=new gi("//www.google.com/images/cleardot.gif"),We.location&&"http"==We.location.protocol||ro(t,"https"),Wo(t)),function Gl(r,e){const t=new Q;if(We.Image){const o=new Image;o.onload=It(Ws,t,o,"TestLoadImage: loaded",!0,e),o.onerror=It(Ws,t,o,"TestLoadImage: error",!1,e),o.onabort=It(Ws,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=It(Ws,t,o,"TestLoadImage: timeout",!1,e),We.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=r}else e(!1)}(t.toString(),o)}else An(2);r.H=0,r.h&&r.h.za(e),_l(r),pa(r)}function _l(r){if(r.H=0,r.ma=[],r.h){const e=Gs(r.i);(0!=e.length||0!=r.j.length)&&(In(r.ma,e),In(r.ma,r.j),r.i.i.length=0,Zt(r.j),r.j.length=0),r.h.ya()}}function ma(r,e,t){var o=t instanceof gi?Jr(t):new gi(t);if(""!=o.g)e&&(o.g=e+"."+o.g),vs(o,o.m);else{var l=We.location;o=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var u=new gi(null);o&&ro(u,o),e&&(u.g=e),l&&vs(u,l),t&&(u.l=t),o=u}return e=r.Da,(t=r.F)&&e&&pr(o,t,e),pr(o,"VER",r.ra),ia(r,o),o}function Fa(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new $(t&&r.Ha&&!r.va?new z({ob:!0}):r.va)).Oa(r.J),e}function Ds(){}function Os(){if(Ar&&!(10<=Number(ci)))throw Error("Environmental error: no available transport.")}function Bo(r,e){xr.call(this),this.g=new Qi(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!Tn(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Tn(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Ie(this)}function T(r){Hn.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function V(){ur.call(this),this.status=1}function Ie(r){this.g=r}function le(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Fe(r,e,t){t||(t=0);var o=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)o[l]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(l=0;16>l;++l)o[l]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=r.g[3],f=(e=r.g[0])+(u^(t=r.g[1])&((l=r.g[2])^u))+o[0]+3614090360&4294967295;f=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=t+(f<<7&4294967295|f>>>25))+((f=u+(l^e&(t^l))+o[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=l+(t^u&(e^t))+o[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^l&(u^e))+o[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^t&(l^u))+o[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=u+(l^e&(t^l))+o[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=l+(t^u&(e^t))+o[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^l&(u^e))+o[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^t&(l^u))+o[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=u+(l^e&(t^l))+o[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=l+(t^u&(e^t))+o[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^l&(u^e))+o[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^t&(l^u))+o[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=u+(l^e&(t^l))+o[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=l+(t^u&(e^t))+o[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^l&(u^e))+o[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^u&(t^l))+o[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=u+(t^l&(e^t))+o[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=l+(e^t&(u^e))+o[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=t+(u^e&(l^u))+o[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(l^u&(t^l))+o[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=u+(t^l&(e^t))+o[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=l+(e^t&(u^e))+o[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=t+(u^e&(l^u))+o[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(l^u&(t^l))+o[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=u+(t^l&(e^t))+o[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=l+(e^t&(u^e))+o[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=t+(u^e&(l^u))+o[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(l^u&(t^l))+o[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=u+(t^l&(e^t))+o[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=l+(e^t&(u^e))+o[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=t+(u^e&(l^u))+o[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(t^l^u)+o[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=u+(e^t^l)+o[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=l+(u^e^t)+o[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=t+(l^u^e)+o[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^l^u)+o[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=u+(e^t^l)+o[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=l+(u^e^t)+o[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=t+(l^u^e)+o[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^l^u)+o[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=u+(e^t^l)+o[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=l+(u^e^t)+o[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=t+(l^u^e)+o[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^l^u)+o[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=u+(e^t^l)+o[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=l+(u^e^t)+o[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=t+(l^u^e)+o[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(l^(t|~u))+o[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=u+(t^(e|~l))+o[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=l+(e^(u|~t))+o[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=t+(u^(l|~e))+o[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(l^(t|~u))+o[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=u+(t^(e|~l))+o[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=l+(e^(u|~t))+o[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=t+(u^(l|~e))+o[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(l^(t|~u))+o[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=u+(t^(e|~l))+o[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=l+(e^(u|~t))+o[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=t+(u^(l|~e))+o[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((u=(e=t+((f=e+(l^(t|~u))+o[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=u+(t^(e|~l))+o[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((l=u+((f=l+(e^(u|~t))+o[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+o[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(l+(f<<21&4294967295|f>>>11))&4294967295,r.g[2]=r.g[2]+l&4294967295,r.g[3]=r.g[3]+u&4294967295}function gt(r,e){this.h=e;for(var t=[],o=!0,l=r.length-1;0<=l;l--){var u=0|r[l];o&&u==e||(t[l]=u,o=!1)}this.g=t}(Tt=$.prototype).Oa=function(r){this.M=r},Tt.ha=function(r,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Qr.g(),this.C=function Gt(r){return r.h||(r.h=r.i())}(this.u?this.u:Qr),this.g.onreadystatechange=kt(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(u){return void hn(this,u)}if(r=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var l in o)t.set(l,o[l]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const u of o.keys())t.set(u,o.get(u))}o=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),l=We.FormData&&r instanceof We.FormData,!(0<=St(se,e))||o||l||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,f]of t)this.g.setRequestHeader(u,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ki(this),0<this.B&&((this.L=function Ct(r){return Ar&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=kt(this.ua,this)):this.A=Zi(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(u){hn(this,u)}},Tt.ua=function(){typeof Lt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zn(this,"timeout"),this.abort(8))},Tt.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Zn(this,"complete"),Zn(this,"abort"),dr(this))},Tt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dr(this,!0)),$.$.N.call(this)},Tt.La=function(){this.s||(this.G||this.v||this.l?tr(this):this.kb())},Tt.kb=function(){tr(this)},Tt.isActive=function(){return!!this.g},Tt.da=function(){try{return 2<mi(this)?this.g.status:-1}catch{return-1}},Tt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Tt.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),y(e)}},Tt.Ia=function(){return this.m},Tt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Tt=Qi.prototype).ra=8,Tt.H=1,Tt.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const l=new zr(this,this.l,r);let u=this.s;if(this.U&&(u?(u=tn(u),On(u,this.U)):u=this.U),null!==this.o||this.O||(l.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var o=this.j[t];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=oa(this,l,e),pr(t=Jr(this.I),"RID",r),pr(t,"CVER",22),this.F&&pr(t,"X-HTTP-Session-Id",this.F),ia(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(Ko(u)))+"&"+e:this.o&&Fi(t,this.o,u)),Hs(this.i,l),this.bb&&pr(t,"TYPE","init"),this.P?(pr(t,"$req",e),pr(t,"SID","null"),l.aa=!0,on(l,t,null)):on(l,t,e),this.H=2}}else 3==this.H&&(r?Ys(this,r):0==this.j.length||js(this.i)||Ys(this))},Tt.Ma=function(){if(this.u=null,Ka(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=Ke(kt(this.jb,this),r)}},Tt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,An(10),ka(this),Ka(this))},Tt.ib=function(){null!=this.v&&(this.v=null,ka(this),Ks(this),An(19))},Tt.pb=function(r){r?(this.l.info("Successfully pinged google.com"),An(2)):(this.l.info("Failed to ping google.com"),An(1))},Tt.isActive=function(){return!!this.h&&this.h.isActive(this)},(Tt=Ds.prototype).Ba=function(){},Tt.Aa=function(){},Tt.za=function(){},Tt.ya=function(){},Tt.isActive=function(){return!0},Tt.Va=function(){},Os.prototype.g=function(r,e){return new Bo(r,e)},pe(Bo,xr),Bo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;An(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=ma(r,null,r.Y),qs(r)},Bo.prototype.close=function(){Ji(this.g)},Bo.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=bi(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&qs(e)},Bo.prototype.N=function(){this.g.h=null,delete this.j,Ji(this.g),delete this.g,Bo.$.N.call(this)},pe(T,Hn),pe(V,ur),pe(Ie,Ds),Ie.prototype.Ba=function(){Zn(this.g,"a")},Ie.prototype.Aa=function(r){Zn(this.g,new T(r))},Ie.prototype.za=function(r){Zn(this.g,new V)},Ie.prototype.ya=function(){Zn(this.g,"b")},pe(le,function F(){this.blockSize=-1}),le.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},le.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,o=this.m,l=this.h,u=0;u<e;){if(0==l)for(;u<=t;)Fe(this,r,u),u+=this.blockSize;if("string"==typeof r){for(;u<e;)if(o[l++]=r.charCodeAt(u++),l==this.blockSize){Fe(this,o),l=0;break}}else for(;u<e;)if(o[l++]=r[u++],l==this.blockSize){Fe(this,o),l=0;break}}this.h=l,this.i+=e},le.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var o=0;32>o;o+=8)r[t++]=this.g[e]>>>o&255;return r};var an={};function xn(r){return-128<=r&&128>r?function Zr(r,e){var t=an;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new gt([0|e],0>e?-1:0)}):new gt([0|r],0>r?-1:0)}function hr(r){if(isNaN(r)||!isFinite(r))return ti;if(0>r)return yi(hr(-r));for(var e=[],t=1,o=0;r>=t;o++)e[o]=r/t|0,t*=Gn;return new gt(e,0)}var Gn=4294967296,ti=xn(0),Rr=xn(1),qr=xn(16777216);function Ur(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function vi(r){return-1==r.h}function yi(r){for(var e=r.g.length,t=[],o=0;o<e;o++)t[o]=~r.g[o];return new gt(t,~r.h).add(Rr)}function Vo(r,e){return r.add(yi(e))}function co(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function rs(r,e){this.g=r,this.h=e}function Cs(r,e){if(Ur(e))throw Error("division by zero");if(Ur(r))return new rs(ti,ti);if(vi(r))return e=Cs(yi(r),e),new rs(yi(e.g),yi(e.h));if(vi(e))return e=Cs(r,yi(e)),new rs(yi(e.g),e.h);if(30<r.g.length){if(vi(r)||vi(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Rr,o=e;0>=o.X(r);)t=ko(t),o=ko(o);var l=Ps(t,1),u=Ps(o,1);for(o=Ps(o,2),t=Ps(t,2);!Ur(o);){var f=u.add(o);0>=f.X(r)&&(l=l.add(t),u=f),o=Ps(o,1),t=Ps(t,1)}return e=Vo(r,l.R(e)),new rs(l,e)}for(l=ti;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,o-48),f=(u=hr(t)).R(e);vi(f)||0<f.X(r);)f=(u=hr(t-=o)).R(e);Ur(u)&&(u=Rr),l=l.add(u),r=Vo(r,f)}return new rs(l,r)}function ko(r){for(var e=r.g.length+1,t=[],o=0;o<e;o++)t[o]=r.D(o)<<1|r.D(o-1)>>>31;return new gt(t,r.h)}function Ps(r,e){var t=e>>5;e%=32;for(var o=r.g.length-t,l=[],u=0;u<o;u++)l[u]=0<e?r.D(u+t)>>>e|r.D(u+t+1)<<32-e:r.D(u+t);return new gt(l,r.h)}(Tt=gt.prototype).ea=function(){if(vi(this))return-yi(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var o=this.D(t);r+=(0<=o?o:Gn+o)*e,e*=Gn}return r},Tt.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(Ur(this))return"0";if(vi(this))return"-"+yi(this).toString(r);for(var e=hr(Math.pow(r,6)),t=this,o="";;){var l=Cs(t,e).g,u=((0<(t=Vo(t,l.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(Ur(t=l))return u+o;for(;6>u.length;)u="0"+u;o=u+o}},Tt.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},Tt.X=function(r){return vi(r=Vo(this,r))?-1:Ur(r)?0:1},Tt.abs=function(){return vi(this)?yi(this):this},Tt.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0,l=0;l<=e;l++){var u=o+(65535&this.D(l))+(65535&r.D(l)),f=(u>>>16)+(this.D(l)>>>16)+(r.D(l)>>>16);o=f>>>16,t[l]=(f&=65535)<<16|(u&=65535)}return new gt(t,-2147483648&t[t.length-1]?-1:0)},Tt.R=function(r){if(Ur(this)||Ur(r))return ti;if(vi(this))return vi(r)?yi(this).R(yi(r)):yi(yi(this).R(r));if(vi(r))return yi(this.R(yi(r)));if(0>this.X(qr)&&0>r.X(qr))return hr(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],o=0;o<2*e;o++)t[o]=0;for(o=0;o<this.g.length;o++)for(var l=0;l<r.g.length;l++){var u=this.D(o)>>>16,f=65535&this.D(o),C=r.D(l)>>>16,O=65535&r.D(l);t[2*o+2*l]+=f*O,co(t,2*o+2*l),t[2*o+2*l+1]+=u*O,co(t,2*o+2*l+1),t[2*o+2*l+1]+=f*C,co(t,2*o+2*l+1),t[2*o+2*l+2]+=u*C,co(t,2*o+2*l+2)}for(o=0;o<e;o++)t[o]=t[2*o+1]<<16|t[2*o];for(o=e;o<2*e;o++)t[o]=0;return new gt(t,0)},Tt.gb=function(r){return Cs(this,r).h},Tt.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)&r.D(o);return new gt(t,this.h&r.h)},Tt.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)|r.D(o);return new gt(t,this.h|r.h)},Tt.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)^r.D(o);return new gt(t,this.h^r.h)},Os.prototype.createWebChannel=Os.prototype.g,Bo.prototype.send=Bo.prototype.u,Bo.prototype.open=Bo.prototype.m,Bo.prototype.close=Bo.prototype.close,Ge.NO_ERROR=0,Ge.TIMEOUT=8,Ge.HTTP_ERROR=6,at.COMPLETE="complete",nn.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",xr.prototype.listen=xr.prototype.O,$.prototype.listenOnce=$.prototype.P,$.prototype.getLastError=$.prototype.Sa,$.prototype.getLastErrorCode=$.prototype.Ia,$.prototype.getStatus=$.prototype.da,$.prototype.getResponseJson=$.prototype.Wa,$.prototype.getResponseText=$.prototype.ja,$.prototype.send=$.prototype.ha,$.prototype.setWithCredentials=$.prototype.Oa,le.prototype.digest=le.prototype.l,le.prototype.reset=le.prototype.reset,le.prototype.update=le.prototype.j,gt.prototype.add=gt.prototype.add,gt.prototype.multiply=gt.prototype.R,gt.prototype.modulo=gt.prototype.gb,gt.prototype.compare=gt.prototype.X,gt.prototype.toNumber=gt.prototype.ea,gt.prototype.toString=gt.prototype.toString,gt.prototype.getBits=gt.prototype.D,gt.fromNumber=hr,gt.fromString=function br(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return yi(br(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=hr(Math.pow(e,8)),o=ti,l=0;l<r.length;l+=8){var u=Math.min(8,r.length-l),f=parseInt(r.substring(l,l+u),e);8>u?(u=hr(Math.pow(e,u)),o=o.R(u).add(hr(f))):o=(o=o.R(t)).add(hr(f))}return o};var Il=Pt.createWebChannelTransport=function(){return new Os},va=Pt.getStatEventTarget=function(){return Rt()},rr=Pt.ErrorCode=Ge,Dc=Pt.EventType=at,hu=Pt.Event=bt,Wl=Pt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Yh=Pt.FetchXmlHttpFactory=z,Zs=Pt.WebChannel=nn,ql=Pt.XhrIo=$,ls=Pt.Md5=le,Ja=Pt.Integer=gt;const el="@firebase/firestore";class si{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}si.UNAUTHENTICATED=new si(null),si.GOOGLE_CREDENTIALS=new si("google-credentials-uid"),si.FIRST_PARTY=new si("first-party-uid"),si.MOCK_USER=new si("mock-user");let tl="9.23.0";const ai=new Je.Yd("@firebase/firestore");function zt(){return ai.logLevel}function Xt(r,...e){if(ai.logLevel<=Je.in.DEBUG){const t=e.map(io);ai.debug(`Firestore (${tl}): ${r}`,...t)}}function Li(r,...e){if(ai.logLevel<=Je.in.ERROR){const t=e.map(io);ai.error(`Firestore (${tl}): ${r}`,...t)}}function Yr(r,...e){if(ai.logLevel<=Je.in.WARN){const t=e.map(io);ai.warn(`Firestore (${tl}): ${r}`,...t)}}function io(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function Sn(r="Unexpected state"){const e=`FIRESTORE (${tl}) INTERNAL ASSERTION FAILED: `+r;throw Li(e),new Error(e)}function _n(r,e){r||Sn()}function wn(r,e){return r}const wt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ht extends je.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Eo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Fo{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ts{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(si.UNAUTHENTICATED))}shutdown(){}}class Yl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class _a{constructor(e){this.t=e,this.currentUser=si.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let l=this.i;const u=B=>this.i!==l?(l=this.i,t(B)):Promise.resolve();let f=new Eo;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Eo,e.enqueueRetryable(()=>u(this.currentUser))};const C=()=>{const B=f;e.enqueueRetryable((0,Z.Z)(function*(){yield B.promise,yield u(o.currentUser)}))},O=B=>{Xt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=B,this.auth.addAuthTokenListener(this.o),C()};this.t.onInit(B=>O(B)),setTimeout(()=>{if(!this.auth){const B=this.t.getImmediate({optional:!0});B?O(B):(Xt("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Eo)}},0),C()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Xt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(_n("string"==typeof o.accessToken),new Fo(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return _n(null===e||"string"==typeof e),new si(e)}}class Ns{constructor(e,t,o){this.h=e,this.l=t,this.m=o,this.type="FirstParty",this.user=si.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class fu{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new Ns(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(si.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wd{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const o=u=>{null!=u.error&&Xt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.T;return this.T=u.token,Xt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>o(u))};const l=u=>{Xt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?l(u):Xt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(_n("string"==typeof t.token),this.T=t.token,new Cc(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ia(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<r;o++)t[o]=Math.floor(256*Math.random());return t}class El{static A(){const t=62*Math.floor(256/62);let o="";for(;o.length<20;){const l=Ia(40);for(let u=0;u<l.length;++u)o.length<20&&l[u]<t&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[u]%62))}return o}}function ar(r,e){return r<e?-1:r>e?1:0}function Ea(r,e,t){return r.length===e.length&&r.every((o,l)=>t(o,e[l]))}function Kl(r){return r+"\0"}class $i{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ht(wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ht(wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ht(wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ht(wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $i.fromMillis(Date.now())}static fromDate(e){return $i.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new $i(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ar(this.nanoseconds,e.nanoseconds):ar(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Bn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Bn(e)}static min(){return new Bn(new $i(0,0))}static max(){return new Bn(new $i(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class La{constructor(e,t,o){void 0===t?t=0:t>e.length&&Sn(),void 0===o?o=e.length-t:o>e.length-t&&Sn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===La.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof La?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let l=0;l<o;l++){const u=e.get(l),f=t.get(l);if(u<f)return-1;if(u>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class kr extends La{construct(e,t,o){return new kr(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new Ht(wt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(l=>l.length>0))}return new kr(t)}static emptyPath(){return new kr([])}}const pu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class b extends La{construct(e,t,o){return new b(e,t,o)}static isValidIdentifier(e){return pu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),b.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new b(["__name__"])}static fromServerFormat(e){const t=[];let o="",l=0;const u=()=>{if(0===o.length)throw new Ht(wt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let f=!1;for(;l<e.length;){const C=e[l];if("\\"===C){if(l+1===e.length)throw new Ht(wt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const O=e[l+1];if("\\"!==O&&"."!==O&&"`"!==O)throw new Ht(wt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=O,l+=2}else"`"===C?(f=!f,l++):"."!==C||f?(o+=C,l++):(u(),l++)}if(u(),f)throw new Ht(wt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new b(t)}static emptyPath(){return new b([])}}class D{constructor(e){this.path=e}static fromPath(e){return new D(kr.fromString(e))}static fromName(e){return new D(kr.fromString(e).popFirst(5))}static empty(){return new D(kr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===kr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return kr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new D(new kr(e.slice()))}}class R{constructor(e,t,o,l){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=l}}function A(r){return r.fields.find(e=>2===e.kind)}function L(r){return r.fields.filter(e=>2!==e.kind)}R.UNKNOWN_ID=-1;class ue{constructor(e,t){this.fieldPath=e,this.kind=t}}class ln{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ln(0,Vn.min())}}function xt(r,e){const t=r.toTimestamp().seconds,o=r.toTimestamp().nanoseconds+1,l=Bn.fromTimestamp(1e9===o?new $i(t+1,0):new $i(t,o));return new Vn(l,D.empty(),e)}function pn(r){return new Vn(r.readTime,r.key,-1)}class Vn{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Vn(Bn.min(),D.empty(),-1)}static max(){return new Vn(Bn.max(),D.empty(),-1)}}function Gr(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=D.comparator(r.documentKey,e.documentKey),0!==t?t:ar(r.largestBatchId,e.largestBatchId))}const uo="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ti(r){return Uo.apply(this,arguments)}function Uo(){return Uo=(0,Z.Z)(function*(r){if(r.code!==wt.FAILED_PRECONDITION||r.message!==uo)throw r;Xt("LocalStore","Unexpectedly lost primary lease")}),Uo.apply(this,arguments)}class ht{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Sn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ht((o,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(o,l)},this.catchCallback=u=>{this.wrapFailure(t,u).next(o,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ht?t:ht.resolve(t)}catch(t){return ht.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ht.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ht.reject(t)}static resolve(e){return new ht((t,o)=>{t(e)})}static reject(e){return new ht((t,o)=>{o(e)})}static waitFor(e){return new ht((t,o)=>{let l=0,u=0,f=!1;e.forEach(C=>{++l,C.next(()=>{++u,f&&u===l&&t()},O=>o(O))}),f=!0,u===l&&t()})}static or(e){let t=ht.resolve(!1);for(const o of e)t=t.next(l=>l?ht.resolve(l):o());return t}static forEach(e,t){const o=[];return e.forEach((l,u)=>{o.push(t.call(this,l,u))}),this.waitFor(o)}static mapArray(e,t){return new ht((o,l)=>{const u=e.length,f=new Array(u);let C=0;for(let O=0;O<u;O++){const B=O;t(e[B]).next(Y=>{f[B]=Y,++C,C===u&&o(f)},Y=>l(Y))}})}static doWhile(e,t){return new ht((o,l)=>{const u=()=>{!0===e()?t().next(()=>{u()},l):o()};u()})}}class cs{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Eo,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Xo(e,t.error)):this.v.resolve()},this.transaction.onerror=o=>{const l=Zl(o.target.error);this.v.reject(new Xo(e,l))}}static open(e,t,o,l){try{return new cs(t,e.transaction(l,o))}catch(u){throw new Xo(t,u)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Xt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Qo(t)}}class bo{constructor(e,t,o){this.name=e,this.version=t,this.V=o,12.2===bo.S((0,je.z$)())&&Li("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Xt("SimpleDb","Removing database:",e),ks(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,je.hl)())return!1;if(bo.C())return!0;const e=(0,je.z$)(),t=bo.S(e),o=0<t&&t<10,l=bo.N(e),u=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static N(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}$(e){var t=this;return(0,Z.Z)(function*(){return t.db||(Xt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,l)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=f=>{o(f.target.result)},u.onblocked=()=>{l(new Xo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=f=>{const C=f.target.error;l("VersionError"===C.name?new Ht(wt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===C.name?new Ht(wt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+C):new Xo(e,C))},u.onupgradeneeded=f=>{Xt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',f.oldVersion),t.V.O(f.target.result,u.transaction,f.oldVersion,t.version).next(()=>{Xt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=o=>t.F(o)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,l){var u=this;return(0,Z.Z)(function*(){const f="readonly"===t;let C=0;for(;;){++C;try{u.db=yield u.$(e);const O=cs.open(u.db,e,f?"readonly":"readwrite",o),B=l(O).next(Y=>(O.P(),Y)).catch(Y=>(O.abort(Y),ht.reject(Y))).toPromise();return B.catch(()=>{}),yield O.R,B}catch(O){const B=O,Y="FirebaseError"!==B.name&&C<3;if(Xt("SimpleDb","Transaction failed with error:",B.message,"Retrying:",Y),u.close(),!Y)return Promise.reject(B)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class $a{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return ks(this.L.delete())}}class Xo extends Ht{constructor(e,t){super(wt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Es(r){return"IndexedDbTransactionError"===r.name}class Qo{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Xt("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Xt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),ks(o)}add(e){return Xt("SimpleDb","ADD",this.store.name,e,e),ks(this.store.add(e))}get(e){return ks(this.store.get(e)).next(t=>(void 0===t&&(t=null),Xt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Xt("SimpleDb","DELETE",this.store.name,e),ks(this.store.delete(e))}count(){return Xt("SimpleDb","COUNT",this.store.name),ks(this.store.count())}j(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const l=this.cursor(o),u=[];return this.W(l,(f,C)=>{u.push(C)}).next(()=>u)}{const l=this.store.getAll(o.range);return new ht((u,f)=>{l.onerror=C=>{f(C.target.error)},l.onsuccess=C=>{u(C.target.result)}})}}H(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new ht((l,u)=>{o.onerror=f=>{u(f.target.error)},o.onsuccess=f=>{l(f.target.result)}})}J(e,t){Xt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.Y=!1;const l=this.cursor(o);return this.W(l,(u,f,C)=>C.delete())}X(e,t){let o;t?o=e:(o={},t=e);const l=this.cursor(o);return this.W(l,t)}Z(e){const t=this.cursor({});return new ht((o,l)=>{t.onerror=u=>{const f=Zl(u.target.error);l(f)},t.onsuccess=u=>{const f=u.target.result;f?e(f.primaryKey,f.value).next(C=>{C?f.continue():o()}):o()}})}W(e,t){const o=[];return new ht((l,u)=>{e.onerror=f=>{u(f.target.error)},e.onsuccess=f=>{const C=f.target.result;if(!C)return void l();const O=new $a(C),B=t(C.primaryKey,C.value,O);if(B instanceof ht){const Y=B.catch(Ce=>(O.done(),ht.reject(Ce)));o.push(Y)}O.isDone?l():null===O.K?C.continue():C.continue(O.K)}}).next(()=>ht.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.Y?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ks(r){return new ht((e,t)=>{r.onsuccess=o=>{e(o.target.result)},r.onerror=o=>{const l=Zl(o.target.error);t(l)}})}let gu=!1;function Zl(r){const e=bo.S((0,je.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const o=new Ht("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return gu||(gu=!0,setTimeout(()=>{throw o},0)),o}}return r}class bl{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Xt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Z.Z)(function*(){t.task=null;try{Xt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(o){Es(o)?Xt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield Ti(o)}yield t.et(6e4)}))}}class Dd{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Z.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.st(o,e))})()}st(e,t){const o=new Set;let l=t,u=!0;return ht.doWhile(()=>!0===u&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(f=>{if(null!==f&&!o.has(f))return Xt("IndexBackiller",`Processing collection: ${f}`),this.it(e,f,l).next(C=>{l-=C,o.add(f)});u=!1})).next(()=>t-l)}it(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(l=>this.localStore.localDocuments.getNextDocuments(e,t,l,o).next(u=>{const f=u.changes;return this.localStore.indexManager.updateIndexEntries(e,f).next(()=>this.rt(l,u)).next(C=>(Xt("IndexBackiller",`Updating offset: ${C}`),this.localStore.indexManager.updateCollectionGroup(e,t,C))).next(()=>f.size)}))}rt(e,t){let o=e;return t.changes.forEach((l,u)=>{const f=pn(u);Gr(f,o)>0&&(o=f)}),new Vn(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ho=(()=>{class r{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=l=>this.ot(l),this.ut=l=>o.writeSequenceNumber(l))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function nl(r){return null==r}function Xl(r){return 0===r&&1/r==-1/0}function Kh(r){return"number"==typeof r&&Number.isInteger(r)&&!Xl(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function Po(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Sc(e)),e=Tc(r.get(t),e);return Sc(e)}function Tc(r,e){let t=e;const o=r.length;for(let l=0;l<o;l++){const u=r.charAt(l);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function Sc(r){return r+"\x01\x01"}function is(r){const e=r.length;if(_n(e>=2),2===e)return _n("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),kr.emptyPath();const t=e-2,o=[];let l="";for(let u=0;u<e;){const f=r.indexOf("\x01",u);switch((f<0||f>t)&&Sn(),r.charAt(f+1)){case"\x01":const C=r.substring(u,f);let O;0===l.length?O=C:(l+=C,O=l,l=""),o.push(O);break;case"\x10":l+=r.substring(u,f),l+="\0";break;case"\x11":l+=r.substring(u,f+1);break;default:Sn()}u=f+2}return new kr(o)}const wl=["userId","batchId"];function la(r,e){return[r,Po(e)]}function gp(r,e,t){return[r,Po(e),t]}const Ac={},mu=["prefixPath","collectionGroup","readTime","documentId"],Cd=["prefixPath","collectionGroup","documentId"],Xs=["collectionGroup","readTime","prefixPath","documentId"],mp=["canonicalId","targetId"],Dl=["targetId","path"],vu=["path","targetId"],Mc=["collectionId","parent"],Ql=["indexId","uid"],yu=["uid","sequenceNumber"],_u=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Td=["indexId","uid","orderedDocumentKey"],Sd=["userId","collectionPath","documentId"],xc=["userId","collectionPath","largestBatchId"],Ad=["userId","collectionGroup","largestBatchId"],Zh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Cl=[...Zh,"documentOverlays"],Ba=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Jl=Ba,ec=[...Jl,"indexConfiguration","indexState","indexEntries"];class Tl extends wr{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Yi(r,e){const t=wn(r);return bo.M(t.ht,e)}function Sl(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function eo(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function tc(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class fi{constructor(e,t){this.comparator=e,this.root=t||Lo.EMPTY}insert(e,t){return new fi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lo.BLACK,null,null))}remove(e){return new fi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(0===l)return t+o.left.size;l<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ba(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ba(this.root,e,this.comparator,!1)}getReverseIterator(){return new ba(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ba(this.root,e,this.comparator,!0)}}class ba{constructor(e,t,o,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?o(e.key,t):1,t&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lo{constructor(e,t,o,l,u){this.key=e,this.value=t,this.color=null!=o?o:Lo.RED,this.left=null!=l?l:Lo.EMPTY,this.right=null!=u?u:Lo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,l,u){return new Lo(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=l?l:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let l=this;const u=o(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,t,o),null):0===u?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Lo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return Lo.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Sn();const e=this.left.check();if(e!==this.right.check())throw Sn();return e+(this.isRed()?0:1)}}Lo.EMPTY=null,Lo.RED=!0,Lo.BLACK=!1,Lo.EMPTY=new class{constructor(){this.size=0}get key(){throw Sn()}get value(){throw Sn()}get color(){throw Sn()}get left(){throw Sn()}get right(){throw Sn()}copy(r,e,t,o,l){return this}insert(r,e,t){return new Lo(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bi{constructor(e){this.comparator=e,this.data=new fi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nc(this.data.getIterator())}getIteratorFrom(e){return new nc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof Bi)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,u=o.getNext().key;if(0!==this.comparator(l,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bi(this.comparator);return t.data=e,t}}class nc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ca(r){return r.hasNext()?r.getNext():void 0}class $o{constructor(e){this.fields=e,e.sort(b.comparator)}static empty(){return new $o([])}unionWith(e){let t=new Bi(b.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new $o(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ea(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class rl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new rl("Invalid base64 string: "+l):l}}(e);return new fo(t)}static fromUint8Array(e){const t=function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l}(e);return new fo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ar(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fo.EMPTY_BYTE_STRING=new fo("");const Al=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Va(r){if(_n(!!r),"string"==typeof r){let e=0;const t=Al.exec(r);if(_n(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Si(r.seconds),nanos:Si(r.nanos)}}function Si(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Qs(r){return"string"==typeof r?fo.fromBase64String(r):fo.fromUint8Array(r)}function Da(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==r?void 0:r.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Iu(r){const e=r.mapValue.fields.__previous_value__;return Da(e)?Iu(e):e}function Eu(r){const e=Va(r.mapValue.fields.__local_write_time__.timestampValue);return new $i(e.seconds,e.nanos)}class Xh{constructor(e,t,o,l,u,f,C,O,B){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=C,this.longPollingOptions=O,this.useFetchStreams=B}}class il{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new il("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof il&&e.projectId===this.projectId&&e.database===this.database}}const Ss={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},bu={nullValue:"NULL_VALUE"};function S(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Da(r)?4:Ml(r)?9007199254740991:10:Sn()}function x(r,e){if(r===e)return!0;const t=S(r);if(t!==S(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Eu(r).isEqual(Eu(e));case 3:return function(o,l){if("string"==typeof o.timestampValue&&"string"==typeof l.timestampValue&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=Va(o.timestampValue),f=Va(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return l=e,Qs(r.bytesValue).isEqual(Qs(l.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return Si(o.geoPointValue.latitude)===Si(l.geoPointValue.latitude)&&Si(o.geoPointValue.longitude)===Si(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Si(o.integerValue)===Si(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=Si(o.doubleValue),f=Si(l.doubleValue);return u===f?Xl(u)===Xl(f):isNaN(u)&&isNaN(f)}return!1}(r,e);case 9:return Ea(r.arrayValue.values||[],e.arrayValue.values||[],x);case 10:return function(o,l){const u=o.mapValue.fields||{},f=l.mapValue.fields||{};if(Sl(u)!==Sl(f))return!1;for(const C in u)if(u.hasOwnProperty(C)&&(void 0===f[C]||!x(u[C],f[C])))return!1;return!0}(r,e);default:return Sn()}var l}function G(r,e){return void 0!==(r.values||[]).find(t=>x(t,e))}function ve(r,e){if(r===e)return 0;const t=S(r),o=S(e);if(t!==o)return ar(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return ar(r.booleanValue,e.booleanValue);case 2:return function(l,u){const f=Si(l.integerValue||l.doubleValue),C=Si(u.integerValue||u.doubleValue);return f<C?-1:f>C?1:f===C?0:isNaN(f)?isNaN(C)?0:-1:1}(r,e);case 3:return Xe(r.timestampValue,e.timestampValue);case 4:return Xe(Eu(r),Eu(e));case 5:return ar(r.stringValue,e.stringValue);case 6:return function(l,u){const f=Qs(l),C=Qs(u);return f.compareTo(C)}(r.bytesValue,e.bytesValue);case 7:return function(l,u){const f=l.split("/"),C=u.split("/");for(let O=0;O<f.length&&O<C.length;O++){const B=ar(f[O],C[O]);if(0!==B)return B}return ar(f.length,C.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,u){const f=ar(Si(l.latitude),Si(u.latitude));return 0!==f?f:ar(Si(l.longitude),Si(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(l,u){const f=l.values||[],C=u.values||[];for(let O=0;O<f.length&&O<C.length;++O){const B=ve(f[O],C[O]);if(B)return B}return ar(f.length,C.length)}(r.arrayValue,e.arrayValue);case 10:return function(l,u){if(l===Ss.mapValue&&u===Ss.mapValue)return 0;if(l===Ss.mapValue)return 1;if(u===Ss.mapValue)return-1;const f=l.fields||{},C=Object.keys(f),O=u.fields||{},B=Object.keys(O);C.sort(),B.sort();for(let Y=0;Y<C.length&&Y<B.length;++Y){const Ce=ar(C[Y],B[Y]);if(0!==Ce)return Ce;const it=ve(f[C[Y]],O[B[Y]]);if(0!==it)return it}return ar(C.length,B.length)}(r.mapValue,e.mapValue);default:throw Sn()}}function Xe(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return ar(r,e);const t=Va(r),o=Va(e),l=ar(t.seconds,o.seconds);return 0!==l?l:ar(t.nanos,o.nanos)}function rt(r){return At(r)}function At(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(o){const l=Va(o);return`time(${l.seconds},${l.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Qs(r.bytesValue).toBase64():"referenceValue"in r?D.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(o){let l="[",u=!0;for(const f of o.values||[])u?u=!1:l+=",",l+=At(f);return l+"]"}(r.arrayValue):"mapValue"in r?function(o){const l=Object.keys(o.fields||{}).sort();let u="{",f=!0;for(const C of l)f?f=!1:u+=",",u+=`${C}:${At(o.fields[C])}`;return u+"}"}(r.mapValue):Sn();var e}function un(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Fn(r){return!!r&&"integerValue"in r}function lr(r){return!!r&&"arrayValue"in r}function mr(r){return!!r&&"nullValue"in r}function As(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function wo(r){return!!r&&"mapValue"in r}function po(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return eo(r.mapValue.fields,(t,o)=>e.mapValue.fields[t]=po(o)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=po(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Ml(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function Fs(r){return"nullValue"in r?bu:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?un(il.empty(),D.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:Sn()}function ua(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?un(il.empty(),D.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Ss:Sn()}function Js(r,e){const t=ve(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function wu(r,e){const t=ve(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class Jo{constructor(e){this.value=e}static empty(){return new Jo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!wo(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=po(t)}setAll(e){let t=b.emptyPath(),o={},l=[];e.forEach((f,C)=>{if(!t.isImmediateParentOf(C)){const O=this.getFieldsMap(t);this.applyChanges(O,o,l),o={},l=[],t=C.popLast()}f?o[C.lastSegment()]=po(f):l.push(C.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,o,l)}delete(e){const t=this.field(e.popLast());wo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return x(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=t.mapValue.fields[e.get(o)];wo(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,o){eo(t,(l,u)=>e[l]=u);for(const l of o)delete e[l]}clone(){return new Jo(po(this.value))}}function vp(r){const e=[];return eo(r.fields,(t,o)=>{const l=new b([t]);if(wo(o)){const u=vp(o.mapValue).fields;if(0===u.length)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)}),new $o(e)}class go{constructor(e,t,o,l,u,f,C){this.key=e,this.documentType=t,this.version=o,this.readTime=l,this.createTime=u,this.data=f,this.documentState=C}static newInvalidDocument(e){return new go(e,0,Bn.min(),Bn.min(),Bn.min(),Jo.empty(),0)}static newFoundDocument(e,t,o,l){return new go(e,1,t,Bn.min(),o,l,0)}static newNoDocument(e,t){return new go(e,2,t,Bn.min(),Bn.min(),Jo.empty(),0)}static newUnknownDocument(e,t){return new go(e,3,t,Bn.min(),Bn.min(),Jo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Bn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof go&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new go(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ua{constructor(e,t){this.position=e,this.inclusive=t}}function Qh(r,e,t){let o=0;for(let l=0;l<r.position.length;l++){const u=e[l],f=r.position[l];if(o=u.field.isKeyField()?D.comparator(D.fromName(f.referenceValue),t.key):ve(f,t.data.field(u.field)),"desc"===u.dir&&(o*=-1),0!==o)break}return o}function rc(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!x(r.position[t],e.position[t]))return!1;return!0}class ja{constructor(e,t="asc"){this.field=e,this.dir=t}}function yp(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Du{}class Kr extends Du{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new oc(e,t,o):"array-contains"===t?new Wg(e,o):"in"===t?new tf(e,o):"not-in"===t?new qg(e,o):"array-contains-any"===t?new Yg(e,o):new Kr(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new Gg(e,o):new Ip(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ve(t,this.value)):null!==t&&S(this.value)===S(t)&&this.matchesComparison(ve(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Sn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class _i extends Du{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new _i(e,t)}matches(e){return Rc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Rc(r){return"and"===r.op}function Md(r){return"or"===r.op}function Oc(r){return Cu(r)&&Rc(r)}function Cu(r){for(const e of r.filters)if(e instanceof _i)return!1;return!0}function Jh(r){if(r instanceof Kr)return r.field.canonicalString()+r.op.toString()+rt(r.value);if(Oc(r))return r.filters.map(e=>Jh(e)).join(",");{const e=r.filters.map(t=>Jh(t)).join(",");return`${r.op}(${e})`}}function xl(r,e){return r instanceof Kr?(t=r,(o=e)instanceof Kr&&t.op===o.op&&t.field.isEqual(o.field)&&x(t.value,o.value)):r instanceof _i?function(t,o){return o instanceof _i&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((l,u,f)=>l&&xl(u,o.filters[f]),!0)}(r,e):void Sn();var t,o}function _p(r,e){const t=r.filters.concat(e);return _i.create(t,r.op)}function ic(r){return r instanceof Kr?`${(e=r).field.canonicalString()} ${e.op} ${rt(e.value)}`:r instanceof _i?function(e){return e.op.toString()+" {"+e.getFilters().map(ic).join(" ,")+"}"}(r):"Filter";var e}class oc extends Kr{constructor(e,t,o){super(e,t,o),this.key=D.fromName(o.referenceValue)}matches(e){const t=D.comparator(e.key,this.key);return this.matchesComparison(t)}}class Gg extends Kr{constructor(e,t){super(e,"in",t),this.keys=ef(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ip extends Kr{constructor(e,t){super(e,"not-in",t),this.keys=ef(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ef(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>D.fromName(o.referenceValue))}class Wg extends Kr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return lr(t)&&G(t.arrayValue,this.value)}}class tf extends Kr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&G(this.value.arrayValue,t)}}class qg extends Kr{constructor(e,t){super(e,"not-in",t)}matches(e){if(G(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!G(this.value.arrayValue,t)}}class Yg extends Kr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!lr(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>G(this.value.arrayValue,o))}}class nf{constructor(e,t=null,o=[],l=[],u=null,f=null,C=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=l,this.limit=u,this.startAt=f,this.endAt=C,this.dt=null}}function Pc(r,e=null,t=[],o=[],l=null,u=null,f=null){return new nf(r,e,t,o,l,u,f)}function Rl(r){const e=wn(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>Jh(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),nl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>rt(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>rt(o)).join(",")),e.dt=t}return e.dt}function Tu(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!yp(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!xl(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!rc(r.startAt,e.startAt)&&rc(r.endAt,e.endAt)}function Su(r){return D.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function rf(r,e){return r.filters.filter(t=>t instanceof Kr&&t.field.isEqual(e))}function xd(r,e,t){let o=bu,l=!0;for(const u of rf(r,e)){let f=bu,C=!0;switch(u.op){case"<":case"<=":f=Fs(u.value);break;case"==":case"in":case">=":f=u.value;break;case">":f=u.value,C=!1;break;case"!=":case"not-in":f=bu}Js({value:o,inclusive:l},{value:f,inclusive:C})<0&&(o=f,l=C)}if(null!==t)for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(e)){const f=t.position[u];Js({value:o,inclusive:l},{value:f,inclusive:t.inclusive})<0&&(o=f,l=t.inclusive);break}return{value:o,inclusive:l}}function sf(r,e,t){let o=Ss,l=!0;for(const u of rf(r,e)){let f=Ss,C=!0;switch(u.op){case">=":case">":f=ua(u.value),C=!1;break;case"==":case"in":case"<=":f=u.value;break;case"<":f=u.value,C=!1;break;case"!=":case"not-in":f=Ss}wu({value:o,inclusive:l},{value:f,inclusive:C})>0&&(o=f,l=C)}if(null!==t)for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(e)){const f=t.position[u];wu({value:o,inclusive:l},{value:f,inclusive:t.inclusive})>0&&(o=f,l=t.inclusive);break}return{value:o,inclusive:l}}class ol{constructor(e,t=null,o=[],l=[],u=null,f="F",C=null,O=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=l,this.limit=u,this.limitType=f,this.startAt=C,this.endAt=O,this.wt=null,this._t=null}}function Ep(r,e,t,o,l,u,f,C){return new ol(r,e,t,o,l,u,f,C)}function Ha(r){return new ol(r)}function af(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function bp(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function Nc(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Au(r){return null!==r.collectionGroup}function kc(r){const e=wn(r);if(null===e.wt){e.wt=[];const t=Nc(e),o=bp(e);if(null!==t&&null===o)t.isKeyField()||e.wt.push(new ja(t)),e.wt.push(new ja(b.keyField(),"asc"));else{let l=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(l=!0);if(!l){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ja(b.keyField(),u))}}}return e.wt}function Ls(r){const e=wn(r);if(!e._t)if("F"===e.limitType)e._t=Pc(e.path,e.collectionGroup,kc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of kc(e))t.push(new ja(u.field,"desc"===u.dir?"asc":"desc"));const o=e.endAt?new Ua(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new Ua(e.startAt.position,e.startAt.inclusive):null;e._t=Pc(e.path,e.collectionGroup,t,e.filters,e.limit,o,l)}return e._t}function wp(r,e){e.getFirstInequalityField(),Nc(r);const t=r.filters.concat([e]);return new ol(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Rd(r,e,t){return new ol(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Mu(r,e){return Tu(Ls(r),Ls(e))&&r.limitType===e.limitType}function xu(r){return`${Rl(Ls(r))}|lt:${r.limitType}`}function Fc(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>ic(o)).join(", ")}]`),nl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(l=o).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>rt(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>rt(o)).join(",")),`Target(${t})`}(Ls(r))}; limitType=${r.limitType})`}function Lc(r,e){return e.isFoundDocument()&&function(t,o){const l=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):D.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(r,e)&&function(t,o){for(const l of kc(t))if(!l.field.isKeyField()&&null===o.data.field(l.field))return!1;return!0}(r,e)&&function(t,o){for(const l of t.filters)if(!l.matches(o))return!1;return!0}(r,e)&&(o=e,!((t=r).startAt&&!function(l,u,f){const C=Qh(l,u,f);return l.inclusive?C<=0:C<0}(t.startAt,kc(t),o)||t.endAt&&!function(l,u,f){const C=Qh(l,u,f);return l.inclusive?C>=0:C>0}(t.endAt,kc(t),o)));var t,o}function sc(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function lf(r){return(e,t)=>{let o=!1;for(const l of kc(r)){const u=ac(l,e,t);if(0!==u)return u;o=o||l.field.isKeyField()}return 0}}function ac(r,e,t){const o=r.field.isKeyField()?D.comparator(e.key,t.key):function(l,u,f){const C=u.data.field(l),O=f.data.field(l);return null!==C&&null!==O?ve(C,O):Sn()}(r.field,e,t);switch(r.dir){case"asc":return o;case"desc":return-1*o;default:return Sn()}}class za{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[l,u]of o)if(this.equalsFn(l,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),l=this.inner[o];if(void 0===l)return this.inner[o]=[[e,t]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return 1===o.length?delete this.inner[t]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){eo(this.inner,(t,o)=>{for(const[l,u]of o)e(l,u)})}isEmpty(){return tc(this.inner)}size(){return this.innerSize}}const Dp=new fi(D.comparator);function us(){return Dp}const Ru=new fi(D.comparator);function sl(...r){let e=Ru;for(const t of r)e=e.insert(t.key,t);return e}function Od(r){let e=Ru;return r.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function da(){return $c()}function cf(){return $c()}function $c(){return new za(r=>r.toString(),(r,e)=>r.isEqual(e))}const Ou=new fi(D.comparator),Kg=new Bi(D.comparator);function or(...r){let e=Kg;for(const t of r)e=e.add(t);return e}const Pu=new Bi(ar);function Nu(){return Pu}function Cp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xl(e)?"-0":e}}function Pd(r){return{integerValue:""+r}}function ds(r,e){return Kh(e)?Pd(e):Cp(r,e)}class Bc{constructor(){this._=void 0}}function uf(r,e,t){return r instanceof Ca?function(o,l){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Da(l)&&(l=Iu(l)),l&&(u.fields.__previous_value__=l),{mapValue:u}}(t,e):r instanceof Ol?hf(r,e):r instanceof lc?Nd(r,e):function(o,l){const u=mo(o,l),f=ku(u)+ku(o.gt);return Fn(u)&&Fn(o.gt)?Pd(f):Cp(o.serializer,f)}(r,e)}function df(r,e,t){return r instanceof Ol?hf(r,e):r instanceof lc?Nd(r,e):t}function mo(r,e){return r instanceof es?Fn(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Ca extends Bc{}class Ol extends Bc{constructor(e){super(),this.elements=e}}function hf(r,e){const t=kd(e);for(const o of r.elements)t.some(l=>x(l,o))||t.push(o);return{arrayValue:{values:t}}}class lc extends Bc{constructor(e){super(),this.elements=e}}function Nd(r,e){let t=kd(e);for(const o of r.elements)t=t.filter(l=>!x(l,o));return{arrayValue:{values:t}}}class es extends Bc{constructor(e,t){super(),this.serializer=e,this.gt=t}}function ku(r){return Si(r.integerValue||r.doubleValue)}function kd(r){return lr(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Vc{constructor(e,t){this.field=e,this.transform=t}}class Fu{constructor(e,t){this.version=e,this.transformResults=t}}class Ki{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ki}static exists(e){return new Ki(void 0,e)}static updateTime(e){return new Ki(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cc(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Fd{}function Pl(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new J(r.key,Ki.none()):new _(r.key,r.data,Ki.none());{const t=r.data,o=Jo.empty();let l=new Bi(b.comparator);for(let u of e.fields)if(!l.has(u)){let f=t.field(u);null===f&&u.length>1&&(u=u.popLast(),f=t.field(u)),null===f?o.delete(u):o.set(u,f),l=l.add(u)}return new d(r.key,o,new $o(l.toArray()),Ki.none())}}function Zg(r,e,t){r instanceof _?function(o,l,u){const f=o.value.clone(),C=E(o.fieldTransforms,l,u.transformResults);f.setAll(C),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(r,e,t):r instanceof d?function(o,l,u){if(!cc(o.precondition,l))return void l.convertToUnknownDocument(u.version);const f=E(o.fieldTransforms,l,u.transformResults),C=l.data;C.setAll(p(o)),C.setAll(f),l.convertToFoundDocument(u.version,C).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Lu(r,e,t,o){return r instanceof _?function(l,u,f,C){if(!cc(l.precondition,u))return f;const O=l.value.clone(),B=H(l.fieldTransforms,C,u);return O.setAll(B),u.convertToFoundDocument(u.version,O).setHasLocalMutations(),null}(r,e,t,o):r instanceof d?function(l,u,f,C){if(!cc(l.precondition,u))return f;const O=H(l.fieldTransforms,C,u),B=u.data;return B.setAll(p(l)),B.setAll(O),u.convertToFoundDocument(u.version,B).setHasLocalMutations(),null===f?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(Y=>Y.field))}(r,e,t,o):(f=t,cc(r.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f);var u,f}function Tp(r,e){let t=null;for(const o of r.fieldTransforms){const l=e.data.field(o.field),u=mo(o.transform,l||null);null!=u&&(null===t&&(t=Jo.empty()),t.set(o.field,u))}return t||null}function ff(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===o||t&&o&&Ea(t,o,(l,u)=>function al(r,e){return r.field.isEqual(e.field)&&(o=e.transform,(t=r.transform)instanceof Ol&&o instanceof Ol||t instanceof lc&&o instanceof lc?Ea(t.elements,o.elements,x):t instanceof es&&o instanceof es?x(t.gt,o.gt):t instanceof Ca&&o instanceof Ca);var t,o}(l,u))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,o}class _ extends Fd{constructor(e,t,o,l=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class d extends Fd{constructor(e,t,o,l,u=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function p(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=r.data.field(t);e.set(t,o)}}),e}function E(r,e,t){const o=new Map;_n(r.length===t.length);for(let l=0;l<t.length;l++){const u=r[l],f=u.transform,C=e.data.field(u.field);o.set(u.field,df(f,C,t[l]))}return o}function H(r,e,t){const o=new Map;for(const l of r){const u=l.transform,f=t.data.field(l.field);o.set(l.field,uf(u,f,e))}return o}class J extends Fd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qe extends Fd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ft{constructor(e,t,o,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&Zg(u,e,o[l])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Lu(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Lu(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=cf();return this.mutations.forEach(l=>{const u=e.get(l.key),f=u.overlayedDocument;let C=this.applyToLocalView(f,u.mutatedFields);C=t.has(l.key)?null:C;const O=Pl(f,C);null!==O&&o.set(l.key,O),f.isValidDocument()||f.convertToNoDocument(Bn.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),or())}isEqual(e){return this.batchId===e.batchId&&Ea(this.mutations,e.mutations,(t,o)=>ff(t,o))&&Ea(this.baseMutations,e.baseMutations,(t,o)=>ff(t,o))}}class Kt{constructor(e,t,o,l){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=l}static from(e,t,o){_n(e.mutations.length===o.length);let l=Ou;const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,o[f].version);return new Kt(e,t,o,l)}}class gn{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Un{constructor(e,t){this.count=e,this.unchangedNames=t}}var Or,vr;function uc(r){switch(r){default:return Sn();case wt.CANCELLED:case wt.UNKNOWN:case wt.DEADLINE_EXCEEDED:case wt.RESOURCE_EXHAUSTED:case wt.INTERNAL:case wt.UNAVAILABLE:case wt.UNAUTHENTICATED:return!1;case wt.INVALID_ARGUMENT:case wt.NOT_FOUND:case wt.ALREADY_EXISTS:case wt.PERMISSION_DENIED:case wt.FAILED_PRECONDITION:case wt.ABORTED:case wt.OUT_OF_RANGE:case wt.UNIMPLEMENTED:case wt.DATA_LOSS:return!0}}function $u(r){if(void 0===r)return Li("GRPC error has no .code"),wt.UNKNOWN;switch(r){case Or.OK:return wt.OK;case Or.CANCELLED:return wt.CANCELLED;case Or.UNKNOWN:return wt.UNKNOWN;case Or.DEADLINE_EXCEEDED:return wt.DEADLINE_EXCEEDED;case Or.RESOURCE_EXHAUSTED:return wt.RESOURCE_EXHAUSTED;case Or.INTERNAL:return wt.INTERNAL;case Or.UNAVAILABLE:return wt.UNAVAILABLE;case Or.UNAUTHENTICATED:return wt.UNAUTHENTICATED;case Or.INVALID_ARGUMENT:return wt.INVALID_ARGUMENT;case Or.NOT_FOUND:return wt.NOT_FOUND;case Or.ALREADY_EXISTS:return wt.ALREADY_EXISTS;case Or.PERMISSION_DENIED:return wt.PERMISSION_DENIED;case Or.FAILED_PRECONDITION:return wt.FAILED_PRECONDITION;case Or.ABORTED:return wt.ABORTED;case Or.OUT_OF_RANGE:return wt.OUT_OF_RANGE;case Or.UNIMPLEMENTED:return wt.UNIMPLEMENTED;case Or.DATA_LOSS:return wt.DATA_LOSS;default:return Sn()}}(vr=Or||(Or={}))[vr.OK=0]="OK",vr[vr.CANCELLED=1]="CANCELLED",vr[vr.UNKNOWN=2]="UNKNOWN",vr[vr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vr[vr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vr[vr.NOT_FOUND=5]="NOT_FOUND",vr[vr.ALREADY_EXISTS=6]="ALREADY_EXISTS",vr[vr.PERMISSION_DENIED=7]="PERMISSION_DENIED",vr[vr.UNAUTHENTICATED=16]="UNAUTHENTICATED",vr[vr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vr[vr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vr[vr.ABORTED=10]="ABORTED",vr[vr.OUT_OF_RANGE=11]="OUT_OF_RANGE",vr[vr.UNIMPLEMENTED=12]="UNIMPLEMENTED",vr[vr.INTERNAL=13]="INTERNAL",vr[vr.UNAVAILABLE=14]="UNAVAILABLE",vr[vr.DATA_LOSS=15]="DATA_LOSS";class Bu{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Vu}static getOrCreateInstance(){return null===Vu&&(Vu=new Bu),Vu}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Vu=null;function Uu(){return new TextEncoder}const Ld=new Ja([4294967295,4294967295],0);function ll(r){const e=Uu().encode(r),t=new ls;return t.update(e),new Uint8Array(t.digest())}function $d(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),o=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ja([t,o],0),new Ja([l,u],0)]}class Uc{constructor(e,t,o){if(this.bitmap=e,this.padding=t,this.hashCount=o,t<0||t>=8)throw new jc(`Invalid padding: ${t}`);if(o<0)throw new jc(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new jc(`Invalid hash count: ${o}`);if(0===e.length&&0!==t)throw new jc(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Ja.fromNumber(this.It)}Et(e,t,o){let l=e.add(t.multiply(Ja.fromNumber(o)));return 1===l.compare(Ld)&&(l=new Ja([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=ll(e),[o,l]=$d(t);for(let u=0;u<this.hashCount;u++){const f=this.Et(o,l,u);if(!this.At(f))return!1}return!0}static create(e,t,o){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Uc(u,l,t);return o.forEach(C=>f.insert(C)),f}insert(e){if(0===this.It)return;const t=ll(e),[o,l]=$d(t);for(let u=0;u<this.hashCount;u++){const f=this.Et(o,l,u);this.Rt(f)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class jc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Bd{constructor(e,t,o,l,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const l=new Map;return l.set(e,Ga.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new Bd(Bn.min(),l,new fi(ar),us(),or())}}class Ga{constructor(e,t,o,l,u){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new Ga(o,t,or(),or(),or())}}class Vd{constructor(e,t,o,l){this.Pt=e,this.removedTargetIds=t,this.key=o,this.bt=l}}class Xg{constructor(e,t){this.targetId=e,this.Vt=t}}class Qg{constructor(e,t,o=fo.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=l}}class Jg{constructor(){this.St=0,this.Dt=pf(),this.Ct=fo.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=or(),t=or(),o=or();return this.Dt.forEach((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:o=o.add(l);break;default:Sn()}}),new Ga(this.Ct,this.xt,e,t,o)}Ft(){this.Nt=!1,this.Dt=pf()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class em{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=us(),this.zt=tm(),this.Wt=new fi(ar)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const o=this.Zt(t);switch(e.state){case 0:this.te(t)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(t);break;case 3:this.te(t)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),o.$t(e.resumeToken));break;default:Sn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((o,l)=>{this.te(l)&&t(l)})}ne(e){var t;const o=e.targetId,l=e.Vt.count,u=this.se(o);if(u){const f=u.target;if(Su(f))if(0===l){const C=new D(f.path);this.Yt(o,C,go.newNoDocument(C,Bn.min()))}else _n(1===l);else{const C=this.ie(o);if(C!==l){const O=this.re(e,C);0!==O&&(this.ee(o),this.Wt=this.Wt.insert(o,2===O?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Bu.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(B,Y,Ce){var it,yt,Ut,fn,cn,sr;const Sr={localCacheCount:Y,existenceFilterCount:Ce.count},Xn=Ce.unchangedNames;return Xn&&(Sr.bloomFilter={applied:0===B,hashCount:null!==(it=null==Xn?void 0:Xn.hashCount)&&void 0!==it?it:0,bitmapLength:null!==(fn=null===(Ut=null===(yt=null==Xn?void 0:Xn.bits)||void 0===yt?void 0:yt.bitmap)||void 0===Ut?void 0:Ut.length)&&void 0!==fn?fn:0,padding:null!==(sr=null===(cn=null==Xn?void 0:Xn.bits)||void 0===cn?void 0:cn.padding)&&void 0!==sr?sr:0}),Sr}(O,C,e.Vt))}}}}re(e,t){const{unchangedNames:o,count:l}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:u="",padding:f=0},hashCount:C=0}=o;let O,B;try{O=Qs(u).toUint8Array()}catch(Y){if(Y instanceof rl)return Yr("Decoding the base64 bloom filter in existence filter failed ("+Y.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw Y}try{B=new Uc(O,f,C)}catch(Y){return Yr(Y instanceof jc?"BloomFilter error: ":"Applying bloom filter failed: ",Y),1}return 0===B.It?1:l!==t-this.oe(e.targetId,B)?2:0}oe(e,t){const o=this.Gt.getRemoteKeysForTarget(e);let l=0;return o.forEach(u=>{const f=this.Gt.ue(),C=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.vt(C)||(this.Yt(e,u,null),l++)}),l}ce(e){const t=new Map;this.Qt.forEach((u,f)=>{const C=this.se(f);if(C){if(u.current&&Su(C.target)){const O=new D(C.target.path);null!==this.jt.get(O)||this.ae(f,O)||this.Yt(f,O,go.newNoDocument(O,e))}u.Mt&&(t.set(f,u.Ot()),u.Ft())}});let o=or();this.zt.forEach((u,f)=>{let C=!0;f.forEachWhile(O=>{const B=this.se(O);return!B||"TargetPurposeLimboResolution"===B.purpose||(C=!1,!1)}),C&&(o=o.add(u))}),this.jt.forEach((u,f)=>f.setReadTime(e));const l=new Bd(e,t,this.Wt,this.jt,o);return this.jt=us(),this.zt=tm(),this.Wt=new fi(ar),l}Jt(e,t){if(!this.te(e))return;const o=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,o),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,o){if(!this.te(e))return;const l=this.Zt(e);this.ae(e,t)?l.Bt(t,1):l.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),o&&(this.jt=this.jt.insert(t,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Jg,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Bi(ar),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Xt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Jg),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function tm(){return new fi(D.comparator)}function pf(){return new fi(D.comparator)}const gf={asc:"ASCENDING",desc:"DESCENDING"},dy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nm={and:"AND",or:"OR"};class Sp{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ap(r,e){return r.useProto3Json||nl(e)?e:{value:e}}function Hc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ud(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function CI(r,e){return Hc(r,e.toTimestamp())}function jo(r){return _n(!!r),Bn.fromTimestamp(function(e){const t=Va(e);return new $i(t.seconds,t.nanos)}(r))}function rm(r,e){return(t=r,new kr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function hy(r){const e=kr.fromString(r);return _n(zd(e)),e}function mf(r,e){return rm(r.databaseId,e.path)}function cl(r,e){const t=hy(e);if(t.get(1)!==r.databaseId.projectId)throw new Ht(wt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Ht(wt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new D(Hu(t))}function Mp(r,e){return rm(r.databaseId,e)}function vf(r){const e=hy(r);return 4===e.length?kr.emptyPath():Hu(e)}function ju(r){return new kr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Hu(r){return _n(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function fy(r,e,t){return{name:mf(r,e),fields:t.value.mapValue.fields}}function py(r,e,t){const o=cl(r,e.name),l=jo(e.updateTime),u=e.createTime?jo(e.createTime):Bn.min(),f=new Jo({mapValue:{fields:e.fields}}),C=go.newFoundDocument(o,l,u,f);return t&&C.setHasCommittedMutations(),t?C.setHasCommittedMutations():C}function zu(r,e){let t;if(e instanceof _)t={update:fy(r,e.key,e.value)};else if(e instanceof J)t={delete:mf(r,e.key)};else if(e instanceof d)t={update:fy(r,e.key,e.data),updateMask:Gc(e.fieldMask)};else{if(!(e instanceof qe))return Sn();t={verify:mf(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(l,u){const f=u.transform;if(f instanceof Ca)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ol)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof lc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof es)return{fieldPath:u.field.canonicalString(),increment:f.gt};throw Sn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:CI(r,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:Sn()),t;var l}function im(r,e){const t=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?Ki.updateTime(jo(l.updateTime)):void 0!==l.exists?Ki.exists(l.exists):Ki.none():Ki.none(),o=e.updateTransforms?e.updateTransforms.map(l=>function(u,f){let C=null;"setToServerValue"in f?(_n("REQUEST_TIME"===f.setToServerValue),C=new Ca):"appendMissingElements"in f?C=new Ol(f.appendMissingElements.values||[]):"removeAllFromArray"in f?C=new lc(f.removeAllFromArray.values||[]):"increment"in f?C=new es(u,f.increment):Sn();const O=b.fromServerFormat(f.fieldPath);return new Vc(O,C)}(r,l)):[];var l;if(e.update){const l=cl(r,e.update.name),u=new Jo({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new $o((e.updateMask.fieldPaths||[]).map(B=>b.fromServerFormat(B)));return new d(l,u,f,t,o)}return new _(l,u,t,o)}if(e.delete){const l=cl(r,e.delete);return new J(l,t)}if(e.verify){const l=cl(r,e.verify);return new qe(l,t)}return Sn()}function yf(r,e){return{documents:[Mp(r,e.path)]}}function _f(r,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Mp(r,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Mp(r,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const l=function(O){if(0!==O.length)return vy(_i.create(O,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const u=function(O){if(0!==O.length)return O.map(B=>{return{field:zc((Y=B).field),direction:my(Y.dir)};var Y})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=Ap(r,e.limit);var C,O;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(C=e.startAt).inclusive,values:C.position}),e.endAt&&(t.structuredQuery.endAt={before:!(O=e.endAt).inclusive,values:O.position}),t}function om(r){let e=vf(r.parent);const t=r.structuredQuery,o=t.from?t.from.length:0;let l=null;if(o>0){_n(1===o);const Y=t.from[0];Y.allDescendants?l=Y.collectionId:e=e.child(Y.collectionId)}let u=[];t.where&&(u=function(Y){const Ce=sm(Y);return Ce instanceof _i&&Oc(Ce)?Ce.getFilters():[Ce]}(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(Y=>{return new ja(Hd((Ce=Y).field),function(it){switch(it){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ce.direction));var Ce}));let C=null;t.limit&&(C=function(Y){let Ce;return Ce="object"==typeof Y?Y.value:Y,nl(Ce)?null:Ce}(t.limit));let O=null;var Y;t.startAt&&(O=new Ua((Y=t.startAt).values||[],!!Y.before));let B=null;return t.endAt&&(B=function(Y){return new Ua(Y.values||[],!Y.before)}(t.endAt)),Ep(e,l,f,u,C,"F",O,B)}function sm(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Hd(e.unaryFilter.field);return Kr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=Hd(e.unaryFilter.field);return Kr.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Hd(e.unaryFilter.field);return Kr.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Hd(e.unaryFilter.field);return Kr.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Sn()}}(r):void 0!==r.fieldFilter?Kr.create(Hd((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Sn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return _i.create(e.compositeFilter.filters.map(t=>sm(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Sn()}}(e.compositeFilter.op))}(r):Sn();var e}function my(r){return gf[r]}function SI(r){return dy[r]}function AI(r){return nm[r]}function zc(r){return{fieldPath:r.canonicalString()}}function Hd(r){return b.fromServerFormat(r.fieldPath)}function vy(r){return r instanceof Kr?function(e){if("=="===e.op){if(As(e.value))return{unaryFilter:{field:zc(e.field),op:"IS_NAN"}};if(mr(e.value))return{unaryFilter:{field:zc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(As(e.value))return{unaryFilter:{field:zc(e.field),op:"IS_NOT_NAN"}};if(mr(e.value))return{unaryFilter:{field:zc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zc(e.field),op:SI(e.op),value:e.value}}}(r):r instanceof _i?function(e){const t=e.getFilters().map(o=>vy(o));return 1===t.length?t[0]:{compositeFilter:{op:AI(e.op),filters:t}}}(r):Sn()}function Gc(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function zd(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class dc{constructor(e,t,o,l,u=Bn.min(),f=Bn.min(),C=fo.EMPTY_BYTE_STRING,O=null){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=C,this.expectedCount=O}withSequenceNumber(e){return new dc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new dc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class MI{constructor(e){this.fe=e}}function xI(r,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:am(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:mf(l=r.fe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Hc(l,u.version.toTimestamp()),createTime:Hc(l,u.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:Gd(e.version)};else{if(!e.isUnknownDocument())return Sn();o.unknownDocument={path:t.path.toArray(),version:Gd(e.version)}}var l,u;return o}function am(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function Gd(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Wc(r){const e=new $i(r.seconds,r.nanoseconds);return Bn.fromTimestamp(e)}function Gu(r,e){const t=(e.baseMutations||[]).map(u=>im(r.fe,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const o=e.mutations.map(u=>im(r.fe,u)),l=$i.fromMillis(e.localWriteTimeMs);return new ft(e.batchId,l,t,o)}function If(r){const e=Wc(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?Wc(r.lastLimboFreeSnapshotVersion):Bn.min();let o;var l;return void 0!==r.query.documents?(_n(1===(l=r.query).documents.length),o=Ls(Ha(vf(l.documents[0])))):o=Ls(om(r.query)),new dc(o,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,fo.fromBase64String(r.resumeToken))}function yy(r,e){const t=Gd(e.snapshotVersion),o=Gd(e.lastLimboFreeSnapshotVersion);let l;l=Su(e.target)?yf(r.fe,e.target):_f(r.fe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Rl(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:l}}function lm(r){const e=om({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Rd(e,e.limit,"L"):e}function Ef(r,e){return new gn(e.largestBatchId,im(r.fe,e.overlayMutation))}function Nl(r,e){const t=e.path.lastSegment();return[r,Po(e.path.popLast()),t]}function Wd(r,e,t,o){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:Gd(o.readTime),documentKey:Po(o.documentKey.path),largestBatchId:o.largestBatchId}}class _y{getBundleMetadata(e,t){return cm(e).get(t).next(o=>{if(o)return{id:(l=o).bundleId,createTime:Wc(l.createTime),version:l.version};var l})}saveBundleMetadata(e,t){return cm(e).put({bundleId:(o=t).id,createTime:Gd(jo(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return um(e).get(t).next(o=>{if(o)return{name:(l=o).name,query:lm(l.bundledQuery),readTime:Wc(l.readTime)};var l})}saveNamedQuery(e,t){return um(e).put({name:(o=t).name,readTime:Gd(jo(o.readTime)),bundledQuery:o.bundledQuery});var o}}function cm(r){return Yi(r,"bundles")}function um(r){return Yi(r,"namedQueries")}class dm{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new dm(e,t.uid||"")}getOverlay(e,t){return xp(e).get(Nl(this.userId,t)).next(o=>o?Ef(this.serializer,o):null)}getOverlays(e,t){const o=da();return ht.forEach(t,l=>this.getOverlay(e,l).next(u=>{null!==u&&o.set(l,u)})).next(()=>o)}saveOverlays(e,t,o){const l=[];return o.forEach((u,f)=>{const C=new gn(t,f);l.push(this.we(e,C))}),ht.waitFor(l)}removeOverlaysForBatchId(e,t,o){const l=new Set;t.forEach(f=>l.add(Po(f.getCollectionPath())));const u=[];return l.forEach(f=>{const C=IDBKeyRange.bound([this.userId,f,o],[this.userId,f,o+1],!1,!0);u.push(xp(e).J("collectionPathOverlayIndex",C))}),ht.waitFor(u)}getOverlaysForCollection(e,t,o){const l=da(),u=Po(t),f=IDBKeyRange.bound([this.userId,u,o],[this.userId,u,Number.POSITIVE_INFINITY],!0);return xp(e).j("collectionPathOverlayIndex",f).next(C=>{for(const O of C){const B=Ef(this.serializer,O);l.set(B.getKey(),B)}return l})}getOverlaysForCollectionGroup(e,t,o,l){const u=da();let f;const C=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return xp(e).X({index:"collectionGroupOverlayIndex",range:C},(O,B,Y)=>{const Ce=Ef(this.serializer,B);u.size()<l||Ce.largestBatchId===f?(u.set(Ce.getKey(),Ce),f=Ce.largestBatchId):Y.done()}).next(()=>u)}we(e,t){return xp(e).put(function(o,l,u){const[f,C,O]=Nl(l,u.mutation.key);return{userId:l,collectionPath:C,documentId:O,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:zu(o.fe,u.mutation)}}(this.serializer,this.userId,t))}}function xp(r){return Yi(r,"documentOverlays")}class qd{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Si(e.integerValue));else if("doubleValue"in e){const o=Si(e.doubleValue);isNaN(o)?this.ye(t,13):(this.ye(t,15),Xl(o)?t.pe(0):t.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(t,20),"string"==typeof o?t.Ie(o):(t.Ie(`${o.seconds||""}`),t.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Qs(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(t,45),t.pe(o.latitude||0),t.pe(o.longitude||0)}else"mapValue"in e?Ml(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Sn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const o=e.fields||{};this.ye(t,55);for(const l of Object.keys(o))this.Te(l,t),this.me(o[l],t)}Pe(e,t){const o=e.values||[];this.ye(t,50);for(const l of o)this.me(l,t)}ve(e,t){this.ye(t,37),D.fromName(e).path.forEach(o=>{this.ye(t,60),this.be(o,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function hm(r){if(0===r)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function Rp(r){const e=64-function(t){let o=0;for(let l=0;l<8;++l){const u=hm(255&t[l]);if(o+=u,8!==u)break}return o}(r);return Math.ceil(e/8)}qd.Ve=new qd;class Ew{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.De(o.value),o=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ne(o.value),o=t.next();this.ke()}Me(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.De(o);else if(o<2048)this.De(960|o>>>6),this.De(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.De(480|o>>>12),this.De(128|63&o>>>6),this.De(128|63&o);else{const l=t.codePointAt(0);this.De(240|l>>>18),this.De(128|63&l>>>12),this.De(128|63&l>>>6),this.De(128|63&l)}}this.Ce()}$e(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ne(o);else if(o<2048)this.Ne(960|o>>>6),this.Ne(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o);else{const l=t.codePointAt(0);this.Ne(240|l>>>18),this.Ne(128|63&l>>>12),this.Ne(128|63&l>>>6),this.Ne(128|63&l)}}this.ke()}Oe(e){const t=this.Fe(e),o=Rp(t);this.Be(1+o),this.buffer[this.position++]=255&o;for(let l=t.length-o;l<t.length;++l)this.buffer[this.position++]=255&t[l]}Le(e){const t=this.Fe(e),o=Rp(t);this.Be(1+o),this.buffer[this.position++]=~(255&o);for(let l=t.length-o;l<t.length;++l)this.buffer[this.position++]=~(255&t[l])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(l){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,l,!1),new Uint8Array(u.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let l=1;l<t.length;++l)t[l]^=o?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const l=new Uint8Array(o);l.set(this.buffer),this.buffer=l}}class bw{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Iy{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class bf{constructor(){this.je=new Ew,this.ze=new bw(this.je),this.We=new Iy(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Wu{constructor(e,t,o,l){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=l}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Wu(this.indexId,this.documentKey,this.arrayValue,o)}}function qc(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=Ey(r.arrayValue,e.arrayValue),0!==t?t:(t=Ey(r.directionalValue,e.directionalValue),0!==t?t:D.comparator(r.documentKey,e.documentKey)))}function Ey(r,e){for(let t=0;t<r.length&&t<e.length;++t){const o=r[t]-e[t];if(0!==o)return o}return r.length-e.length}class by{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const o=t;o.isInequality()?this.Ze=o:this.Xe.push(o)}}tn(e){_n(e.collectionGroup===this.collectionId);const t=A(e);if(void 0!==t&&!this.en(t))return!1;const o=L(e);let l=new Set,u=0,f=0;for(;u<o.length&&this.en(o[u]);++u)l=l.add(o[u].fieldPath.canonicalString());if(u===o.length)return!0;if(void 0!==this.Ze){if(!l.has(this.Ze.field.canonicalString())){const C=o[u];if(!this.nn(this.Ze,C)||!this.sn(this.Ye[f++],C))return!1}++u}for(;u<o.length;++u)if(f>=this.Ye.length||!this.sn(this.Ye[f++],o[u]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function wf(r){var e,t;if(_n(r instanceof Kr||r instanceof _i),r instanceof Kr){if(r instanceof tf){const l=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>Kr.create(r.field,"==",u)))||[];return _i.create(l,"or")}return r}const o=r.filters.map(l=>wf(l));return _i.create(o,r.op)}function RI(r){if(0===r.getFilters().length)return[];const e=pm(wf(r));return _n(qu(e)),Df(e)||fm(e)?[e]:e.getFilters()}function Df(r){return r instanceof Kr}function fm(r){return r instanceof _i&&Oc(r)}function qu(r){return Df(r)||fm(r)||function(e){if(e instanceof _i&&Md(e)){for(const t of e.getFilters())if(!Df(t)&&!fm(t))return!1;return!0}return!1}(r)}function pm(r){if(_n(r instanceof Kr||r instanceof _i),r instanceof Kr)return r;if(1===r.filters.length)return pm(r.filters[0]);const e=r.filters.map(o=>pm(o));let t=_i.create(e,r.op);return t=Cf(t),qu(t)?t:(_n(t instanceof _i),_n(Rc(t)),_n(t.filters.length>1),t.filters.reduce((o,l)=>gm(o,l)))}function gm(r,e){let t;return _n(r instanceof Kr||r instanceof _i),_n(e instanceof Kr||e instanceof _i),t=r instanceof Kr?e instanceof Kr?_i.create([r,e],"and"):mm(r,e):e instanceof Kr?mm(e,r):function(o,l){if(_n(o.filters.length>0&&l.filters.length>0),Rc(o)&&Rc(l))return _p(o,l.getFilters());const u=Md(o)?o:l,f=Md(o)?l:o,C=u.filters.map(O=>gm(O,f));return _i.create(C,"or")}(r,e),Cf(t)}function mm(r,e){if(Rc(e))return _p(e,r.getFilters());{const t=e.filters.map(o=>gm(r,o));return _i.create(t,"or")}}function Cf(r){if(_n(r instanceof Kr||r instanceof _i),r instanceof Kr)return r;const e=r.getFilters();if(1===e.length)return Cf(e[0]);if(Cu(r))return r;const t=e.map(l=>Cf(l)),o=[];return t.forEach(l=>{l instanceof Kr?o.push(l):l instanceof _i&&(l.op===r.op?o.push(...l.filters):o.push(l))}),1===o.length?o[0]:_i.create(o,r.op)}class OI{constructor(){this.rn=new vm}addToCollectionParentIndex(e,t){return this.rn.add(t),ht.resolve()}getCollectionParents(e,t){return ht.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ht.resolve()}deleteFieldIndex(e,t){return ht.resolve()}getDocumentsMatchingTarget(e,t){return ht.resolve(null)}getIndexType(e,t){return ht.resolve(0)}getFieldIndexes(e,t){return ht.resolve([])}getNextCollectionGroupToUpdate(e){return ht.resolve(null)}getMinOffset(e,t){return ht.resolve(Vn.min())}getMinOffsetFromCollectionGroup(e,t){return ht.resolve(Vn.min())}updateCollectionGroup(e,t,o){return ht.resolve()}updateIndexEntries(e,t){return ht.resolve()}}class vm{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t]||new Bi(kr.comparator),u=!l.has(o);return this.index[t]=l.add(o),u}has(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t];return l&&l.has(o)}getEntries(e){return(this.index[e]||new Bi(kr.comparator)).toArray()}}const Op=new Uint8Array(0);class PI{constructor(e,t){this.user=e,this.databaseId=t,this.on=new vm,this.un=new za(o=>Rl(o),(o,l)=>Tu(o,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const o=t.lastSegment(),l=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const u={collectionId:o,parent:Po(l)};return ym(e).put(u)}return ht.resolve()}getCollectionParents(e,t){const o=[],l=IDBKeyRange.bound([t,""],[Kl(t),""],!1,!0);return ym(e).j(l).next(u=>{for(const f of u){if(f.collectionId!==t)break;o.push(is(f.parent))}return o})}addFieldIndex(e,t){const o=_m(e),l={indexId:(f=t).indexId,collectionGroup:f.collectionGroup,fields:f.fields.map(C=>[C.fieldPath.canonicalString(),C.kind])};var f;delete l.indexId;const u=o.add(l);if(t.indexState){const f=hc(e);return u.next(C=>{f.put(Wd(C,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const o=_m(e),l=hc(e),u=Pp(e);return o.delete(t.indexId).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=Pp(e);let l=!0;const u=new Map;return ht.forEach(this.cn(t),f=>this.an(e,f).next(C=>{l&&(l=!!C),u.set(f,C)})).next(()=>{if(l){let f=or();const C=[];return ht.forEach(u,(O,B)=>{var Y;Xt("IndexedDbIndexManager",`Using index ${Y=O,`id=${Y.indexId}|cg=${Y.collectionGroup}|f=${Y.fields.map(Xn=>`${Xn.fieldPath}:${Xn.kind}`).join(",")}`} to execute ${Rl(t)}`);const Ce=function(Xn,Fr){const Ii=A(Fr);if(void 0===Ii)return null;for(const li of rf(Xn,Ii.fieldPath))switch(li.op){case"array-contains-any":return li.value.arrayValue.values||[];case"array-contains":return[li.value]}return null}(B,O),it=function(Xn,Fr){const Ii=new Map;for(const li of L(Fr))for(const ts of rf(Xn,li.fieldPath))switch(ts.op){case"==":case"in":Ii.set(li.fieldPath.canonicalString(),ts.value);break;case"not-in":case"!=":return Ii.set(li.fieldPath.canonicalString(),ts.value),Array.from(Ii.values())}return null}(B,O),yt=function(Xn,Fr){const Ii=[];let li=!0;for(const ts of L(Fr)){const Oa=0===ts.kind?xd(Xn,ts.fieldPath,Xn.startAt):sf(Xn,ts.fieldPath,Xn.startAt);Ii.push(Oa.value),li&&(li=Oa.inclusive)}return new Ua(Ii,li)}(B,O),Ut=function(Xn,Fr){const Ii=[];let li=!0;for(const ts of L(Fr)){const Oa=0===ts.kind?sf(Xn,ts.fieldPath,Xn.endAt):xd(Xn,ts.fieldPath,Xn.endAt);Ii.push(Oa.value),li&&(li=Oa.inclusive)}return new Ua(Ii,li)}(B,O),fn=this.hn(O,B,yt),cn=this.hn(O,B,Ut),sr=this.ln(O,B,it),Sr=this.fn(O.indexId,Ce,fn,yt.inclusive,cn,Ut.inclusive,sr);return ht.forEach(Sr,Xn=>o.H(Xn,t.limit).next(Fr=>{Fr.forEach(Ii=>{const li=D.fromSegments(Ii.documentKey);f.has(li)||(f=f.add(li),C.push(li))})}))}).next(()=>C)}return ht.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:RI(_i.create(e.filters,"and")).map(o=>Pc(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,o,l,u,f,C){const O=(null!=t?t.length:1)*Math.max(o.length,u.length),B=O/(null!=t?t.length:1),Y=[];for(let Ce=0;Ce<O;++Ce){const it=t?this.dn(t[Ce/B]):Op,yt=this.wn(e,it,o[Ce%B],l),Ut=this._n(e,it,u[Ce%B],f),fn=C.map(cn=>this.wn(e,it,cn,!0));Y.push(...this.createRange(yt,Ut,fn))}return Y}wn(e,t,o,l){const u=new Wu(e,D.empty(),t,o);return l?u:u.Je()}_n(e,t,o,l){const u=new Wu(e,D.empty(),t,o);return l?u.Je():u}an(e,t){const o=new by(t),l=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,l).next(u=>{let f=null;for(const C of u)o.tn(C)&&(!f||C.fields.length>f.fields.length)&&(f=C);return f})}getIndexType(e,t){let o=2;const l=this.cn(t);return ht.forEach(l,u=>this.an(e,u).next(f=>{f?0!==o&&f.fields.length<function(C){let O=new Bi(b.comparator),B=!1;for(const Y of C.filters)for(const Ce of Y.getFlattenedFilters())Ce.field.isKeyField()||("array-contains"===Ce.op||"array-contains-any"===Ce.op?B=!0:O=O.add(Ce.field));for(const Y of C.orderBy)Y.field.isKeyField()||(O=O.add(Y.field));return O.size+(B?1:0)}(u)&&(o=1):o=0})).next(()=>null!==t.limit&&l.length>1&&2===o?1:o)}mn(e,t){const o=new bf;for(const l of L(e)){const u=t.data.field(l.fieldPath);if(null==u)return null;const f=o.He(l.kind);qd.Ve._e(u,f)}return o.Qe()}dn(e){const t=new bf;return qd.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const o=new bf;return qd.Ve._e(un(this.databaseId,t),o.He(function(l){const u=L(l);return 0===u.length?0:u[u.length-1].kind}(e))),o.Qe()}ln(e,t,o){if(null===o)return[];let l=[];l.push(new bf);let u=0;for(const f of L(e)){const C=o[u++];for(const O of l)if(this.yn(t,f.fieldPath)&&lr(C))l=this.pn(l,f,C);else{const B=O.He(f.kind);qd.Ve._e(C,B)}}return this.In(l)}hn(e,t,o){return this.ln(e,t,o.position)}In(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Qe();return t}pn(e,t,o){const l=[...e],u=[];for(const f of o.arrayValue.values||[])for(const C of l){const O=new bf;O.seed(C.Qe()),qd.Ve._e(f,O.He(t.kind)),u.push(O)}return u}yn(e,t){return!!e.filters.find(o=>o instanceof Kr&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=_m(e),l=hc(e);return(t?o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.j()).next(u=>{const f=[];return ht.forEach(u,C=>l.get([C.indexId,this.uid]).next(O=>{f.push(function(B,Y){const Ce=Y?new ln(Y.sequenceNumber,new Vn(Wc(Y.readTime),new D(is(Y.documentKey)),Y.largestBatchId)):ln.empty(),it=B.fields.map(([yt,Ut])=>new ue(b.fromServerFormat(yt),Ut));return new R(B.indexId,B.collectionGroup,it,Ce)}(C,O))})).next(()=>f)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,l)=>{const u=o.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==u?u:ar(o.collectionGroup,l.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const l=_m(e),u=hc(e);return this.Tn(e).next(f=>l.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(C=>ht.forEach(C,O=>u.put(Wd(O.indexId,this.user,f,o)))))}updateIndexEntries(e,t){const o=new Map;return ht.forEach(t,(l,u)=>{const f=o.get(l.collectionGroup);return(f?ht.resolve(f):this.getFieldIndexes(e,l.collectionGroup)).next(C=>(o.set(l.collectionGroup,C),ht.forEach(C,O=>this.En(e,l,O).next(B=>{const Y=this.An(u,O);return B.isEqual(Y)?ht.resolve():this.vn(e,u,O,B,Y)}))))})}Rn(e,t,o,l){return Pp(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.gn(o,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,o,l){return Pp(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.gn(o,t.key),t.key.path.toArray()])}En(e,t,o){const l=Pp(e);let u=new Bi(qc);return l.X({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.gn(o,t)])},(f,C)=>{u=u.add(new Wu(o.indexId,t,C.arrayValue,C.directionalValue))}).next(()=>u)}An(e,t){let o=new Bi(qc);const l=this.mn(t,e);if(null==l)return o;const u=A(t);if(null!=u){const f=e.data.field(u.fieldPath);if(lr(f))for(const C of f.arrayValue.values||[])o=o.add(new Wu(t.indexId,e.key,this.dn(C),l))}else o=o.add(new Wu(t.indexId,e.key,Op,l));return o}vn(e,t,o,l,u){Xt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const f=[];return function(C,O,B,Y,Ce){const it=C.getIterator(),yt=O.getIterator();let Ut=ca(it),fn=ca(yt);for(;Ut||fn;){let cn=!1,sr=!1;if(Ut&&fn){const Sr=B(Ut,fn);Sr<0?sr=!0:Sr>0&&(cn=!0)}else null!=Ut?sr=!0:cn=!0;cn?(Y(fn),fn=ca(yt)):sr?(Ce(Ut),Ut=ca(it)):(Ut=ca(it),fn=ca(yt))}}(l,u,qc,C=>{f.push(this.Rn(e,t,o,C))},C=>{f.push(this.Pn(e,t,o,C))}),ht.waitFor(f)}Tn(e){let t=1;return hc(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,l,u)=>{u.done(),t=l.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((f,C)=>qc(f,C)).filter((f,C,O)=>!C||0!==qc(f,O[C-1]));const l=[];l.push(e);for(const f of o){const C=qc(f,e),O=qc(f,t);if(0===C)l[0]=e.Je();else if(C>0&&O<0)l.push(f),l.push(f.Je());else if(O>0)break}l.push(t);const u=[];for(let f=0;f<l.length;f+=2){if(this.bn(l[f],l[f+1]))return[];u.push(IDBKeyRange.bound([l[f].indexId,this.uid,l[f].arrayValue,l[f].directionalValue,Op,[]],[l[f+1].indexId,this.uid,l[f+1].arrayValue,l[f+1].directionalValue,Op,[]]))}return u}bn(e,t){return qc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Ai)}getMinOffset(e,t){return ht.mapArray(this.cn(t),o=>this.an(e,o).next(l=>l||Sn())).next(Ai)}}function ym(r){return Yi(r,"collectionParents")}function Pp(r){return Yi(r,"indexEntries")}function _m(r){return Yi(r,"indexConfiguration")}function hc(r){return Yi(r,"indexState")}function Ai(r){_n(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<r.length;o++){const l=r[o].indexState.offset;Gr(l,e)<0&&(e=l),t<l.largestBatchId&&(t=l.largestBatchId)}return new Vn(e.readTime,e.documentKey,t)}const Yd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ms{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Ms(e,Ms.DEFAULT_COLLECTION_PERCENTILE,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Im(r,e,t){const o=r.store("mutations"),l=r.store("documentMutations"),u=[],f=IDBKeyRange.only(t.batchId);let C=0;const O=o.X({range:f},(Y,Ce,it)=>(C++,it.delete()));u.push(O.next(()=>{_n(1===C)}));const B=[];for(const Y of t.mutations){const Ce=gp(e,Y.key.path,t.batchId);u.push(l.delete(Ce)),B.push(Y.key)}return ht.waitFor(u).next(()=>B)}function Kd(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw Sn();e=r.noDocument}return JSON.stringify(e).length}Ms.DEFAULT_COLLECTION_PERCENTILE=10,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ms.DEFAULT=new Ms(41943040,Ms.DEFAULT_COLLECTION_PERCENTILE,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ms.DISABLED=new Ms(-1,0,0);class Zd{constructor(e,t,o,l){this.userId=e,this.serializer=t,this.indexManager=o,this.referenceDelegate=l,this.Vn={}}static de(e,t,o,l){_n(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Zd(u,t,o,l)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fc(e).X({index:"userMutationsIndex",range:o},(l,u,f)=>{t=!1,f.done()}).next(()=>t)}addMutationBatch(e,t,o,l){const u=Yu(e),f=fc(e);return f.add({}).next(C=>{_n("number"==typeof C);const O=new ft(C,t,o,l),B=function(it,yt,Ut){const fn=Ut.baseMutations.map(sr=>zu(it.fe,sr)),cn=Ut.mutations.map(sr=>zu(it.fe,sr));return{userId:yt,batchId:Ut.batchId,localWriteTimeMs:Ut.localWriteTime.toMillis(),baseMutations:fn,mutations:cn}}(this.serializer,this.userId,O),Y=[];let Ce=new Bi((it,yt)=>ar(it.canonicalString(),yt.canonicalString()));for(const it of l){const yt=gp(this.userId,it.key.path,C);Ce=Ce.add(it.key.path.popLast()),Y.push(f.put(B)),Y.push(u.put(yt,Ac))}return Ce.forEach(it=>{Y.push(this.indexManager.addToCollectionParentIndex(e,it))}),e.addOnCommittedListener(()=>{this.Vn[C]=O.keys()}),ht.waitFor(Y).next(()=>O)})}lookupMutationBatch(e,t){return fc(e).get(t).next(o=>o?(_n(o.userId===this.userId),Gu(this.serializer,o)):null)}Sn(e,t){return this.Vn[t]?ht.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const l=o.keys();return this.Vn[t]=l,l}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,l=IDBKeyRange.lowerBound([this.userId,o]);let u=null;return fc(e).X({index:"userMutationsIndex",range:l},(f,C,O)=>{C.userId===this.userId&&(_n(C.batchId>=o),u=Gu(this.serializer,C)),O.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return fc(e).X({index:"userMutationsIndex",range:t,reverse:!0},(l,u,f)=>{o=u.batchId,f.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fc(e).j("userMutationsIndex",t).next(o=>o.map(l=>Gu(this.serializer,l)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=la(this.userId,t.path),l=IDBKeyRange.lowerBound(o),u=[];return Yu(e).X({range:l},(f,C,O)=>{const[B,Y,Ce]=f,it=is(Y);if(B===this.userId&&t.path.isEqual(it))return fc(e).get(Ce).next(yt=>{if(!yt)throw Sn();_n(yt.userId===this.userId),u.push(Gu(this.serializer,yt))});O.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Bi(ar);const l=[];return t.forEach(u=>{const f=la(this.userId,u.path),C=IDBKeyRange.lowerBound(f),O=Yu(e).X({range:C},(B,Y,Ce)=>{const[it,yt,Ut]=B,fn=is(yt);it===this.userId&&u.path.isEqual(fn)?o=o.add(Ut):Ce.done()});l.push(O)}),ht.waitFor(l).next(()=>this.Dn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1,u=la(this.userId,o),f=IDBKeyRange.lowerBound(u);let C=new Bi(ar);return Yu(e).X({range:f},(O,B,Y)=>{const[Ce,it,yt]=O,Ut=is(it);Ce===this.userId&&o.isPrefixOf(Ut)?Ut.length===l&&(C=C.add(yt)):Y.done()}).next(()=>this.Dn(e,C))}Dn(e,t){const o=[],l=[];return t.forEach(u=>{l.push(fc(e).get(u).next(f=>{if(null===f)throw Sn();_n(f.userId===this.userId),o.push(Gu(this.serializer,f))}))}),ht.waitFor(l).next(()=>o)}removeMutationBatch(e,t){return Im(e.ht,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),ht.forEach(o,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ht.resolve();const o=IDBKeyRange.lowerBound([this.userId]),l=[];return Yu(e).X({range:o},(u,f,C)=>{if(u[0]===this.userId){const O=is(u[1]);l.push(O)}else C.done()}).next(()=>{_n(0===l.length)})})}containsKey(e,t){return Em(e,this.userId,t)}xn(e){return Tf(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Em(r,e,t){const o=la(e,t.path),l=o[1],u=IDBKeyRange.lowerBound(o);let f=!1;return Yu(r).X({range:u,Y:!0},(C,O,B)=>{const[Y,Ce,it]=C;Y===e&&Ce===l&&(f=!0),B.done()}).next(()=>f)}function fc(r){return Yi(r,"mutations")}function Yu(r){return Yi(r,"documentMutations")}function Tf(r){return Yi(r,"mutationQueues")}class Xd{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Xd(0)}static Mn(){return new Xd(-1)}}class bm{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const o=new Xd(t.highestTargetId);return t.highestTargetId=o.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Bn.fromTimestamp(new $i(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.$n(e).next(l=>(l.highestListenSequenceNumber=t,o&&(l.lastRemoteSnapshotVersion=o.toTimestamp()),t>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=t),this.On(e,l)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(o=>(o.targetCount+=1,this.Bn(t,o),this.On(e,o))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Qd(e).delete(t.targetId)).next(()=>this.$n(e)).next(o=>(_n(o.targetCount>0),o.targetCount-=1,this.On(e,o)))}removeTargets(e,t,o){let l=0;const u=[];return Qd(e).X((f,C)=>{const O=If(C);O.sequenceNumber<=t&&null===o.get(O.targetId)&&(l++,u.push(this.removeTargetData(e,O)))}).next(()=>ht.waitFor(u)).next(()=>l)}forEachTarget(e,t){return Qd(e).X((o,l)=>{const u=If(l);t(u)})}$n(e){return Np(e).get("targetGlobalKey").next(t=>(_n(null!==t),t))}On(e,t){return Np(e).put("targetGlobalKey",t)}Fn(e,t){return Qd(e).put(yy(this.serializer,t))}Bn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const o=Rl(t),l=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let u=null;return Qd(e).X({range:l,index:"queryTargetsIndex"},(f,C,O)=>{const B=If(C);Tu(t,B.target)&&(u=B,O.done())}).next(()=>u)}addMatchingKeys(e,t,o){const l=[],u=pc(e);return t.forEach(f=>{const C=Po(f.path);l.push(u.put({targetId:o,path:C})),l.push(this.referenceDelegate.addReference(e,o,f))}),ht.waitFor(l)}removeMatchingKeys(e,t,o){const l=pc(e);return ht.forEach(t,u=>{const f=Po(u.path);return ht.waitFor([l.delete([o,f]),this.referenceDelegate.removeReference(e,o,u)])})}removeMatchingKeysForTargetId(e,t){const o=pc(e),l=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(l)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),l=pc(e);let u=or();return l.X({range:o,Y:!0},(f,C,O)=>{const B=is(f[1]),Y=new D(B);u=u.add(Y)}).next(()=>u)}containsKey(e,t){const o=Po(t.path),l=IDBKeyRange.bound([o],[Kl(o)],!1,!0);let u=0;return pc(e).X({index:"documentTargetsIndex",Y:!0,range:l},([f,C],O,B)=>{0!==f&&(u++,B.done())}).next(()=>u>0)}le(e,t){return Qd(e).get(t).next(o=>o?If(o):null)}}function Qd(r){return Yi(r,"targets")}function Np(r){return Yi(r,"targetGlobal")}function pc(r){return Yi(r,"targetDocuments")}function wm([r,e],[t,o]){const l=ar(r,t);return 0===l?ar(e,o):l}class Ku{constructor(e){this.Ln=e,this.buffer=new Bi(wm),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();wm(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class wy{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Xt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Z.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){Es(o)?Xt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Ti(o)}yield t.Qn(3e5)}))}}class Dm{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return ht.resolve(ho.ct);const o=new Ku(t);return this.jn.forEachTarget(e,l=>o.Kn(l.sequenceNumber)).next(()=>this.jn.Wn(e,l=>o.Kn(l))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.jn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Xt("LruGarbageCollector","Garbage collection skipped; disabled"),ht.resolve(Yd)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Xt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Yd):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let o,l,u,f,C,O,B;const Y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ce=>(Ce>this.params.maximumSequenceNumbersToCollect?(Xt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ce}`),l=this.params.maximumSequenceNumbersToCollect):l=Ce,f=Date.now(),this.nthSequenceNumber(e,l))).next(Ce=>(o=Ce,C=Date.now(),this.removeTargets(e,o,t))).next(Ce=>(u=Ce,O=Date.now(),this.removeOrphanedDocuments(e,o))).next(Ce=>(B=Date.now(),zt()<=Je.in.DEBUG&&Xt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-Y}ms\n\tDetermined least recently used ${l} in `+(C-f)+`ms\n\tRemoved ${u} targets in `+(O-C)+`ms\n\tRemoved ${Ce} documents in `+(B-O)+`ms\nTotal Duration: ${B-Y}ms`),ht.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:Ce})))}}class NI{constructor(e,t){this.db=e,this.garbageCollector=function Sf(r,e){return new Dm(r,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(l=>o+l))}Jn(e){let t=0;return this.Wn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(o,l)=>t(l))}addReference(e,t,o){return Jd(e,o)}removeReference(e,t,o){return Jd(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return Jd(e,t)}Xn(e,t){return function(o,l){let u=!1;return Tf(o).Z(f=>Em(o,f,l).next(C=>(C&&(u=!0),ht.resolve(!C)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let u=0;return this.Yn(e,(f,C)=>{if(C<=t){const O=this.Xn(e,f).next(B=>{if(!B)return u++,o.getEntry(e,f).next(()=>(o.removeEntry(f,Bn.min()),pc(e).delete([0,Po(f.path)])))});l.push(O)}}).next(()=>ht.waitFor(l)).next(()=>o.apply(e)).next(()=>u)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return Jd(e,t)}Yn(e,t){const o=pc(e);let l,u=ho.ct;return o.X({index:"documentTargetsIndex"},([f,C],{path:O,sequenceNumber:B})=>{0===f?(u!==ho.ct&&t(new D(is(l)),u),u=B,l=O):u=ho.ct}).next(()=>{u!==ho.ct&&t(new D(is(l)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Jd(r,e){return pc(r).put((o=r.currentSequenceNumber,{targetId:0,path:Po(e.path),sequenceNumber:o}));var o}class Af{constructor(){this.changes=new za(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,go.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?ht.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kl{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return Zu(e).put(o)}removeEntry(e,t,o){return Zu(e).delete(function(l,u){const f=l.path.toArray();return[f.slice(0,f.length-2),f[f.length-2],am(u),f[f.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Zn(e,o)))}getEntry(e,t){let o=go.newInvalidDocument(t);return Zu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(eh(t))},(l,u)=>{o=this.ts(t,u)}).next(()=>o)}es(e,t){let o={size:0,document:go.newInvalidDocument(t)};return Zu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(eh(t))},(l,u)=>{o={document:this.ts(t,u),size:Kd(u)}}).next(()=>o)}getEntries(e,t){let o=us();return this.ns(e,t,(l,u)=>{const f=this.ts(l,u);o=o.insert(l,f)}).next(()=>o)}ss(e,t){let o=us(),l=new fi(D.comparator);return this.ns(e,t,(u,f)=>{const C=this.ts(u,f);o=o.insert(u,C),l=l.insert(u,Kd(f))}).next(()=>({documents:o,rs:l}))}ns(e,t,o){if(t.isEmpty())return ht.resolve();let l=new Bi(Cy);t.forEach(O=>l=l.add(O));const u=IDBKeyRange.bound(eh(l.first()),eh(l.last())),f=l.getIterator();let C=f.getNext();return Zu(e).X({index:"documentKeyIndex",range:u},(O,B,Y)=>{const Ce=D.fromSegments([...B.prefixPath,B.collectionGroup,B.documentId]);for(;C&&Cy(C,Ce)<0;)o(C,null),C=f.getNext();C&&C.isEqual(Ce)&&(o(C,B),C=f.hasNext()?f.getNext():null),C?Y.G(eh(C)):Y.done()}).next(()=>{for(;C;)o(C,null),C=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(e,t,o,l){const u=t.path,f=[u.popLast().toArray(),u.lastSegment(),am(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],C=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Zu(e).j(IDBKeyRange.bound(f,C,!0)).next(O=>{let B=us();for(const Y of O){const Ce=this.ts(D.fromSegments(Y.prefixPath.concat(Y.collectionGroup,Y.documentId)),Y);Ce.isFoundDocument()&&(Lc(t,Ce)||l.has(Ce.key))&&(B=B.insert(Ce.key,Ce))}return B})}getAllFromCollectionGroup(e,t,o,l){let u=us();const f=Xu(t,o),C=Xu(t,Vn.max());return Zu(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(f,C,!0)},(O,B,Y)=>{const Ce=this.ts(D.fromSegments(B.prefixPath.concat(B.collectionGroup,B.documentId)),B);u=u.insert(Ce.key,Ce),u.size===l&&Y.done()}).next(()=>u)}newChangeBuffer(e){return new Cm(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Dy(e).get("remoteDocumentGlobalKey").next(t=>(_n(!!t),t))}Zn(e,t){return Dy(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const o=function Iw(r,e){let t;if(e.document)t=py(r.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=D.fromSegments(e.noDocument.path),l=Wc(e.noDocument.readTime);t=go.newNoDocument(o,l),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Sn();{const o=D.fromSegments(e.unknownDocument.path),l=Wc(e.unknownDocument.version);t=go.newUnknownDocument(o,l)}}return e.readTime&&t.setReadTime(function(o){const l=new $i(o[0],o[1]);return Bn.fromTimestamp(l)}(e.readTime)),t}(this.serializer,t);if(!o.isNoDocument()||!o.version.isEqual(Bn.min()))return o}return go.newInvalidDocument(e)}}function Mf(r){return new kl(r)}class Cm extends Af{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new za(o=>o.toString(),(o,l)=>o.isEqual(l))}applyChanges(e){const t=[];let o=0,l=new Bi((u,f)=>ar(u.canonicalString(),f.canonicalString()));return this.changes.forEach((u,f)=>{const C=this.us.get(u);if(t.push(this.os.removeEntry(e,u,C.readTime)),f.isValidDocument()){const O=xI(this.os.serializer,f);l=l.add(u.path.popLast());const B=Kd(O);o+=B-C.size,t.push(this.os.addEntry(e,u,O))}else if(o-=C.size,this.trackRemovals){const O=xI(this.os.serializer,f.convertToNoDocument(Bn.min()));t.push(this.os.addEntry(e,u,O))}}),l.forEach(u=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.os.updateMetadata(e,o)),ht.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(o=>(this.us.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:o,rs:l})=>(l.forEach((u,f)=>{this.us.set(u,{size:f,readTime:o.get(u).readTime})}),o))}}function Dy(r){return Yi(r,"remoteDocumentGlobal")}function Zu(r){return Yi(r,"remoteDocumentsV14")}function eh(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Xu(r,e){const t=e.documentKey.path.toArray();return[r,am(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Cy(r,e){const t=r.path.toArray(),o=e.path.toArray();let l=0;for(let u=0;u<t.length-2&&u<o.length-2;++u)if(l=ar(t[u],o[u]),l)return l;return l=ar(t.length,o.length),l||(l=ar(t[t.length-2],o[o.length-2]),l||ar(t[t.length-1],o[o.length-1]))}class kI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ty{constructor(e,t,o,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=l}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(o=l,this.remoteDocumentCache.getEntry(e,t))).next(l=>(null!==o&&Lu(o.mutation,l,$o.empty(),$i.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,or()).next(()=>o))}getLocalViewOfDocuments(e,t,o=or()){const l=da();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,o).next(u=>{let f=sl();return u.forEach((C,O)=>{f=f.insert(C,O.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const o=da();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,or()))}populateOverlays(e,t,o){const l=[];return o.forEach(u=>{t.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(e,l).next(u=>{u.forEach((f,C)=>{t.set(f,C)})})}computeViews(e,t,o,l){let u=us();const f=$c(),C=$c();return t.forEach((O,B)=>{const Y=o.get(B.key);l.has(B.key)&&(void 0===Y||Y.mutation instanceof d)?u=u.insert(B.key,B):void 0!==Y?(f.set(B.key,Y.mutation.getFieldMask()),Lu(Y.mutation,B,Y.mutation.getFieldMask(),$i.now())):f.set(B.key,$o.empty())}),this.recalculateAndSaveOverlays(e,u).next(O=>(O.forEach((B,Y)=>f.set(B,Y)),t.forEach((B,Y)=>{var Ce;return C.set(B,new kI(Y,null!==(Ce=f.get(B))&&void 0!==Ce?Ce:null))}),C))}recalculateAndSaveOverlays(e,t){const o=$c();let l=new fi((f,C)=>f-C),u=or();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const C of f)C.keys().forEach(O=>{const B=t.get(O);if(null===B)return;let Y=o.get(O)||$o.empty();Y=C.applyToLocalView(B,Y),o.set(O,Y);const Ce=(l.get(C.batchId)||or()).add(O);l=l.insert(C.batchId,Ce)})}).next(()=>{const f=[],C=l.getReverseIterator();for(;C.hasNext();){const O=C.getNext(),B=O.key,Y=O.value,Ce=cf();Y.forEach(it=>{if(!u.has(it)){const yt=Pl(t.get(it),o.get(it));null!==yt&&Ce.set(it,yt),u=u.add(it)}}),f.push(this.documentOverlayCache.saveOverlays(e,B,Ce))}return ht.waitFor(f)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return D.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Au(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var l}getNextDocuments(e,t,o,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,l).next(u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,l-u.size):ht.resolve(da());let C=-1,O=u;return f.next(B=>ht.forEach(B,(Y,Ce)=>(C<Ce.largestBatchId&&(C=Ce.largestBatchId),u.get(Y)?ht.resolve():this.remoteDocumentCache.getEntry(e,Y).next(it=>{O=O.insert(Y,it)}))).next(()=>this.populateOverlays(e,B,u)).next(()=>this.computeViews(e,O,B,or())).next(Y=>({batchId:C,changes:Od(Y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new D(t)).next(o=>{let l=sl();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const l=t.collectionGroup;let u=sl();return this.indexManager.getCollectionParents(e,l).next(f=>ht.forEach(f,C=>{const O=(B=t,Y=C.child(l),new ol(Y,null,B.explicitOrderBy.slice(),B.filters.slice(),B.limit,B.limitType,B.startAt,B.endAt));var B,Y;return this.getDocumentsMatchingCollectionQuery(e,O,o).next(B=>{B.forEach((Y,Ce)=>{u=u.insert(Y,Ce)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,l))).next(u=>{l.forEach((C,O)=>{const B=O.getKey();null===u.get(B)&&(u=u.insert(B,go.newInvalidDocument(B)))});let f=sl();return u.forEach((C,O)=>{const B=l.get(C);void 0!==B&&Lu(B.mutation,O,$o.empty(),$i.now()),Lc(t,O)&&(f=f.insert(C,O))}),f})}}class Tm{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ht.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var o;return this.cs.set(t.id,{id:(o=t).id,version:o.version,createTime:jo(o.createTime)}),ht.resolve()}getNamedQuery(e,t){return ht.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(o=t).name,query:lm(o.bundledQuery),readTime:jo(o.readTime)}),ht.resolve();var o}}class Sy{constructor(){this.overlays=new fi(D.comparator),this.ls=new Map}getOverlay(e,t){return ht.resolve(this.overlays.get(t))}getOverlays(e,t){const o=da();return ht.forEach(t,l=>this.getOverlay(e,l).next(u=>{null!==u&&o.set(l,u)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((l,u)=>{this.we(e,t,u)}),ht.resolve()}removeOverlaysForBatchId(e,t,o){const l=this.ls.get(o);return void 0!==l&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(o)),ht.resolve()}getOverlaysForCollection(e,t,o){const l=da(),u=t.length+1,f=new D(t.child("")),C=this.overlays.getIteratorFrom(f);for(;C.hasNext();){const O=C.getNext().value,B=O.getKey();if(!t.isPrefixOf(B.path))break;B.path.length===u&&O.largestBatchId>o&&l.set(O.getKey(),O)}return ht.resolve(l)}getOverlaysForCollectionGroup(e,t,o,l){let u=new fi((B,Y)=>B-Y);const f=this.overlays.getIterator();for(;f.hasNext();){const B=f.getNext().value;if(B.getKey().getCollectionGroup()===t&&B.largestBatchId>o){let Y=u.get(B.largestBatchId);null===Y&&(Y=da(),u=u.insert(B.largestBatchId,Y)),Y.set(B.getKey(),B)}}const C=da(),O=u.getIterator();for(;O.hasNext()&&(O.getNext().value.forEach((B,Y)=>C.set(B,Y)),!(C.size()>=l)););return ht.resolve(C)}we(e,t,o){const l=this.overlays.get(o.key);if(null!==l){const f=this.ls.get(l.largestBatchId).delete(o.key);this.ls.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(o.key,new gn(t,o));let u=this.ls.get(t);void 0===u&&(u=or(),this.ls.set(t,u)),this.ls.set(t,u.add(o.key))}}class Sm{constructor(){this.fs=new Bi(hs.ds),this.ws=new Bi(hs._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const o=new hs(e,t);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.ys(new hs(e,t))}ps(e,t){e.forEach(o=>this.removeReference(o,t))}Is(e){const t=new D(new kr([])),o=new hs(t,e),l=new hs(t,e+1),u=[];return this.ws.forEachInRange([o,l],f=>{this.ys(f),u.push(f.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new D(new kr([])),o=new hs(t,e),l=new hs(t,e+1);let u=or();return this.ws.forEachInRange([o,l],f=>{u=u.add(f.key)}),u}containsKey(e){const t=new hs(e,0),o=this.fs.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class hs{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return D.comparator(e.key,t.key)||ar(e.As,t.As)}static _s(e,t){return ar(e.As,t.As)||D.comparator(e.key,t.key)}}class Am{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Bi(hs.ds)}checkEmpty(e){return ht.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,l){const u=this.vs;this.vs++;const f=new ft(u,t,o,l);this.mutationQueue.push(f);for(const C of l)this.Rs=this.Rs.add(new hs(C.key,u)),this.indexManager.addToCollectionParentIndex(e,C.key.path.popLast());return ht.resolve(f)}lookupMutationBatch(e,t){return ht.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.bs(t+1),u=l<0?0:l;return ht.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new hs(t,0),l=new hs(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([o,l],f=>{const C=this.Ps(f.As);u.push(C)}),ht.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Bi(ar);return t.forEach(l=>{const u=new hs(l,0),f=new hs(l,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,f],C=>{o=o.add(C.As)})}),ht.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1;let u=o;D.isDocumentKey(u)||(u=u.child(""));const f=new hs(new D(u),0);let C=new Bi(ar);return this.Rs.forEachWhile(O=>{const B=O.key.path;return!!o.isPrefixOf(B)&&(B.length===l&&(C=C.add(O.As)),!0)},f),ht.resolve(this.Vs(C))}Vs(e){const t=[];return e.forEach(o=>{const l=this.Ps(o);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){_n(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return ht.forEach(t.mutations,l=>{const u=new hs(l.key,t.batchId);return o=o.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,t){const o=new hs(t,0),l=this.Rs.firstAfterOrEqual(o);return ht.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return ht.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ww{constructor(e){this.Ds=e,this.docs=new fi(D.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,l=this.docs.get(o),u=l?l.size:0,f=this.Ds(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return ht.resolve(o?o.document.mutableCopy():go.newInvalidDocument(t))}getEntries(e,t){let o=us();return t.forEach(l=>{const u=this.docs.get(l);o=o.insert(l,u?u.document.mutableCopy():go.newInvalidDocument(l))}),ht.resolve(o)}getDocumentsMatchingQuery(e,t,o,l){let u=us();const f=t.path,C=new D(f.child("")),O=this.docs.getIteratorFrom(C);for(;O.hasNext();){const{key:B,value:{document:Y}}=O.getNext();if(!f.isPrefixOf(B.path))break;B.path.length>f.length+1||Gr(pn(Y),o)<=0||(l.has(Y.key)||Lc(t,Y))&&(u=u.insert(Y.key,Y.mutableCopy()))}return ht.resolve(u)}getAllFromCollectionGroup(e,t,o,l){Sn()}Cs(e,t){return ht.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Dw(this)}getSize(e){return ht.resolve(this.size)}}class Dw extends Af{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?t.push(this.os.addEntry(e,l)):this.os.removeEntry(o)}),ht.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class FI{constructor(e){this.persistence=e,this.xs=new za(t=>Rl(t),Tu),this.lastRemoteSnapshotVersion=Bn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Sm,this.targetCount=0,this.Ms=Xd.kn()}forEachTarget(e,t){return this.xs.forEach((o,l)=>t(l)),ht.resolve()}getLastRemoteSnapshotVersion(e){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ht.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Ns&&(this.Ns=t),ht.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Xd(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ht.resolve()}updateTargetData(e,t){return this.Fn(t),ht.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ht.resolve()}removeTargets(e,t,o){let l=0;const u=[];return this.xs.forEach((f,C)=>{C.sequenceNumber<=t&&null===o.get(C.targetId)&&(this.xs.delete(f),u.push(this.removeMatchingKeysForTargetId(e,C.targetId)),l++)}),ht.waitFor(u).next(()=>l)}getTargetCount(e){return ht.resolve(this.targetCount)}getTargetData(e,t){const o=this.xs.get(t)||null;return ht.resolve(o)}addMatchingKeys(e,t,o){return this.ks.gs(t,o),ht.resolve()}removeMatchingKeys(e,t,o){this.ks.ps(t,o);const l=this.persistence.referenceDelegate,u=[];return l&&t.forEach(f=>{u.push(l.markPotentiallyOrphaned(e,f))}),ht.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ht.resolve()}getMatchingKeysForTargetId(e,t){const o=this.ks.Es(t);return ht.resolve(o)}containsKey(e,t){return ht.resolve(this.ks.containsKey(t))}}class Mm{constructor(e,t){this.$s={},this.overlays={},this.Os=new ho(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new FI(this),this.indexManager=new OI,this.remoteDocumentCache=new ww(o=>this.referenceDelegate.Ls(o)),this.serializer=new MI(t),this.qs=new Tm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Sy,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.$s[e.toKey()];return o||(o=new Am(t,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,o){Xt("MemoryPersistence","Starting transaction:",e);const l=new Cw(this.Os.next());return this.referenceDelegate.Us(),o(l).next(u=>this.referenceDelegate.Ks(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}Gs(e,t){return ht.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,t)))}}class Cw extends wr{constructor(e){super(),this.currentSequenceNumber=e}}class xm{constructor(e){this.persistence=e,this.Qs=new Sm,this.js=null}static zs(e){return new xm(e)}get Ws(){if(this.js)return this.js;throw Sn()}addReference(e,t,o){return this.Qs.addReference(o,t),this.Ws.delete(o.toString()),ht.resolve()}removeReference(e,t,o){return this.Qs.removeReference(o,t),this.Ws.add(o.toString()),ht.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ht.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(l=>this.Ws.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(u=>this.Ws.add(u.toString()))}).next(()=>o.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.Ws,o=>{const l=D.fromPath(o);return this.Hs(e,l).next(u=>{u||t.removeEntry(l,Bn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(o=>{o?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ht.or([()=>ht.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class LI{constructor(e){this.serializer=e}O(e,t,o,l){const u=new cs("createOrUpgrade",t);var C;o<1&&l>=1&&(e.createObjectStore("owner"),(C=e).createObjectStore("mutationQueues",{keyPath:"userId"}),C.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wl,{unique:!0}),C.createObjectStore("documentMutations"),kp(e),function(C){C.createObjectStore("remoteDocuments")}(e));let f=ht.resolve();return o<3&&l>=3&&(0!==o&&(function(C){C.deleteObjectStore("targetDocuments"),C.deleteObjectStore("targets"),C.deleteObjectStore("targetGlobal")}(e),kp(e)),f=f.next(()=>function(C){const O=C.store("targetGlobal"),B={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Bn.min().toTimestamp(),targetCount:0};return O.put("targetGlobalKey",B)}(u))),o<4&&l>=4&&(0!==o&&(f=f.next(()=>function(C,O){return O.store("mutations").j().next(B=>{C.deleteObjectStore("mutations"),C.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wl,{unique:!0});const Y=O.store("mutations"),Ce=B.map(it=>Y.put(it));return ht.waitFor(Ce)})}(e,u))),f=f.next(()=>{!function(C){C.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&l>=5&&(f=f.next(()=>this.Ys(u))),o<6&&l>=6&&(f=f.next(()=>(function(C){C.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(u)))),o<7&&l>=7&&(f=f.next(()=>this.Zs(u))),o<8&&l>=8&&(f=f.next(()=>this.ti(e,u))),o<9&&l>=9&&(f=f.next(()=>{!function(C){C.objectStoreNames.contains("remoteDocumentChanges")&&C.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&l>=10&&(f=f.next(()=>this.ei(u))),o<11&&l>=11&&(f=f.next(()=>{(function(C){C.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(C){C.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&l>=12&&(f=f.next(()=>{!function(C){const O=C.createObjectStore("documentOverlays",{keyPath:Sd});O.createIndex("collectionPathOverlayIndex",xc,{unique:!1}),O.createIndex("collectionGroupOverlayIndex",Ad,{unique:!1})}(e)})),o<13&&l>=13&&(f=f.next(()=>function(C){const O=C.createObjectStore("remoteDocumentsV14",{keyPath:mu});O.createIndex("documentKeyIndex",Cd),O.createIndex("collectionGroupIndex",Xs)}(e)).next(()=>this.ni(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&l>=14&&(f=f.next(()=>this.si(e,u))),o<15&&l>=15&&(f=f.next(()=>function(C){C.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),C.createObjectStore("indexState",{keyPath:Ql}).createIndex("sequenceNumberIndex",yu,{unique:!1}),C.createObjectStore("indexEntries",{keyPath:_u}).createIndex("documentKeyIndex",Td,{unique:!1})}(e))),f}Xs(e){let t=0;return e.store("remoteDocuments").X((o,l)=>{t+=Kd(l)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Ys(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.j().next(l=>ht.forEach(l,u=>{const f=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.j("userMutationsIndex",f).next(C=>ht.forEach(C,O=>{_n(O.userId===u.userId);const B=Gu(this.serializer,O);return Im(e,u.userId,B).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const u=[];return o.X((f,C)=>{const O=new kr(f),B=[0,Po(O)];u.push(t.get(B).next(Y=>Y?ht.resolve():t.put({targetId:0,path:Po(O),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>ht.waitFor(u))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Mc});const o=t.store("collectionParents"),l=new vm,u=f=>{if(l.add(f)){const C=f.lastSegment(),O=f.popLast();return o.put({collectionId:C,parent:Po(O)})}};return t.store("remoteDocuments").X({Y:!0},(f,C)=>{const O=new kr(f);return u(O.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([f,C,O],B)=>{const Y=is(C);return u(Y.popLast())}))}ei(e){const t=e.store("targets");return t.X((o,l)=>{const u=If(l),f=yy(this.serializer,u);return t.put(f)})}ni(e,t){const o=t.store("remoteDocuments"),l=[];return o.X((u,f)=>{const C=t.store("remoteDocumentsV14"),O=(B=f,B.document?new D(kr.fromString(B.document.name).popFirst(5)):B.noDocument?D.fromSegments(B.noDocument.path):B.unknownDocument?D.fromSegments(B.unknownDocument.path):Sn()).path.toArray();var B;const Y={prefixPath:O.slice(0,O.length-2),collectionGroup:O[O.length-2],documentId:O[O.length-1],readTime:f.readTime||[0,0],unknownDocument:f.unknownDocument,noDocument:f.noDocument,document:f.document,hasCommittedMutations:!!f.hasCommittedMutations};l.push(C.put(Y))}).next(()=>ht.waitFor(l))}si(e,t){const o=t.store("mutations"),l=Mf(this.serializer),u=new Mm(xm.zs,this.serializer.fe);return o.j().next(f=>{const C=new Map;return f.forEach(O=>{var B;let Y=null!==(B=C.get(O.userId))&&void 0!==B?B:or();Gu(this.serializer,O).keys().forEach(Ce=>Y=Y.add(Ce)),C.set(O.userId,Y)}),ht.forEach(C,(O,B)=>{const Y=new si(B),Ce=dm.de(this.serializer,Y),it=u.getIndexManager(Y),yt=Zd.de(Y,this.serializer,it,u.referenceDelegate);return new Ty(l,yt,Ce,it).recalculateAndSaveOverlaysForDocumentKeys(new Tl(t,ho.ct),O).next()})})}}function kp(r){r.createObjectStore("targetDocuments",{keyPath:Dl}).createIndex("documentTargetsIndex",vu,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",mp,{unique:!0}),r.createObjectStore("targetGlobal")}const xf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Yc{constructor(e,t,o,l,u,f,C,O,B,Y,Ce=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.ii=u,this.window=f,this.document=C,this.ri=B,this.oi=Y,this.ui=Ce,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=it=>Promise.resolve(),!Yc.D())throw new Ht(wt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new NI(this,l),this.di=t+"main",this.serializer=new MI(O),this.wi=new bo(this.di,this.ui,new LI(this.serializer)),this.Bs=new bm(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Mf(this.serializer),this.qs=new _y,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===Y&&Li("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ht(wt.FAILED_PRECONDITION,xf);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new ho(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var o=(0,Z.Z)(function*(l){if(t.started)return e(l)});return function(l){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Z.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Z.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ju(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Es(e))return Xt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Xt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Kc(e).get("owner").next(t=>ht.resolve(this.Ri(t)))}Pi(e){return Ju(e).delete(this.clientId)}bi(){var e=this;return(0,Z.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const l=Yi(o,"clientMetadata");return l.j().next(u=>{const f=e.Si(u,18e5),C=u.filter(O=>-1===f.indexOf(O));return ht.forEach(C,O=>l.delete(O.clientId)).next(()=>C)})}).catch(()=>[]);if(e._i)for(const o of t)e._i.removeItem(e.Di(o.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?ht.resolve(!0):Kc(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Ht(wt.FAILED_PRECONDITION,xf);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ju(e).j().next(o=>void 0===this.Si(o,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Xt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Z.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new Tl(t,ho.ct);return e.Ai(o).next(()=>e.Pi(o))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(o=>this.Vi(o.updateTimeMs,t)&&!this.Ci(o.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Ju(e).j().next(t=>this.Si(t,18e5).map(o=>o.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Zd.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new PI(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return dm.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,o){Xt("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===t?"readonly":"readwrite",u=15===(f=this.ui)?ec:14===f?Jl:13===f?Ba:12===f?Cl:11===f?Zh:void Sn();var f;let C;return this.wi.runTransaction(e,l,u,O=>(C=new Tl(O,this.Os?this.Os.next():ho.ct),"readwrite-primary"===t?this.Ti(C).next(B=>!!B||this.Ei(C)).next(B=>{if(!B)throw Li(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Ht(wt.FAILED_PRECONDITION,uo);return o(C)}).next(B=>this.vi(C).next(()=>B)):this.Oi(C).next(()=>o(C)))).then(O=>(C.raiseOnCommittedEvent(),O))}Oi(e){return Kc(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ht(wt.FAILED_PRECONDITION,xf)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Kc(e).put("owner",t)}static D(){return bo.D()}Ai(e){const t=Kc(e);return t.get("owner").next(o=>this.Ri(o)?(Xt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ht.resolve())}Vi(e,t){const o=Date.now();return!(e<o-t||e>o&&(Li(`Detected an update time that is in the future: ${e} > ${o}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,je.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const o=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Xt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Li("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Li("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Kc(r){return Yi(r,"owner")}function Ju(r){return Yi(r,"clientMetadata")}function Zc(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class ed{constructor(e,t,o,l){this.targetId=e,this.fromCache=t,this.Fi=o,this.Bi=l}static Li(e,t){let o=or(),l=or();for(const u of t.docChanges)switch(u.type){case 0:o=o.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new ed(e,t.fromCache,o,l)}}class th{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,o,l){return this.Ki(e,t).next(u=>u||this.Gi(e,t,l,o)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(af(t))return ht.resolve(null);let o=Ls(t);return this.indexManager.getIndexType(e,o).next(l=>0===l?null:(null!==t.limit&&1===l&&(t=Rd(t,null,"F"),o=Ls(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(u=>{const f=or(...u);return this.Ui.getDocuments(e,f).next(C=>this.indexManager.getMinOffset(e,o).next(O=>{const B=this.ji(t,C);return this.zi(t,B,f,O.readTime)?this.Ki(e,Rd(t,null,"F")):this.Wi(e,B,t,O)}))})))}Gi(e,t,o,l){return af(t)||l.isEqual(Bn.min())?this.Qi(e,t):this.Ui.getDocuments(e,o).next(u=>{const f=this.ji(t,u);return this.zi(t,f,o,l)?this.Qi(e,t):(zt()<=Je.in.DEBUG&&Xt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Fc(t)),this.Wi(e,f,t,xt(l,-1)))})}ji(e,t){let o=new Bi(lf(e));return t.forEach((l,u)=>{Lc(e,u)&&(o=o.add(u))}),o}zi(e,t,o,l){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Qi(e,t){return zt()<=Je.in.DEBUG&&Xt("QueryEngine","Using full collection scan to execute query:",Fc(t)),this.Ui.getDocumentsMatchingQuery(e,t,Vn.min())}Wi(e,t,o,l){return this.Ui.getDocumentsMatchingQuery(e,o,l).next(u=>(t.forEach(f=>{u=u.insert(f.key,f)}),u))}}class Ay{constructor(e,t,o,l){this.persistence=e,this.Hi=t,this.serializer=l,this.Ji=new fi(ar),this.Yi=new za(u=>Rl(u),Tu),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ty(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Rf(r,e,t,o){return new Ay(r,e,t,o)}function nh(r,e){return My.apply(this,arguments)}function My(){return My=(0,Z.Z)(function*(r,e){const t=wn(r);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let l;return t.mutationQueue.getAllMutationBatches(o).next(u=>(l=u,t.tr(e),t.mutationQueue.getAllMutationBatches(o))).next(u=>{const f=[],C=[];let O=or();for(const B of l){f.push(B.batchId);for(const Y of B.mutations)O=O.add(Y.key)}for(const B of u){C.push(B.batchId);for(const Y of B.mutations)O=O.add(Y.key)}return t.localDocuments.getDocuments(o,O).next(B=>({er:B,removedBatchIds:f,addedBatchIds:C}))})})}),My.apply(this,arguments)}function rh(r){const e=wn(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Om(r,e,t){let o=or(),l=or();return t.forEach(u=>o=o.add(u)),e.getEntries(r,o).next(u=>{let f=us();return t.forEach((C,O)=>{const B=u.get(C);O.isFoundDocument()!==B.isFoundDocument()&&(l=l.add(C)),O.isNoDocument()&&O.version.isEqual(Bn.min())?(e.removeEntry(C,O.readTime),f=f.insert(C,O)):!B.isValidDocument()||O.version.compareTo(B.version)>0||0===O.version.compareTo(B.version)&&B.hasPendingWrites?(e.addEntry(O),f=f.insert(C,O)):Xt("LocalStore","Ignoring outdated watch update for ",C,". Current version:",B.version," Watch version:",O.version)}),{nr:f,sr:l}})}function BI(r,e){const t=wn(r);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function ih(r,e){const t=wn(r);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return t.Bs.getTargetData(o,e).next(u=>u?(l=u,ht.resolve(l)):t.Bs.allocateTargetId(o).next(f=>(l=new dc(e,f,"TargetPurposeListen",o.currentSequenceNumber),t.Bs.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=t.Ji.get(o.targetId);return(null===l||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(o.targetId,o),t.Yi.set(e,o.targetId)),o})}function Xc(r,e,t){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,Z.Z)(function*(r,e,t){const o=wn(r),l=o.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",u,f=>o.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!Es(f))throw f;Xt("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(l.target)}),Fp.apply(this,arguments)}function Lp(r,e,t){const o=wn(r);let l=Bn.min(),u=or();return o.persistence.runTransaction("Execute query","readonly",f=>function(C,O,B){const Y=wn(C),Ce=Y.Yi.get(B);return void 0!==Ce?ht.resolve(Y.Ji.get(Ce)):Y.Bs.getTargetData(O,B)}(o,f,Ls(e)).next(C=>{if(C)return l=C.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(f,C.targetId).next(O=>{u=O})}).next(()=>o.Hi.getDocumentsMatchingQuery(f,e,t?l:Bn.min(),t?u:or())).next(C=>(Ry(o,sc(e),C),{documents:C,ir:u})))}function xy(r,e){const t=wn(r),o=wn(t.Bs),l=t.Ji.get(e);return l?Promise.resolve(l.target):t.persistence.runTransaction("Get target data","readonly",u=>o.le(u,e).next(f=>f?f.target:null))}function VI(r,e){const t=wn(r),o=t.Xi.get(e)||Bn.min();return t.persistence.runTransaction("Get new document changes","readonly",l=>t.Zi.getAllFromCollectionGroup(l,e,xt(o,-1),Number.MAX_SAFE_INTEGER)).then(l=>(Ry(t,e,l),l))}function Ry(r,e,t){let o=r.Xi.get(e)||Bn.min();t.forEach((l,u)=>{u.readTime.compareTo(o)>0&&(o=u.readTime)}),r.Xi.set(e,o)}function Of(){return Of=(0,Z.Z)(function*(r,e,t,o){const l=wn(r);let u=or(),f=us();for(const B of t){const Y=e.rr(B.metadata.name);B.document&&(u=u.add(Y));const Ce=e.ur(B);Ce.setReadTime(e.cr(B.metadata.readTime)),f=f.insert(Y,Ce)}const C=l.Zi.newChangeBuffer({trackRemovals:!0}),O=yield ih(l,(B=o,Ls(Ha(kr.fromString(`__bundle__/docs/${B}`)))));var B;return l.persistence.runTransaction("Apply bundle documents","readwrite",B=>Om(B,C,f).next(Y=>(C.apply(B),Y)).next(Y=>l.Bs.removeMatchingKeysForTargetId(B,O.targetId).next(()=>l.Bs.addMatchingKeys(B,u,O.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(B,Y.nr,Y.sr)).next(()=>Y.nr)))}),Of.apply(this,arguments)}function UI(r,e){return Bp.apply(this,arguments)}function Bp(){return Bp=(0,Z.Z)(function*(r,e,t=or()){const o=yield ih(r,Ls(lm(e.bundledQuery))),l=wn(r);return l.persistence.runTransaction("Save named query","readwrite",u=>{const f=jo(e.readTime);if(o.snapshotVersion.compareTo(f)>=0)return l.qs.saveNamedQuery(u,e);const C=o.withResumeToken(fo.EMPTY_BYTE_STRING,f);return l.Ji=l.Ji.insert(C.targetId,C),l.Bs.updateTargetData(u,C).next(()=>l.Bs.removeMatchingKeysForTargetId(u,o.targetId)).next(()=>l.Bs.addMatchingKeys(u,t,o.targetId)).next(()=>l.qs.saveNamedQuery(u,e))})}),Bp.apply(this,arguments)}function Vp(r,e){return`firestore_clients_${r}_${e}`}function Pf(r,e,t){let o=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Pm(r,e){return`firestore_targets_${r}_${e}`}class Nf{constructor(e,t,o,l){this.user=e,this.batchId=t,this.state=o,this.error=l}static ar(e,t,o){const l=JSON.parse(o);let u,f="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return f&&l.error&&(f="string"==typeof l.error.message&&"string"==typeof l.error.code,f&&(u=new Ht(l.error.code,l.error.message))),f?new Nf(e,t,l.state,u):(Li("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class kf{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static ar(e,t){const o=JSON.parse(t);let l,u="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return u&&o.error&&(u="string"==typeof o.error.message&&"string"==typeof o.error.code,u&&(l=new Ht(o.error.code,o.error.message))),u?new kf(e,o.state,l):(Li("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ff{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const o=JSON.parse(t);let l="object"==typeof o&&o.activeTargetIds instanceof Array,u=Nu();for(let f=0;l&&f<o.activeTargetIds.length;++f)l=Kh(o.activeTargetIds[f]),u=u.add(o.activeTargetIds[f]);return l?new Ff(e,u):(Li("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Oy{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Oy(t.clientId,t.onlineState):(Li("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Nm{constructor(){this.activeTargetIds=Nu()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oh{constructor(e,t,o,l,u){this.window=e,this.ii=t,this.persistenceKey=o,this.wr=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new fi(ar),this.started=!1,this.yr=[];const f=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.pr=Vp(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Nm),this.Tr=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(C){return`firestore_bundle_loaded_v2_${C}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Z.Z)(function*(){const t=yield e.syncEngine.$i();for(const l of t){if(l===e.wr)continue;const u=e.getItem(Vp(e.persistenceKey,l));if(u){const f=Ff.ar(l,u);f&&(e.gr=e.gr.insert(f.clientId,f))}}e.Pr();const o=e.storage.getItem(e.vr);if(o){const l=e.br(o);l&&e.Vr(l)}for(const l of e.yr)e.mr(l);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((o,l)=>{l.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,o){this.Dr(e,t,o),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Pm(this.persistenceKey,e));if(o){const l=kf.ar(e,o);l&&(t=l.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Pm(this.persistenceKey,e))}updateQueryState(e,t,o){this.kr(e,t,o)}handleUserChange(e,t,o){t.forEach(l=>{this.Cr(l)}),this.currentUser=e,o.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Xt("SharedClientState","READ",e,t),t}setItem(e,t){Xt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Xt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(Xt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.pr)return void Li("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Z.Z)(function*(){if(t.started){if(null!==o.key)if(t.Tr.test(o.key)){if(null==o.newValue){const l=t.Or(o.key);return t.Fr(l,null)}{const l=t.Br(o.key,o.newValue);if(l)return t.Fr(l.clientId,l)}}else if(t.Er.test(o.key)){if(null!==o.newValue){const l=t.Lr(o.key,o.newValue);if(l)return t.qr(l)}}else if(t.Ar.test(o.key)){if(null!==o.newValue){const l=t.Ur(o.key,o.newValue);if(l)return t.Kr(l)}}else if(o.key===t.vr){if(null!==o.newValue){const l=t.br(o.newValue);if(l)return t.Vr(l)}}else if(o.key===t.Ir){const l=function(u){let f=ho.ct;if(null!=u)try{const C=JSON.parse(u);_n("number"==typeof C),f=C}catch(C){Li("SharedClientState","Failed to read sequence number from WebStorage",C)}return f}(o.newValue);l!==ho.ct&&t.sequenceNumberHandler(l)}else if(o.key===t.Rr){const l=t.Gr(o.newValue);yield Promise.all(l.map(u=>t.syncEngine.Qr(u)))}}else t.yr.push(o)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,o){const l=new Nf(this.currentUser,e,t,o),u=Pf(this.persistenceKey,this.currentUser,e);this.setItem(u,l.hr())}Cr(e){const t=Pf(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,o){const l=Pm(this.persistenceKey,e),u=new kf(e,t,o);this.setItem(l,u.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const o=this.Or(e);return Ff.ar(o,t)}Lr(e,t){const o=this.Er.exec(e),l=Number(o[1]);return Nf.ar(new si(void 0!==o[2]?o[2]:null),l,t)}Ur(e,t){const o=this.Ar.exec(e),l=Number(o[1]);return kf.ar(l,t)}br(e){return Oy.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Z.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Xt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const o=t?this.gr.insert(e,t):this.gr.remove(e),l=this.Sr(this.gr),u=this.Sr(o),f=[],C=[];return u.forEach(O=>{l.has(O)||f.push(O)}),l.forEach(O=>{u.has(O)||C.push(O)}),this.syncEngine.Wr(f,C).then(()=>{this.gr=o})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Nu();return e.forEach((o,l)=>{t=t.unionWith(l.activeTargetIds)}),t}}class Py{constructor(){this.Hr=new Nm,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,o){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Nm,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class sh{Yr(e){}shutdown(){}}class ah{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Xt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Xt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Up=null;function jp(){return null===Up?Up=268435456+Math.round(2147483648*Math.random()):Up++,"0x"+Up.toString(16)}const jI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HI{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const $s="WebChannelConnection";class Ny extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,o,l,u){const f=jp(),C=this.To(e,t);Xt("RestConnection",`Sending RPC '${e}' ${f}:`,C,o);const O={};return this.Eo(O,l,u),this.Ao(e,C,O,o).then(B=>(Xt("RestConnection",`Received RPC '${e}' ${f}: `,B),B),B=>{throw Yr("RestConnection",`RPC '${e}' ${f} failed with error: `,B,"url: ",C,"request:",o),B})}vo(e,t,o,l,u,f){return this.Io(e,t,o,l,u)}Eo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+tl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,u)=>e[u]=l),o&&o.headers.forEach((l,u)=>e[u]=l)}To(e,t){return`${this.mo}/v1/${t}:${jI[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,o,l){const u=jp();return new Promise((f,C)=>{const O=new ql;O.setWithCredentials(!0),O.listenOnce(Dc.COMPLETE,()=>{try{switch(O.getLastErrorCode()){case rr.NO_ERROR:const Y=O.getResponseJson();Xt($s,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(Y)),f(Y);break;case rr.TIMEOUT:Xt($s,`RPC '${e}' ${u} timed out`),C(new Ht(wt.DEADLINE_EXCEEDED,"Request time out"));break;case rr.HTTP_ERROR:const Ce=O.getStatus();if(Xt($s,`RPC '${e}' ${u} failed with status:`,Ce,"response text:",O.getResponseText()),Ce>0){let it=O.getResponseJson();Array.isArray(it)&&(it=it[0]);const yt=null==it?void 0:it.error;if(yt&&yt.status&&yt.message){const Ut=function(fn){const cn=fn.toLowerCase().replace(/_/g,"-");return Object.values(wt).indexOf(cn)>=0?cn:wt.UNKNOWN}(yt.status);C(new Ht(Ut,yt.message))}else C(new Ht(wt.UNKNOWN,"Server responded with status "+O.getStatus()))}else C(new Ht(wt.UNAVAILABLE,"Connection failed."));break;default:Sn()}}finally{Xt($s,`RPC '${e}' ${u} completed.`)}});const B=JSON.stringify(l);Xt($s,`RPC '${e}' ${u} sending request:`,l),O.send(t,"POST",B,o,15)})}Ro(e,t,o){const l=jp(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Il(),C=va(),O={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},B=this.longPollingOptions.timeoutSeconds;void 0!==B&&(O.longPollingTimeout=Math.round(1e3*B)),this.useFetchStreams&&(O.xmlHttpFactory=new Yh({})),this.Eo(O.initMessageHeaders,t,o),O.encodeInitMessageHeaders=!0;const Y=u.join("");Xt($s,`Creating RPC '${e}' stream ${l}: ${Y}`,O);const Ce=f.createWebChannel(Y,O);let it=!1,yt=!1;const Ut=new HI({ro:cn=>{yt?Xt($s,`Not sending because RPC '${e}' stream ${l} is closed:`,cn):(it||(Xt($s,`Opening RPC '${e}' stream ${l} transport.`),Ce.open(),it=!0),Xt($s,`RPC '${e}' stream ${l} sending:`,cn),Ce.send(cn))},oo:()=>Ce.close()}),fn=(cn,sr,Sr)=>{cn.listen(sr,Xn=>{try{Sr(Xn)}catch(Fr){setTimeout(()=>{throw Fr},0)}})};return fn(Ce,Zs.EventType.OPEN,()=>{yt||Xt($s,`RPC '${e}' stream ${l} transport opened.`)}),fn(Ce,Zs.EventType.CLOSE,()=>{yt||(yt=!0,Xt($s,`RPC '${e}' stream ${l} transport closed`),Ut.wo())}),fn(Ce,Zs.EventType.ERROR,cn=>{yt||(yt=!0,Yr($s,`RPC '${e}' stream ${l} transport errored:`,cn),Ut.wo(new Ht(wt.UNAVAILABLE,"The operation could not be completed")))}),fn(Ce,Zs.EventType.MESSAGE,cn=>{var sr;if(!yt){const Sr=cn.data[0];_n(!!Sr);const Fr=Sr.error||(null===(sr=Sr[0])||void 0===sr?void 0:sr.error);if(Fr){Xt($s,`RPC '${e}' stream ${l} received error:`,Fr);const Ii=Fr.status;let li=function(Oa){const bd=Or[Oa];if(void 0!==bd)return $u(bd)}(Ii),ts=Fr.message;void 0===li&&(li=wt.INTERNAL,ts="Unknown error status: "+Ii+" with message "+Fr.message),yt=!0,Ut.wo(new Ht(li,ts)),Ce.close()}else Xt($s,`RPC '${e}' stream ${l} received:`,Sr),Ut._o(Sr)}}),fn(C,hu.STAT_EVENT,cn=>{cn.stat===Wl.PROXY?Xt($s,`RPC '${e}' stream ${l} detected buffering proxy`):cn.stat===Wl.NOPROXY&&Xt($s,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Ut.fo()},0),Ut}}function km(){return typeof window<"u"?window:null}function lh(){return typeof document<"u"?document:null}function Hp(r){return new Sp(r,!0)}class Lf{constructor(e,t,o=1e3,l=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=o,this.bo=l,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),l=Math.max(0,t-o);l>0&&Xt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,l,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Fm{constructor(e,t,o,l,u,f,C,O){this.ii=e,this.$o=o,this.Oo=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=C,this.listener=O,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Lf(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Z.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Z.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var o=this;return(0,Z.Z)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():t&&t.code===wt.RESOURCE_EXHAUSTED?(Li(t.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):t&&t.code===wt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.Fo===t&&this.Zo(o,l)},o=>{e(()=>{const l=new Ht(wt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(l)})})}Zo(e,t){const o=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(l=>{o(()=>this.tu(l))}),this.stream.onMessage(l=>{o(()=>this.onMessage(l))})}Go(){var e=this;this.state=5,this.qo.No((0,Z.Z)(function*(){e.state=0,e.start()}))}tu(e){return Xt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Xt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zI extends Fm{constructor(e,t,o,l,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,l,f),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function TI(r,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(O=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===O?1:"REMOVE"===O?2:"CURRENT"===O?3:"RESET"===O?4:Sn(),l=e.targetChange.targetIds||[],u=function(O,B){return O.useProto3Json?(_n(void 0===B||"string"==typeof B),fo.fromBase64String(B||"")):(_n(void 0===B||B instanceof Uint8Array),fo.fromUint8Array(B||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,C=f&&function(O){const B=void 0===O.code?wt.UNKNOWN:$u(O.code);return new Ht(B,O.message||"")}(f);t=new Qg(o,l,u,C||null)}else if("documentChange"in e){const o=e.documentChange,l=cl(r,o.document.name),u=jo(o.document.updateTime),f=o.document.createTime?jo(o.document.createTime):Bn.min(),C=new Jo({mapValue:{fields:o.document.fields}}),O=go.newFoundDocument(l,u,f,C);t=new Vd(o.targetIds||[],o.removedTargetIds||[],O.key,O)}else if("documentDelete"in e){const o=e.documentDelete,l=cl(r,o.document),u=o.readTime?jo(o.readTime):Bn.min(),f=go.newNoDocument(l,u);t=new Vd([],o.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const o=e.documentRemove,l=cl(r,o.document);t=new Vd([],o.removedTargetIds||[],l,null)}else{if(!("filter"in e))return Sn();{const o=e.filter,{count:l=0,unchangedNames:u}=o,f=new Un(l,u);t=new Xg(o.targetId,f)}}var O;return t}(this.serializer,e),o=function(l){if(!("targetChange"in l))return Bn.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Bn.min():u.readTime?jo(u.readTime):Bn.min()}(e);return this.listener.nu(t,o)}su(e){const t={};t.database=ju(this.serializer),t.addTarget=function(l,u){let f;const C=u.target;if(f=Su(C)?{documents:yf(l,C)}:{query:_f(l,C)},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=Ud(l,u.resumeToken);const O=Ap(l,u.expectedCount);null!==O&&(f.expectedCount=O)}else if(u.snapshotVersion.compareTo(Bn.min())>0){f.readTime=Hc(l,u.snapshotVersion.toTimestamp());const O=Ap(l,u.expectedCount);null!==O&&(f.expectedCount=O)}return f}(this.serializer,e);const o=function gy(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Sn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Wo(t)}iu(e){const t={};t.database=ju(this.serializer),t.removeTarget=e,this.Wo(t)}}class GI extends Fm{constructor(e,t,o,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,l,f),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(_n(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function jd(r,e){return r&&r.length>0?(_n(void 0!==e),r.map(t=>function(o,l){let u=jo(o.updateTime?o.updateTime:l);return u.isEqual(Bn.min())&&(u=jo(l)),new Fu(u,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=jo(e.commitTime);return this.listener.cu(o,t)}return _n(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=ju(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>zu(this.serializer,o))};this.Wo(t)}}class ky extends class{}{constructor(e,t,o,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.serializer=l,this.lu=!1}fu(){if(this.lu)throw new Ht(wt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Io(e,t,o,l,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ht(wt.UNKNOWN,l.toString())})}vo(e,t,o,l){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.vo(e,t,o,u,f,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ht(wt.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class qI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Li(t),this.mu=!1):Xt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class YI{constructor(e,t,o,l,u){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(C=>{o.enqueueAndForget((0,Z.Z)(function*(){var O;Sa(f)&&(Xt("RemoteStore","Restarting streams for network reachability change."),yield(O=(0,Z.Z)(function*(B){const Y=wn(B);Y.vu.add(4),yield td(Y),Y.bu.set("Unknown"),Y.vu.delete(4),yield Gp(Y)}),function(B){return O.apply(this,arguments)})(f))}))}),this.bu=new qI(o,l)}}function Gp(r){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,Z.Z)(function*(r){if(Sa(r))for(const e of r.Ru)yield e(!0)}),Wp.apply(this,arguments)}function td(r){return Ta.apply(this,arguments)}function Ta(){return Ta=(0,Z.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),Ta.apply(this,arguments)}function ch(r,e){const t=wn(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),qp(t)?Lm(t):id(t).Ko()&&Fy(t,e))}function $f(r,e){const t=wn(r),o=id(t);t.Au.delete(e),o.Ko()&&Ly(t,e),0===t.Au.size&&(o.Ko()?o.jo():Sa(t)&&t.bu.set("Unknown"))}function Fy(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Bn.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}id(r).su(e)}function Ly(r,e){r.Vu.qt(e),id(r).iu(e)}function Lm(r){r.Vu=new em({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),id(r).start(),r.bu.gu()}function qp(r){return Sa(r)&&!id(r).Uo()&&r.Au.size>0}function Sa(r){return 0===wn(r).vu.size}function Fl(r){r.Vu=void 0}function uh(r){return $m.apply(this,arguments)}function $m(){return $m=(0,Z.Z)(function*(r){r.Au.forEach((e,t)=>{Fy(r,e)})}),$m.apply(this,arguments)}function KI(r,e){return Yp.apply(this,arguments)}function Yp(){return Yp=(0,Z.Z)(function*(r,e){Fl(r),qp(r)?(r.bu.Iu(e),Lm(r)):r.bu.set("Unknown")}),Yp.apply(this,arguments)}function Bm(r,e,t){return nd.apply(this,arguments)}function nd(){return nd=(0,Z.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof Qg&&2===e.state&&e.cause)try{yield(o=(0,Z.Z)(function*(l,u){const f=u.cause;for(const C of u.targetIds)l.Au.has(C)&&(yield l.remoteSyncer.rejectListen(C,f),l.Au.delete(C),l.Vu.removeTarget(C))}),function(l,u){return o.apply(this,arguments)})(r,e)}catch(o){Xt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Bf(r,o)}else if(e instanceof Vd?r.Vu.Ht(e):e instanceof Xg?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(Bn.min()))try{const o=yield rh(r.localStore);t.compareTo(o)>=0&&(yield function(l,u){const f=l.Vu.ce(u);return f.targetChanges.forEach((C,O)=>{if(C.resumeToken.approximateByteSize()>0){const B=l.Au.get(O);B&&l.Au.set(O,B.withResumeToken(C.resumeToken,u))}}),f.targetMismatches.forEach((C,O)=>{const B=l.Au.get(C);if(!B)return;l.Au.set(C,B.withResumeToken(fo.EMPTY_BYTE_STRING,B.snapshotVersion)),Ly(l,C);const Y=new dc(B.target,C,O,B.sequenceNumber);Fy(l,Y)}),l.remoteSyncer.applyRemoteEvent(f)}(r,t))}catch(o){Xt("RemoteStore","Failed to raise snapshot:",o),yield Bf(r,o)}var o}),nd.apply(this,arguments)}function Bf(r,e,t){return $y.apply(this,arguments)}function $y(){return $y=(0,Z.Z)(function*(r,e,t){if(!Es(e))throw e;r.vu.add(1),yield td(r),r.bu.set("Offline"),t||(t=()=>rh(r.localStore)),r.asyncQueue.enqueueRetryable((0,Z.Z)(function*(){Xt("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield Gp(r)}))}),$y.apply(this,arguments)}function Kp(r,e){return e().catch(t=>Bf(r,t,e))}function ul(r){return dh.apply(this,arguments)}function dh(){return dh=(0,Z.Z)(function*(r){const e=wn(r),t=gc(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;By(e);)try{const l=yield BI(e.localStore,o);if(null===l){0===e.Eu.length&&t.jo();break}o=l.batchId,Vy(e,l)}catch(l){yield Bf(e,l)}Uy(e)&&jy(e)}),dh.apply(this,arguments)}function By(r){return Sa(r)&&r.Eu.length<10}function Vy(r,e){r.Eu.push(e);const t=gc(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function Uy(r){return Sa(r)&&!gc(r).Uo()&&r.Eu.length>0}function jy(r){gc(r).start()}function ZI(r){return Vm.apply(this,arguments)}function Vm(){return Vm=(0,Z.Z)(function*(r){gc(r).hu()}),Vm.apply(this,arguments)}function Hy(r){return zy.apply(this,arguments)}function zy(){return zy=(0,Z.Z)(function*(r){const e=gc(r);for(const t of r.Eu)e.uu(t.mutations)}),zy.apply(this,arguments)}function XI(r,e,t){return Gy.apply(this,arguments)}function Gy(){return Gy=(0,Z.Z)(function*(r,e,t){const o=r.Eu.shift(),l=Kt.from(o,e,t);yield Kp(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),yield ul(r)}),Gy.apply(this,arguments)}function Tw(r,e){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,Z.Z)(function*(r,e){var t;e&&gc(r).ou&&(yield(t=(0,Z.Z)(function*(o,l){if(uc(u=l.code)&&u!==wt.ABORTED){const f=o.Eu.shift();gc(o).Qo(),yield Kp(o,()=>o.remoteSyncer.rejectFailedWrite(f.batchId,l)),yield ul(o)}var u}),function(o,l){return t.apply(this,arguments)})(r,e)),Uy(r)&&jy(r)}),Zp.apply(this,arguments)}function Um(r,e){return Wy.apply(this,arguments)}function Wy(){return Wy=(0,Z.Z)(function*(r,e){const t=wn(r);t.asyncQueue.verifyOperationInProgress(),Xt("RemoteStore","RemoteStore received new credentials");const o=Sa(t);t.vu.add(3),yield td(t),o&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Gp(t)}),Wy.apply(this,arguments)}function Xp(r,e){return rd.apply(this,arguments)}function rd(){return rd=(0,Z.Z)(function*(r,e){const t=wn(r);e?(t.vu.delete(2),yield Gp(t)):e||(t.vu.add(2),yield td(t),t.bu.set("Unknown"))}),rd.apply(this,arguments)}function id(r){return r.Su||(r.Su=function(e,t,o){const l=wn(e);return l.fu(),new zI(t,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{uo:uh.bind(null,r),ao:KI.bind(null,r),nu:Bm.bind(null,r)}),r.Ru.push(function(){var e=(0,Z.Z)(function*(t){t?(r.Su.Qo(),qp(r)?Lm(r):r.bu.set("Unknown")):(yield r.Su.stop(),Fl(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function gc(r){return r.Du||(r.Du=function(e,t,o){const l=wn(e);return l.fu(),new GI(t,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{uo:ZI.bind(null,r),ao:Tw.bind(null,r),au:Hy.bind(null,r),cu:XI.bind(null,r)}),r.Ru.push(function(){var e=(0,Z.Z)(function*(t){t?(r.Du.Qo(),yield ul(r)):(yield r.Du.stop(),r.Eu.length>0&&(Xt("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class Qp{constructor(e,t,o,l,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=l,this.removalCallback=u,this.deferred=new Eo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,o,l,u){const f=Date.now()+o,C=new Qp(e,t,f,l,u);return C.start(o),C}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ht(wt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yr(r,e){if(Li("AsyncQueue",`${e}: ${r}`),Es(r))return new Ht(wt.UNAVAILABLE,`${e}: ${r}`);throw r}class od{constructor(e){this.comparator=e?(t,o)=>e(t,o)||D.comparator(t.key,o.key):(t,o)=>D.comparator(t.key,o.key),this.keyedMap=sl(),this.sortedSet=new fi(this.comparator)}static emptySet(e){return new od(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof od)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,u=o.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new od;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class jm{constructor(){this.Cu=new fi(D.comparator)}track(e){const t=e.doc.key,o=this.Cu.get(t);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(t):1===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Sn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,o)=>{e.push(o)}),e}}class dl{constructor(e,t,o,l,u,f,C,O,B){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=C,this.excludesMetadataChanges=O,this.hasCachedResults=B}static fromInitialDocuments(e,t,o,l,u){const f=[];return t.forEach(C=>{f.push({type:0,doc:C})}),new dl(e,t,od.emptySet(t),f,o,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==o[l].type||!t[l].doc.isEqual(o[l].doc))return!1;return!0}}class QI{constructor(){this.Nu=void 0,this.listeners=[]}}class JI{constructor(){this.queries=new za(e=>xu(e),Mu),this.onlineState="Unknown",this.ku=new Set}}function hh(r,e){return Qc.apply(this,arguments)}function Qc(){return Qc=(0,Z.Z)(function*(r,e){const t=wn(r),o=e.query;let l=!1,u=t.queries.get(o);if(u||(l=!0,u=new QI),l)try{u.Nu=yield t.onListen(o)}catch(f){const C=yr(f,`Initialization of query '${Fc(e.query)}' failed`);return void e.onError(C)}t.queries.set(o,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&Uf(t)}),Qc.apply(this,arguments)}function Vf(r,e){return sd.apply(this,arguments)}function sd(){return sd=(0,Z.Z)(function*(r,e){const t=wn(r),o=e.query;let l=!1;const u=t.queries.get(o);if(u){const f=u.listeners.indexOf(e);f>=0&&(u.listeners.splice(f,1),l=0===u.listeners.length)}if(l)return t.queries.delete(o),t.onUnlisten(o)}),sd.apply(this,arguments)}function qy(r,e){const t=wn(r);let o=!1;for(const l of e){const f=t.queries.get(l.query);if(f){for(const C of f.listeners)C.$u(l)&&(o=!0);f.Nu=l}}o&&Uf(t)}function Hm(r,e,t){const o=wn(r),l=o.queries.get(e);if(l)for(const u of l.listeners)u.onError(t);o.queries.delete(e)}function Uf(r){r.ku.forEach(e=>{e.next()})}class jf{constructor(e,t,o){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)3!==l.type&&o.push(l);e=new dl(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Yy{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class Jp{constructor(e){this.serializer=e}rr(e){return cl(this.serializer,e)}ur(e){return e.metadata.exists?py(this.serializer,e.document,!1):go.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return jo(e)}}class eE{constructor(e,t,o){this.ju=e,this.localStore=t,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ky(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const o=kr.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,o=new Jp(this.serializer);for(const l of e)if(l.metadata.queries){const u=o.rr(l.metadata.name);for(const f of l.metadata.queries){const C=(t.get(f)||or()).add(u);t.set(f,C)}}return t}complete(){var e=this;return(0,Z.Z)(function*(){const t=yield function $p(r,e,t,o){return Of.apply(this,arguments)}(e.localStore,new Jp(e.serializer),e.documents,e.ju.id),o=e.Wu(e.documents);for(const l of e.queries)yield UI(e.localStore,l,o.get(l.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function Ky(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class Zy{constructor(e){this.key=e}}class zm{constructor(e){this.key=e}}class Xy{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=or(),this.mutatedKeys=or(),this.tc=lf(e),this.ec=new od(this.tc)}get nc(){return this.Yu}sc(e,t){const o=t?t.ic:new jm,l=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,f=l,C=!1;const O="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,B="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((Y,Ce)=>{const it=l.get(Y),yt=Lc(this.query,Ce)?Ce:null,Ut=!!it&&this.mutatedKeys.has(it.key),fn=!!yt&&(yt.hasLocalMutations||this.mutatedKeys.has(yt.key)&&yt.hasCommittedMutations);let cn=!1;it&&yt?it.data.isEqual(yt.data)?Ut!==fn&&(o.track({type:3,doc:yt}),cn=!0):this.rc(it,yt)||(o.track({type:2,doc:yt}),cn=!0,(O&&this.tc(yt,O)>0||B&&this.tc(yt,B)<0)&&(C=!0)):!it&&yt?(o.track({type:0,doc:yt}),cn=!0):it&&!yt&&(o.track({type:1,doc:it}),cn=!0,(O||B)&&(C=!0)),cn&&(yt?(f=f.add(yt),u=fn?u.add(Y):u.delete(Y)):(f=f.delete(Y),u=u.delete(Y)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const Y="F"===this.query.limitType?f.last():f.first();f=f.delete(Y.key),u=u.delete(Y.key),o.track({type:1,doc:Y})}return{ec:f,ic:o,zi:C,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const l=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((B,Y)=>function(Ce,it){const yt=Ut=>{switch(Ut){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Sn()}};return yt(Ce)-yt(it)}(B.type,Y.type)||this.tc(B.doc,Y.doc)),this.oc(o);const f=t?this.uc():[],C=0===this.Zu.size&&this.current?1:0,O=C!==this.Xu;return this.Xu=C,0!==u.length||O?{snapshot:new dl(this.query,e.ec,l,u,e.mutatedKeys,0===C,O,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new jm,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=or(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const t=[];return e.forEach(o=>{this.Zu.has(o)||t.push(new zm(o))}),this.Zu.forEach(o=>{e.has(o)||t.push(new Zy(o))}),t}hc(e){this.Yu=e.ir,this.Zu=or();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return dl.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class tE{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class nE{constructor(e){this.key=e,this.fc=!1}}class rE{constructor(e,t,o,l,u,f){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new za(C=>xu(C),Mu),this._c=new Map,this.mc=new Set,this.gc=new fi(D.comparator),this.yc=new Map,this.Ic=new Sm,this.Tc={},this.Ec=new Map,this.Ac=Xd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Qy(r,e){return eg.apply(this,arguments)}function eg(){return eg=(0,Z.Z)(function*(r,e){const t=l_(r);let o,l;const u=t.wc.get(e);if(u)o=u.targetId,t.sharedClientState.addLocalQueryTarget(o),l=u.view.lc();else{const f=yield ih(t.localStore,Ls(e)),C=t.sharedClientState.addLocalQueryTarget(f.targetId);o=f.targetId,l=yield Gm(t,e,o,"current"===C,f.resumeToken),t.isPrimaryClient&&ch(t.remoteStore,f)}return l}),eg.apply(this,arguments)}function Gm(r,e,t,o,l){return Wm.apply(this,arguments)}function Wm(){return Wm=(0,Z.Z)(function*(r,e,t,o,l){r.Rc=(Ce,it,yt)=>{return(Ut=(0,Z.Z)(function*(fn,cn,sr,Sr){let Xn=cn.view.sc(sr);Xn.zi&&(Xn=yield Lp(fn.localStore,cn.query,!1).then(({documents:li})=>cn.view.sc(li,Xn)));const Fr=Sr&&Sr.targetChanges.get(cn.targetId),Ii=cn.view.applyChanges(Xn,fn.isPrimaryClient,Fr);return zf(fn,cn.targetId,Ii.cc),Ii.snapshot}),function(fn,cn,sr,Sr){return Ut.apply(this,arguments)})(r,Ce,it,yt);var Ut};const u=yield Lp(r.localStore,e,!0),f=new Xy(e,u.ir),C=f.sc(u.documents),O=Ga.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==r.onlineState,l),B=f.applyChanges(C,r.isPrimaryClient,O);zf(r,t,B.cc);const Y=new tE(e,t,f);return r.wc.set(e,Y),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),B.snapshot}),Wm.apply(this,arguments)}function Aa(r,e){return qm.apply(this,arguments)}function qm(){return qm=(0,Z.Z)(function*(r,e){const t=wn(r),o=t.wc.get(e),l=t._c.get(o.targetId);if(l.length>1)return t._c.set(o.targetId,l.filter(u=>!Mu(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Xc(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),$f(t.remoteStore,o.targetId),fh(t,o.targetId)}).catch(Ti))):(fh(t,o.targetId),yield Xc(t.localStore,o.targetId,!0))}),qm.apply(this,arguments)}function Jy(){return Jy=(0,Z.Z)(function*(r,e,t){const o=tv(r);try{const l=yield function(u,f){const C=wn(u),O=$i.now(),B=f.reduce((it,yt)=>it.add(yt.key),or());let Y,Ce;return C.persistence.runTransaction("Locally write mutations","readwrite",it=>{let yt=us(),Ut=or();return C.Zi.getEntries(it,B).next(fn=>{yt=fn,yt.forEach((cn,sr)=>{sr.isValidDocument()||(Ut=Ut.add(cn))})}).next(()=>C.localDocuments.getOverlayedDocuments(it,yt)).next(fn=>{Y=fn;const cn=[];for(const sr of f){const Sr=Tp(sr,Y.get(sr.key).overlayedDocument);null!=Sr&&cn.push(new d(sr.key,Sr,vp(Sr.value.mapValue),Ki.exists(!0)))}return C.mutationQueue.addMutationBatch(it,O,cn,f)}).next(fn=>{Ce=fn;const cn=fn.applyToLocalDocumentSet(Y,Ut);return C.documentOverlayCache.saveOverlays(it,fn.batchId,cn)})}).then(()=>({batchId:Ce.batchId,changes:Od(Y)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(u,f,C){let O=u.Tc[u.currentUser.toKey()];O||(O=new fi(ar)),O=O.insert(f,C),u.Tc[u.currentUser.toKey()]=O}(o,l.batchId,t),yield mc(o,l.changes),yield ul(o.remoteStore)}catch(l){const u=yr(l,"Failed to persist write");t.reject(u)}}),Jy.apply(this,arguments)}function tg(r,e){return ng.apply(this,arguments)}function ng(){return ng=(0,Z.Z)(function*(r,e){const t=wn(r);try{const o=yield function $I(r,e){const t=wn(r),o=e.snapshotVersion;let l=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=t.Zi.newChangeBuffer({trackRemovals:!0});l=t.Ji;const C=[];e.targetChanges.forEach((Y,Ce)=>{const it=l.get(Ce);if(!it)return;C.push(t.Bs.removeMatchingKeys(u,Y.removedDocuments,Ce).next(()=>t.Bs.addMatchingKeys(u,Y.addedDocuments,Ce)));let yt=it.withSequenceNumber(u.currentSequenceNumber);var Ut,fn,cn;null!==e.targetMismatches.get(Ce)?yt=yt.withResumeToken(fo.EMPTY_BYTE_STRING,Bn.min()).withLastLimboFreeSnapshotVersion(Bn.min()):Y.resumeToken.approximateByteSize()>0&&(yt=yt.withResumeToken(Y.resumeToken,o)),l=l.insert(Ce,yt),fn=yt,cn=Y,(0===(Ut=it).resumeToken.approximateByteSize()||fn.snapshotVersion.toMicroseconds()-Ut.snapshotVersion.toMicroseconds()>=3e8||cn.addedDocuments.size+cn.modifiedDocuments.size+cn.removedDocuments.size>0)&&C.push(t.Bs.updateTargetData(u,yt))});let O=us(),B=or();if(e.documentUpdates.forEach(Y=>{e.resolvedLimboDocuments.has(Y)&&C.push(t.persistence.referenceDelegate.updateLimboDocument(u,Y))}),C.push(Om(u,f,e.documentUpdates).next(Y=>{O=Y.nr,B=Y.sr})),!o.isEqual(Bn.min())){const Y=t.Bs.getLastRemoteSnapshotVersion(u).next(Ce=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,o));C.push(Y)}return ht.waitFor(C).next(()=>f.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,O,B)).next(()=>O)}).then(u=>(t.Ji=l,u))}(t.localStore,e);e.targetChanges.forEach((l,u)=>{const f=t.yc.get(u);f&&(_n(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?f.fc=!0:l.modifiedDocuments.size>0?_n(f.fc):l.removedDocuments.size>0&&(_n(f.fc),f.fc=!1))}),yield mc(t,o,e)}catch(o){yield Ti(o)}}),ng.apply(this,arguments)}function e_(r,e,t){const o=wn(r);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const l=[];o.wc.forEach((u,f)=>{const C=f.view.Mu(e);C.snapshot&&l.push(C.snapshot)}),function(u,f){const C=wn(u);C.onlineState=f;let O=!1;C.queries.forEach((B,Y)=>{for(const Ce of Y.listeners)Ce.Mu(f)&&(O=!0)}),O&&Uf(C)}(o.eventManager,e),l.length&&o.dc.nu(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function oE(r,e,t){return Ym.apply(this,arguments)}function Ym(){return Ym=(0,Z.Z)(function*(r,e,t){const o=wn(r);o.sharedClientState.updateQueryState(e,"rejected",t);const l=o.yc.get(e),u=l&&l.key;if(u){let f=new fi(D.comparator);f=f.insert(u,go.newNoDocument(u,Bn.min()));const C=or().add(u),O=new Bd(Bn.min(),new Map,new fi(ar),f,C);yield tg(o,O),o.gc=o.gc.remove(u),o.yc.delete(e),rg(o)}else yield Xc(o.localStore,e,!1).then(()=>fh(o,e,t)).catch(Ti)}),Ym.apply(this,arguments)}function t_(r,e){return Km.apply(this,arguments)}function Km(){return Km=(0,Z.Z)(function*(r,e){const t=wn(r),o=e.batch.batchId;try{const l=yield function Rm(r,e){const t=wn(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(f,C,O,B){const Y=O.batch,Ce=Y.keys();let it=ht.resolve();return Ce.forEach(yt=>{it=it.next(()=>B.getEntry(C,yt)).next(Ut=>{const fn=O.docVersions.get(yt);_n(null!==fn),Ut.version.compareTo(fn)<0&&(Y.applyToRemoteDocument(Ut,O),Ut.isValidDocument()&&(Ut.setReadTime(O.commitVersion),B.addEntry(Ut)))})}),it.next(()=>f.mutationQueue.removeMutationBatch(C,Y))}(t,o,e,u).next(()=>u.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(f){let C=or();for(let O=0;O<f.mutationResults.length;++O)f.mutationResults[O].transformResults.length>0&&(C=C.add(f.batch.mutations[O].key));return C}(e))).next(()=>t.localDocuments.getDocuments(o,l))})}(t.localStore,e);Qm(t,o,null),Xm(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield mc(t,l)}catch(l){yield Ti(l)}}),Km.apply(this,arguments)}function sE(r,e,t){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,Z.Z)(function*(r,e,t){const o=wn(r);try{const l=yield function(u,f){const C=wn(u);return C.persistence.runTransaction("Reject batch","readwrite-primary",O=>{let B;return C.mutationQueue.lookupMutationBatch(O,f).next(Y=>(_n(null!==Y),B=Y.keys(),C.mutationQueue.removeMutationBatch(O,Y))).next(()=>C.mutationQueue.performConsistencyCheck(O)).next(()=>C.documentOverlayCache.removeOverlaysForBatchId(O,B,f)).next(()=>C.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(O,B)).next(()=>C.localDocuments.getDocuments(O,B))})}(o.localStore,e);Qm(o,e,t),Xm(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield mc(o,l)}catch(l){yield Ti(l)}}),Hf.apply(this,arguments)}function Zm(){return Zm=(0,Z.Z)(function*(r,e){const t=wn(r);Sa(t.remoteStore)||Xt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(u){const f=wn(u);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",C=>f.mutationQueue.getHighestUnacknowledgedBatchId(C))}(t.localStore);if(-1===o)return void e.resolve();const l=t.Ec.get(o)||[];l.push(e),t.Ec.set(o,l)}catch(o){const l=yr(o,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),Zm.apply(this,arguments)}function Xm(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function Qm(r,e,t){const o=wn(r);let l=o.Tc[o.currentUser.toKey()];if(l){const u=l.get(e);u&&(t?u.reject(t):u.resolve(),l=l.remove(e)),o.Tc[o.currentUser.toKey()]=l}}function fh(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const o of r._c.get(e))r.wc.delete(o),t&&r.dc.Pc(o,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(o=>{r.Ic.containsKey(o)||hl(r,o)})}function hl(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&($f(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),rg(r))}function zf(r,e,t){for(const o of t)o instanceof Zy?(r.Ic.addReference(o.key,e),lE(r,o)):o instanceof zm?(Xt("SyncEngine","Document no longer in limbo: "+o.key),r.Ic.removeReference(o.key,e),r.Ic.containsKey(o.key)||hl(r,o.key)):Sn()}function lE(r,e){const t=e.key,o=t.path.canonicalString();r.gc.get(t)||r.mc.has(o)||(Xt("SyncEngine","New document in limbo: "+t),r.mc.add(o),rg(r))}function rg(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new D(kr.fromString(e)),o=r.Ac.next();r.yc.set(o,new nE(t)),r.gc=r.gc.insert(t,o),ch(r.remoteStore,new dc(Ls(Ha(t.path)),o,"TargetPurposeLimboResolution",ho.ct))}}function mc(r,e,t){return ig.apply(this,arguments)}function ig(){return ig=(0,Z.Z)(function*(r,e,t){const o=wn(r),l=[],u=[],f=[];var C;o.wc.isEmpty()||(o.wc.forEach((C,O)=>{f.push(o.Rc(O,e,t).then(B=>{if((B||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(O.targetId,null!=B&&B.fromCache?"not-current":"current"),B){l.push(B);const Y=ed.Li(O.targetId,B);u.push(Y)}}))}),yield Promise.all(f),o.dc.nu(l),yield(C=(0,Z.Z)(function*(O,B){const Y=wn(O);try{yield Y.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ce=>ht.forEach(B,it=>ht.forEach(it.Fi,yt=>Y.persistence.referenceDelegate.addReference(Ce,it.targetId,yt)).next(()=>ht.forEach(it.Bi,yt=>Y.persistence.referenceDelegate.removeReference(Ce,it.targetId,yt)))))}catch(Ce){if(!Es(Ce))throw Ce;Xt("LocalStore","Failed to update sequence numbers: "+Ce)}for(const Ce of B){const it=Ce.targetId;if(!Ce.fromCache){const yt=Y.Ji.get(it),fn=yt.withLastLimboFreeSnapshotVersion(yt.snapshotVersion);Y.Ji=Y.Ji.insert(it,fn)}}}),function(O,B){return C.apply(this,arguments)})(o.localStore,u))}),ig.apply(this,arguments)}function n_(r,e){return ph.apply(this,arguments)}function ph(){return ph=(0,Z.Z)(function*(r,e){const t=wn(r);if(!t.currentUser.isEqual(e)){Xt("SyncEngine","User change. New user:",e.toKey());const o=yield nh(t.localStore,e);t.currentUser=e,(l=t).Ec.forEach(f=>{f.forEach(C=>{C.reject(new Ht(wt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Ec.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield mc(t,o.er)}var l}),ph.apply(this,arguments)}function Jm(r,e){const t=wn(r),o=t.yc.get(e);if(o&&o.fc)return or().add(o.key);{let l=or();const u=t._c.get(e);if(!u)return l;for(const f of u){const C=t.wc.get(f);l=l.unionWith(C.view.nc)}return l}}function Sw(r,e){return og.apply(this,arguments)}function og(){return og=(0,Z.Z)(function*(r,e){const t=wn(r),o=yield Lp(t.localStore,e.query,!0),l=e.view.hc(o);return t.isPrimaryClient&&zf(t,e.targetId,l.cc),l}),og.apply(this,arguments)}function r_(r,e){return sg.apply(this,arguments)}function sg(){return sg=(0,Z.Z)(function*(r,e){const t=wn(r);return VI(t.localStore,e).then(o=>mc(t,o))}),sg.apply(this,arguments)}function i_(r,e,t,o){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,Z.Z)(function*(r,e,t,o){const l=wn(r),u=yield function(f,C){const O=wn(f),B=wn(O.mutationQueue);return O.persistence.runTransaction("Lookup mutation documents","readonly",Y=>B.Sn(Y,C).next(Ce=>Ce?O.localDocuments.getDocuments(Y,Ce):ht.resolve(null)))}(l.localStore,e);var C;null!==u?("pending"===t?yield ul(l.remoteStore):"acknowledged"===t||"rejected"===t?(Qm(l,e,o||null),Xm(l,e),C=e,wn(wn(l.localStore).mutationQueue).Cn(C)):Sn(),yield mc(l,u)):Xt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Gf.apply(this,arguments)}function ev(){return ev=(0,Z.Z)(function*(r,e){const t=wn(r);if(l_(t),tv(t),!0===e&&!0!==t.vc){const o=t.sharedClientState.getAllActiveQueryTargets(),l=yield o_(t,o.toArray());t.vc=!0,yield Xp(t.remoteStore,!0);for(const u of l)ch(t.remoteStore,u)}else if(!1===e&&!1!==t.vc){const o=[];let l=Promise.resolve();t._c.forEach((u,f)=>{t.sharedClientState.isLocalQueryTarget(f)?o.push(f):l=l.then(()=>(fh(t,f),Xc(t.localStore,f,!0))),$f(t.remoteStore,f)}),yield l,yield o_(t,o),function(u){const f=wn(u);f.yc.forEach((C,O)=>{$f(f.remoteStore,O)}),f.Ic.Ts(),f.yc=new Map,f.gc=new fi(D.comparator)}(t),t.vc=!1,yield Xp(t.remoteStore,!1)}}),ev.apply(this,arguments)}function o_(r,e,t){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,Z.Z)(function*(r,e,t){const o=wn(r),l=[],u=[];for(const f of e){let C;const O=o._c.get(f);if(O&&0!==O.length){C=yield ih(o.localStore,Ls(O[0]));for(const B of O){const Y=o.wc.get(B),Ce=yield Sw(o,Y);Ce.snapshot&&u.push(Ce.snapshot)}}else{const B=yield xy(o.localStore,f);C=yield ih(o.localStore,B),yield Gm(o,s_(B),f,!1,C.resumeToken)}l.push(C)}return o.dc.nu(u),l}),Wf.apply(this,arguments)}function s_(r){return Ep(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function a_(r){const e=wn(r);return wn(wn(e.localStore).persistence).$i()}function cE(r,e,t,o){return gh.apply(this,arguments)}function gh(){return gh=(0,Z.Z)(function*(r,e,t,o){const l=wn(r);if(l.vc)return void Xt("SyncEngine","Ignoring unexpected query state notification.");const u=l._c.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const f=yield VI(l.localStore,sc(u[0])),C=Bd.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,fo.EMPTY_BYTE_STRING);yield mc(l,f,C);break}case"rejected":yield Xc(l.localStore,e,!0),fh(l,e,o);break;default:Sn()}}),gh.apply(this,arguments)}function qf(r,e,t){return mh.apply(this,arguments)}function mh(){return mh=(0,Z.Z)(function*(r,e,t){const o=l_(r);if(o.vc){for(const l of e){if(o._c.has(l)){Xt("SyncEngine","Adding an already active target "+l);continue}const u=yield xy(o.localStore,l),f=yield ih(o.localStore,u);yield Gm(o,s_(u),f.targetId,!1,f.resumeToken),ch(o.remoteStore,f)}for(const l of t)o._c.has(l)&&(yield Xc(o.localStore,l,!1).then(()=>{$f(o.remoteStore,l),fh(o,l)}).catch(Ti))}}),mh.apply(this,arguments)}function l_(r){const e=wn(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=tg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oE.bind(null,e),e.dc.nu=qy.bind(null,e.eventManager),e.dc.Pc=Hm.bind(null,e.eventManager),e}function tv(r){const e=wn(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=t_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sE.bind(null,e),e}class vh{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Z.Z)(function*(){t.serializer=Hp(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Rf(this.persistence,new th,e.initialUser,this.serializer)}createPersistence(e){return new Mm(xm.zs,this.serializer)}createSharedClientState(e){return new Py}terminate(){var e=this;return(0,Z.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class nv extends vh{constructor(e,t,o){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,Z.Z)(function*(){yield t().call(o,e),yield o.Vc.initialize(o,e),yield tv(o.Vc.syncEngine),yield ul(o.Vc.remoteStore),yield o.persistence.Ii(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Rf(this.persistence,new th,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new wy(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const o=new Dd(t,this.persistence);return new bl(e.asyncQueue,o)}createPersistence(e){const t=Zc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Ms.withCacheSize(this.cacheSizeBytes):Ms.DEFAULT;return new Yc(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,km(),lh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Py}}class rv extends nv{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,Z.Z)(function*(){yield t().call(o,e);const l=o.Vc.syncEngine;o.sharedClientState instanceof oh&&(o.sharedClientState.syncEngine={jr:i_.bind(null,l),zr:cE.bind(null,l),Wr:qf.bind(null,l),$i:a_.bind(null,l),Qr:r_.bind(null,l)},yield o.sharedClientState.start()),yield o.persistence.Ii(function(){var u=(0,Z.Z)(function*(f){yield function vc(r,e){return ev.apply(this,arguments)}(o.Vc.syncEngine,f),o.gcScheduler&&(f&&!o.gcScheduler.started?o.gcScheduler.start():f||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(f&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():f||o.indexBackfillerScheduler.stop())});return function(f){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=km();if(!oh.D(t))throw new Ht(wt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Zc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new oh(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class ad{initialize(e,t){var o=this;return(0,Z.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>e_(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=n_.bind(null,o.syncEngine),yield Xp(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new JI}createDatastore(e){const t=Hp(e.databaseInfo.databaseId),o=new Ny(e.databaseInfo);return new ky(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,l=e.asyncQueue,u=C=>e_(this.syncEngine,C,0),f=ah.D()?new ah:new sh,new YI(t,o,l,u,f);var t,o,l,u,f}createSyncEngine(e,t){return function(o,l,u,f,C,O,B){const Y=new rE(o,l,u,f,C,O);return B&&(Y.vc=!0),Y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Z.Z)(function*(t){const o=wn(t);Xt("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield td(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function yh(r,e=10240){let t=0;return{read:()=>(0,Z.Z)(function*(){if(t<r.byteLength){const o={value:r.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,Z.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class ag{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class u_{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Eo,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(o=>{o&&o.Qu()?this.metadata.resolve(o.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.Gu)}`))},o=>this.metadata.reject(o))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Z.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Z.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Z.Z)(function*(){const t=yield e.kc();if(null===t)return null;const o=e.xc.decode(t),l=Number(o);isNaN(l)&&e.Mc(`length string (${o}) is not valid number`);const u=yield e.$c(l);return new Yy(JSON.parse(u),t.length+l)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Z.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}$c(e){var t=this;return(0,Z.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const o=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Z.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class d_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Z.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ht(wt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(l=(0,Z.Z)(function*(u,f){const C=wn(u),O=ju(C.serializer)+"/documents",B={documents:f.map(yt=>mf(C.serializer,yt))},Y=yield C.vo("BatchGetDocuments",O,B,f.length),Ce=new Map;Y.forEach(yt=>{const Ut=function _w(r,e){return"found"in e?function(t,o){_n(!!o.found);const l=cl(t,o.found.name),u=jo(o.found.updateTime),f=o.found.createTime?jo(o.found.createTime):Bn.min(),C=new Jo({mapValue:{fields:o.found.fields}});return go.newFoundDocument(l,u,f,C)}(r,e):"missing"in e?function(t,o){_n(!!o.missing),_n(!!o.readTime);const l=cl(t,o.missing),u=jo(o.readTime);return go.newNoDocument(l,u)}(r,e):Sn()}(C.serializer,yt);Ce.set(Ut.key.toString(),Ut)});const it=[];return f.forEach(yt=>{const Ut=Ce.get(yt.toString());_n(!!Ut),it.push(Ut)}),it}),function(u,f){return l.apply(this,arguments)})(t.datastore,e);var l;return o.forEach(l=>t.recordVersion(l)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new J(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Z.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,l)=>{const u=D.fromPath(l);e.mutations.push(new qe(u,e.precondition(u)))}),yield(o=(0,Z.Z)(function*(l,u){const f=wn(l),C=ju(f.serializer)+"/documents",O={writes:u.map(B=>zu(f.serializer,B))};yield f.Io("Commit",C,O)}),function(l,u){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Sn();t=Bn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new Ht(wt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Bn.min())?Ki.exists(!1):Ki.updateTime(t):Ki.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Bn.min()))throw new Ht(wt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ki.updateTime(t)}return Ki.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class dE{constructor(e,t,o,l,u){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=l,this.deferred=u,this.Bc=o.maxAttempts,this.qo=new Lf(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Z.Z)(function*(){const t=new d_(e.datastore),o=e.qc(t);o&&o.then(l=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(l)}).catch(u=>{e.Uc(u)}))}).catch(l=>{e.Uc(l)})}))}qc(e){try{const t=this.updateFunction(e);return!nl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!uc(t)}return!1}}class hE{constructor(e,t,o,l){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=l,this.user=si.UNAUTHENTICATED,this.clientId=El.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var f=(0,Z.Z)(function*(C){Xt("FirestoreClient","Received user=",C.uid),yield u.authCredentialListener(C),u.user=C});return function(C){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(o,f=>(Xt("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,Z.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ht(wt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Eo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Z.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const l=yr(o,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function Jc(r,e){return iv.apply(this,arguments)}function iv(){return iv=(0,Z.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Xt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let o=t.initialUser;r.setCredentialChangeListener(function(){var l=(0,Z.Z)(function*(u){o.isEqual(u)||(yield nh(e.localStore,u),o=u)});return function(u){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),iv.apply(this,arguments)}function ov(r,e){return sv.apply(this,arguments)}function sv(){return sv=(0,Z.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield av(r);Xt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield r.getConfiguration();yield e.initialize(t,o),r.setCredentialChangeListener(l=>Um(e.remoteStore,l)),r.setAppCheckTokenChangeListener((l,u)=>Um(e.remoteStore,u)),r._onlineComponents=e}),sv.apply(this,arguments)}function h_(r){return"FirebaseError"===r.name?r.code===wt.FAILED_PRECONDITION||r.code===wt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function av(r){return lv.apply(this,arguments)}function lv(){return lv=(0,Z.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Xt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Jc(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!h_(t))throw t;Yr("Error using user provided cache. Falling back to memory cache: "+t),yield Jc(r,new vh)}}else Xt("FirestoreClient","Using default OfflineComponentProvider"),yield Jc(r,new vh);return r._offlineComponents}),lv.apply(this,arguments)}function lg(r){return cv.apply(this,arguments)}function cv(){return cv=(0,Z.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Xt("FirestoreClient","Using user provided OnlineComponentProvider"),yield ov(r,r._uninitializedComponentsProvider._online)):(Xt("FirestoreClient","Using default OnlineComponentProvider"),yield ov(r,new ad))),r._onlineComponents}),cv.apply(this,arguments)}function uv(r){return av(r).then(e=>e.persistence)}function _h(r){return av(r).then(e=>e.localStore)}function f_(r){return lg(r).then(e=>e.remoteStore)}function Ih(r){return lg(r).then(e=>e.syncEngine)}function Eh(r){return dv.apply(this,arguments)}function dv(){return dv=(0,Z.Z)(function*(r){const e=yield lg(r),t=e.eventManager;return t.onListen=Qy.bind(null,e.syncEngine),t.onUnlisten=Aa.bind(null,e.syncEngine),t}),dv.apply(this,arguments)}function g_(r,e,t={}){const o=new Eo;return r.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return function(l,u,f,C,O){const B=new ag({next:Ce=>{u.enqueueAndForget(()=>Vf(l,Y));const it=Ce.docs.has(f);!it&&Ce.fromCache?O.reject(new Ht(wt.UNAVAILABLE,"Failed to get document because the client is offline.")):it&&Ce.fromCache&&C&&"server"===C.source?O.reject(new Ht(wt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):O.resolve(Ce)},error:Ce=>O.reject(Ce)}),Y=new jf(Ha(f.path),B,{includeMetadataChanges:!0,Ku:!0});return hh(l,Y)}(yield Eh(r),r.asyncQueue,e,t,o)})),o.promise}function hv(r,e,t={}){const o=new Eo;return r.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return function(l,u,f,C,O){const B=new ag({next:Ce=>{u.enqueueAndForget(()=>Vf(l,Y)),Ce.fromCache&&"server"===C.source?O.reject(new Ht(wt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):O.resolve(Ce)},error:Ce=>O.reject(Ce)}),Y=new jf(f,B,{includeMetadataChanges:!0,Ku:!0});return hh(l,Y)}(yield Eh(r),r.asyncQueue,e,t,o)})),o.promise}function vE(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const Yf=new Map;function fv(r,e,t){if(!t)throw new Ht(wt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function __(r,e,t,o){if(!0===e&&!0===o)throw new Ht(wt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function cg(r){if(!D.isDocumentKey(r))throw new Ht(wt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function I_(r){if(D.isDocumentKey(r))throw new Ht(wt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Ma(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":Sn()}function jr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ht(wt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ma(r);throw new Ht(wt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function xs(r,e){if(e<=0)throw new Ht(wt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class eu{constructor(e){var t,o;if(void 0===e.host){if(void 0!==e.ssl)throw new Ht(wt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ht(wt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}__("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=vE(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(l){if(void 0!==l.timeoutSeconds){if(isNaN(l.timeoutSeconds))throw new Ht(wt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ht(wt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ht(wt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tu{constructor(e,t,o,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eu({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ht(wt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ht(wt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eu(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Ts;switch(t.type){case"firstParty":return new fu(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ht(wt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Yf.get(e);t&&(Xt("ComponentProvider","Removing Datastore"),Yf.delete(e),t.terminate())}(this),Promise.resolve()}}class oo{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new oo(this.firestore,e,this._key)}}class Ho{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Ho(this.firestore,e,this._query)}}class ea extends Ho{constructor(e,t,o){super(e,t,Ha(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new oo(this.firestore,null,new D(e))}withConverter(e){return new ea(this.firestore,e,this._path)}}function ld(r,e,...t){if(r=(0,je.m9)(r),fv("collection","path",e),r instanceof tu){const o=kr.fromString(e,...t);return I_(o),new ea(r,null,o)}{if(!(r instanceof oo||r instanceof ea))throw new Ht(wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(kr.fromString(e,...t));return I_(o),new ea(r.firestore,null,o)}}function yc(r,e,...t){if(r=(0,je.m9)(r),1===arguments.length&&(e=El.A()),fv("doc","path",e),r instanceof tu){const o=kr.fromString(e,...t);return cg(o),new oo(r,null,new D(o))}{if(!(r instanceof oo||r instanceof ea))throw new Ht(wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(kr.fromString(e,...t));return cg(o),new oo(r.firestore,r instanceof ea?r.converter:null,new D(o))}}function cd(r,e){return r=(0,je.m9)(r),e=(0,je.m9)(e),(r instanceof oo||r instanceof ea)&&(e instanceof oo||e instanceof ea)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function nu(r,e){return r=(0,je.m9)(r),e=(0,je.m9)(e),r instanceof Ho&&e instanceof Ho&&r.firestore===e.firestore&&Mu(r._query,e._query)&&r.converter===e.converter}class wh{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Lf(this,"async_queue_retry"),this.Xc=()=>{const t=lh();t&&Xt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=lh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=lh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Eo;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Z.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Es(t))throw t;Xt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,Li("INTERNAL UNHANDLED ERROR: ",function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),f}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=t,t}enqueueAfterDelay(e,t,o){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const l=Qp.createAndSchedule(this,e,t,o,u=>this.na(u));return this.zc.push(l),l}Zc(){this.Wc&&Sn()}verifyOperationInProgress(){}sa(){var e=this;return(0,Z.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function ru(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const l of["next","error","complete"])if(l in o&&"function"==typeof o[l])return!0;return!1}(r)}class E_{constructor(){this._progressObserver={},this._taskCompletionResolver=new Eo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class vo extends tu{constructor(e,t,o,l){super(e,t,o,l),this.type="firestore",this._queue=new wh,this._persistenceKey=(null==l?void 0:l.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||pv(this),this._firestoreClient.terminate()}}function zo(r){return r._firestoreClient||pv(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function pv(r){var e,t,o;const l=r._freezeSettings(),u=(C=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Xh(r._databaseId,C,r._persistenceKey,(B=l).host,B.ssl,B.experimentalForceLongPolling,B.experimentalAutoDetectLongPolling,vE(B.experimentalLongPollingOptions),B.useFetchStreams));var C,B;r._firestoreClient=new hE(r._authCredentials,r._appCheckCredentials,r._queue,u),null!==(t=l.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(o=l.cache)&&void 0!==o&&o._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.cache.kind,_offline:l.cache._offlineComponentProvider,_online:l.cache._onlineComponentProvider})}function ug(r,e,t){const o=new Eo;return r.asyncQueue.enqueue((0,Z.Z)(function*(){try{yield Jc(r,t),yield ov(r,e),o.resolve()}catch(l){const u=l;if(!h_(u))throw u;Yr("Error enabling indexeddb cache. Falling back to memory cache: "+u),o.reject(u)}})).then(()=>o.promise)}function wE(r){if(r._initialized||r._terminated)throw new Ht(wt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ll{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ll(fo.fromBase64String(e))}catch(t){throw new Ht(wt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ll(fo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class fl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ht(wt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new b(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _c{constructor(e){this._methodName=e}}class ud{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ht(wt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ht(wt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ar(this._lat,e._lat)||ar(this._long,e._long)}}const C_=/^__.*__$/;class Zf{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new d(e,this.data,this.fieldMask,t,this.fieldTransforms):new _(e,this.data,t,this.fieldTransforms)}}class gv{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new d(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function T_(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Sn()}}class iu{constructor(e,t,o,l,u,f){this.settings=e,this.databaseId=t,this.serializer=o,this.ignoreUndefinedProperties=l,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new iu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.aa({path:o,la:!1});return l.fa(e),l}da(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.aa({path:o,la:!1});return l.ua(),l}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return vg(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(T_(this.ca)&&C_.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class CE{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=o||Hp(e)}ya(e,t,o,l=!1){return new iu({ca:e,methodName:t,ga:o,path:b.emptyPath(),la:!1,ma:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dd(r){const e=r._freezeSettings(),t=Hp(r._databaseId);return new CE(r._databaseId,!!e.ignoreUndefinedProperties,t)}function hg(r,e,t,o,l,u={}){const f=r.ya(u.merge||u.mergeFields?2:0,e,t,l);gg("Data must be an object, but it was:",f,o);const C=A_(o,f);let O,B;if(u.merge)O=new $o(f.fieldMask),B=f.fieldTransforms;else if(u.mergeFields){const Y=[];for(const Ce of u.mergeFields){const it=Ch(e,Ce,t);if(!f.contains(it))throw new Ht(wt.INVALID_ARGUMENT,`Field '${it}' is specified in your field mask but missing from your input data.`);R_(Y,it)||Y.push(it)}O=new $o(Y),B=f.fieldTransforms.filter(Ce=>O.covers(Ce.field))}else O=null,B=f.fieldTransforms;return new Zf(new Jo(C),O,B)}class Xf extends _c{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xf}}function fg(r,e,t){return new iu({ca:3,ga:e.settings.ga,methodName:r._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Dh extends _c{_toFieldTransform(e){return new Vc(e.path,new Ca)}isEqual(e){return e instanceof Dh}}class pg extends _c{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=fg(this,e,!0),o=this.pa.map(u=>ou(u,t)),l=new Ol(o);return new Vc(e.path,l)}isEqual(e){return this===e}}class Pw extends _c{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=fg(this,e,!0),o=this.pa.map(u=>ou(u,t)),l=new lc(o);return new Vc(e.path,l)}isEqual(e){return this===e}}class TE extends _c{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new es(e.serializer,ds(e.serializer,this.Ia));return new Vc(e.path,t)}isEqual(e){return this===e}}function mv(r,e,t,o){const l=r.ya(1,e,t);gg("Data must be an object, but it was:",l,o);const u=[],f=Jo.empty();eo(o,(O,B)=>{const Y=mg(e,O,t);B=(0,je.m9)(B);const Ce=l.da(Y);if(B instanceof Xf)u.push(Y);else{const it=ou(B,Ce);null!=it&&(u.push(Y),f.set(Y,it))}});const C=new $o(u);return new gv(f,C,l.fieldTransforms)}function Qf(r,e,t,o,l,u){const f=r.ya(1,e,t),C=[Ch(e,o,t)],O=[l];if(u.length%2!=0)throw new Ht(wt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let it=0;it<u.length;it+=2)C.push(Ch(e,u[it])),O.push(u[it+1]);const B=[],Y=Jo.empty();for(let it=C.length-1;it>=0;--it)if(!R_(B,C[it])){const yt=C[it];let Ut=O[it];Ut=(0,je.m9)(Ut);const fn=f.da(yt);if(Ut instanceof Xf)B.push(yt);else{const cn=ou(Ut,fn);null!=cn&&(B.push(yt),Y.set(yt,cn))}}const Ce=new $o(B);return new gv(Y,Ce,f.fieldTransforms)}function S_(r,e,t,o=!1){return ou(t,r.ya(o?4:3,e))}function ou(r,e){if(M_(r=(0,je.m9)(r)))return gg("Unsupported field value:",e,r),A_(r,e);if(r instanceof _c)return function(t,o){if(!T_(o.ca))throw o._a(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,o){const l=[];let u=0;for(const f of t){let C=ou(f,o.wa(u));null==C&&(C={nullValue:"NULL_VALUE"}),l.push(C),u++}return{arrayValue:{values:l}}}(r,e)}return function(t,o){if(null===(t=(0,je.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ds(o.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=$i.fromDate(t);return{timestampValue:Hc(o.serializer,l)}}if(t instanceof $i){const l=new $i(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Hc(o.serializer,l)}}if(t instanceof ud)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ll)return{bytesValue:Ud(o.serializer,t._byteString)};if(t instanceof oo){const l=o.databaseId,u=t.firestore._databaseId;if(!u.isEqual(l))throw o._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:rm(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o._a(`Unsupported field value: ${Ma(t)}`)}(r,e)}function A_(r,e){const t={};return tc(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eo(r,(o,l)=>{const u=ou(l,e.ha(o));null!=u&&(t[o]=u)}),{mapValue:{fields:t}}}function M_(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof $i||r instanceof ud||r instanceof Ll||r instanceof oo||r instanceof _c)}function gg(r,e,t){if(!M_(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Ma(t);throw e._a("an object"===o?r+" a custom object":r+" "+o)}var o}function Ch(r,e,t){if((e=(0,je.m9)(e))instanceof fl)return e._internalPath;if("string"==typeof e)return mg(r,e);throw vg("Field path arguments must be of type string or ",r,!1,void 0,t)}const x_=new RegExp("[~\\*/\\[\\]]");function mg(r,e,t){if(e.search(x_)>=0)throw vg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new fl(...e.split("."))._internalPath}catch{throw vg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function vg(r,e,t,o,l){const u=o&&!o.isEmpty(),f=void 0!==l;let C=`Function ${e}() called with invalid data`;t&&(C+=" (via `toFirestore()`)"),C+=". ";let O="";return(u||f)&&(O+=" (found",u&&(O+=` in field ${o}`),f&&(O+=` in document ${l}`),O+=")"),new Ht(wt.INVALID_ARGUMENT,C+r+O)}function R_(r,e){return r.some(t=>t.isEqual(e))}class Jf{constructor(e,t,o,l,u){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new oo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new vv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Th("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class vv extends Jf{data(){return super.data()}}function Th(r,e){return"string"==typeof e?mg(r,e):e instanceof fl?e._internalPath:e._delegate._internalPath}function O_(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Ht(wt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sh{}class su extends Sh{}function $l(r,e,...t){let o=[];e instanceof Sh&&o.push(e),o=o.concat(t),function(l){const u=l.filter(C=>C instanceof Mh).length,f=l.filter(C=>C instanceof Ah).length;if(u>1||u>0&&f>0)throw new Ht(wt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const l of o)r=l._apply(r);return r}class Ah extends su{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new Ah(e,t,o)}_apply(e){const t=this._parse(e);return wv(e._query,t),new Ho(e.firestore,e.converter,wp(e._query,t))}_parse(e){const t=dd(e.firestore);return function(l,u,f,C,O,B,Y){let Ce;if(O.isKeyField()){if("array-contains"===B||"array-contains-any"===B)throw new Ht(wt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${B}' queries on documentId().`);if("in"===B||"not-in"===B){bv(Y,B);const it=[];for(const yt of Y)it.push(Ev(C,l,yt));Ce={arrayValue:{values:it}}}else Ce=Ev(C,l,Y)}else"in"!==B&&"not-in"!==B&&"array-contains-any"!==B||bv(Y,B),Ce=S_(f,"where",Y,"in"===B||"not-in"===B);return Kr.create(O,B,Ce)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Mh extends Sh{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Mh(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===t.length?t[0]:_i.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,l){let u=o;const f=l.getFlattenedFilters();for(const C of f)wv(u,C),u=wp(u,C)}(e._query,t),new Ho(e.firestore,e.converter,wp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ep extends su{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ep(e,t)}_apply(e){const t=function(o,l,u){if(null!==o.startAt)throw new Ht(wt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Ht(wt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new ja(l,u);return function(C,O){if(null===bp(C)){const B=Nc(C);null!==B&&F_(0,B,O.field)}}(o,f),f}(e._query,this._field,this._direction);return new Ho(e.firestore,e.converter,function(o,l){const u=o.explicitOrderBy.concat([l]);return new ol(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class tp extends su{constructor(e,t,o){super(),this.type=e,this._limit=t,this._limitType=o}static _create(e,t,o){return new tp(e,t,o)}_apply(e){return new Ho(e.firestore,e.converter,Rd(e._query,this._limit,this._limitType))}}class yg extends su{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new yg(e,t,o)}_apply(e){const t=Iv(e,this.type,this._docOrFields,this._inclusive);return new Ho(e.firestore,e.converter,(l=t,new ol((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)));var o,l}}class xh extends su{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new xh(e,t,o)}_apply(e){const t=Iv(e,this.type,this._docOrFields,this._inclusive);return new Ho(e.firestore,e.converter,(l=t,new ol((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)));var o,l}}function Iv(r,e,t,o){if(t[0]=(0,je.m9)(t[0]),t[0]instanceof Jf)return function(l,u,f,C,O){if(!C)throw new Ht(wt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const B=[];for(const Y of kc(l))if(Y.field.isKeyField())B.push(un(u,C.key));else{const Ce=C.data.field(Y.field);if(Da(Ce))throw new Ht(wt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ce){const it=Y.field.canonicalString();throw new Ht(wt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${it}' (used as the orderBy) does not exist.`)}B.push(Ce)}return new Ua(B,O)}(r._query,r.firestore._databaseId,e,t[0]._document,o);{const l=dd(r.firestore);return function(u,f,C,O,B,Y){const Ce=u.explicitOrderBy;if(B.length>Ce.length)throw new Ht(wt.INVALID_ARGUMENT,`Too many arguments provided to ${O}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const it=[];for(let yt=0;yt<B.length;yt++){const Ut=B[yt];if(Ce[yt].field.isKeyField()){if("string"!=typeof Ut)throw new Ht(wt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${O}(), but got a ${typeof Ut}`);if(!Au(u)&&-1!==Ut.indexOf("/"))throw new Ht(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${O}() must be a plain document ID, but '${Ut}' contains a slash.`);const fn=u.path.child(kr.fromString(Ut));if(!D.isDocumentKey(fn))throw new Ht(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${O}() must result in a valid document path, but '${fn}' is not because it contains an odd number of segments.`);const cn=new D(fn);it.push(un(f,cn))}else{const fn=S_(C,O,Ut);it.push(fn)}}return new Ua(it,Y)}(r._query,r.firestore._databaseId,l,e,t,o)}}function Ev(r,e,t){if("string"==typeof(t=(0,je.m9)(t))){if(""===t)throw new Ht(wt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Au(e)&&-1!==t.indexOf("/"))throw new Ht(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(kr.fromString(t));if(!D.isDocumentKey(o))throw new Ht(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return un(r,new D(o))}if(t instanceof oo)return un(r,t._key);throw new Ht(wt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ma(t)}.`)}function bv(r,e){if(!Array.isArray(r)||0===r.length)throw new Ht(wt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wv(r,e){if(e.isInequality()){const o=Nc(r),l=e.field;if(null!==o&&!o.isEqual(l))throw new Ht(wt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${l.toString()}'`);const u=bp(r);null!==u&&F_(0,l,u)}const t=function(o,l){for(const u of o)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ht(wt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function F_(r,e,t){if(!t.isEqual(e))throw new Ht(wt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class _g{convertValue(e,t="none"){switch(S(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Si(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Sn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const o={};return eo(e,(l,u)=>{o[l]=this.convertValue(u,t)}),o}convertGeoPoint(e){return new ud(Si(e.latitude),Si(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=Iu(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Eu(e));default:return null}}convertTimestamp(e){const t=Va(e);return new $i(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=kr.fromString(e);_n(zd(o));const l=new il(o.get(1),o.get(3)),u=new D(o.popFirst(5));return l.isEqual(t)||Li(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function np(r,e,t){let o;return o=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,o}class Cv extends _g{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ll(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new oo(this.firestore,null,t)}}class au{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bl extends Jf{constructor(e,t,o,l,u,f){super(e,t,o,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Th("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Rh extends Bl{data(e={}){return super.data(e)}}class pl{constructor(e,t,o,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new au(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Rh(this._firestore,this._userDataWriter,o.key,o,new au(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ht(wt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(f=>({type:"added",doc:new Rh(o._firestore,o._userDataWriter,f.doc.key,f.doc,new au(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:u++}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>l||3!==f.type).map(f=>{const C=new Rh(o._firestore,o._userDataWriter,f.doc.key,f.doc,new au(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let O=-1,B=-1;return 0!==f.type&&(O=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),1!==f.type&&(u=u.add(f.doc),B=u.indexOf(f.doc.key)),{type:lu(f.type),doc:C,oldIndex:O,newIndex:B}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function lu(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Sn()}}function $_(r,e){return r instanceof Bl&&e instanceof Bl?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof pl&&e instanceof pl&&r._firestore===e._firestore&&nu(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}class Vl extends _g{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ll(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new oo(this.firestore,null,t)}}function LE(r,e,t){r=jr(r,oo);const o=jr(r.firestore,vo),l=np(r.converter,e,t);return fd(o,[hg(dd(o),"setDoc",r._key,l,null!==r.converter,t).toMutation(r._key,Ki.none())])}function B_(r,e,t,...o){r=jr(r,oo);const l=jr(r.firestore,vo),u=dd(l);let f;return f="string"==typeof(e=(0,je.m9)(e))||e instanceof fl?Qf(u,"updateDoc",r._key,e,t,o):mv(u,"updateDoc",r._key,e),fd(l,[f.toMutation(r._key,Ki.exists(!0))])}function U_(r,...e){var t,o,l;r=(0,je.m9)(r);let u={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||ru(e[f])||(u=e[f],f++);const C={includeMetadataChanges:u.includeMetadataChanges};if(ru(e[f])){const Ce=e[f];e[f]=null===(t=Ce.next)||void 0===t?void 0:t.bind(Ce),e[f+1]=null===(o=Ce.error)||void 0===o?void 0:o.bind(Ce),e[f+2]=null===(l=Ce.complete)||void 0===l?void 0:l.bind(Ce)}let O,B,Y;if(r instanceof oo)B=jr(r.firestore,vo),Y=Ha(r._key.path),O={next:Ce=>{e[f]&&e[f](Av(B,r,Ce))},error:e[f+1],complete:e[f+2]};else{const Ce=jr(r,Ho);B=jr(Ce.firestore,vo),Y=Ce._query;const it=new Vl(B);O={next:yt=>{e[f]&&e[f](new pl(B,it,Ce,yt))},error:e[f+1],complete:e[f+2]},O_(r._query)}return function(Ce,it,yt,Ut){const fn=new ag(Ut),cn=new jf(it,fn,yt);return Ce.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return hh(yield Eh(Ce),cn)})),()=>{fn.Dc(),Ce.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return Vf(yield Eh(Ce),cn)}))}}(zo(B),Y,C,O)}function fd(r,e){return function(t,o){const l=new Eo;return t.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return function iE(r,e,t){return Jy.apply(this,arguments)}(yield Ih(t),o,l)})),l.promise}(zo(r),e)}function Av(r,e,t){const o=t.docs.get(e._key),l=new Vl(r);return new Bl(r,l,e._key,o,new au(t.hasPendingWrites,t.fromCache),e.converter)}const Ul={maxAttempts:5};class Y_{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=dd(e)}set(e,t,o){this._verifyNotCommitted();const l=cu(e,this._firestore),u=np(l.converter,t,o),f=hg(this._dataReader,"WriteBatch.set",l._key,u,null!==l.converter,o);return this._mutations.push(f.toMutation(l._key,Ki.none())),this}update(e,t,o,...l){this._verifyNotCommitted();const u=cu(e,this._firestore);let f;return f="string"==typeof(t=(0,je.m9)(t))||t instanceof fl?Qf(this._dataReader,"WriteBatch.update",u._key,t,o,l):mv(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(f.toMutation(u._key,Ki.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=cu(e,this._firestore);return this._mutations=this._mutations.concat(new J(t._key,Ki.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ht(wt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cu(r,e){if((r=(0,je.m9)(r)).firestore!==e)throw new Ht(wt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class jl extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=dd(e)}get(e){const t=cu(e,this._firestore),o=new Cv(this._firestore);return this._transaction.lookup([t._key]).then(l=>{if(!l||1!==l.length)return Sn();const u=l[0];if(u.isFoundDocument())return new Jf(this._firestore,o,u.key,u,t.converter);if(u.isNoDocument())return new Jf(this._firestore,o,t._key,null,t.converter);throw Sn()})}set(e,t,o){const l=cu(e,this._firestore),u=np(l.converter,t,o),f=hg(this._dataReader,"Transaction.set",l._key,u,null!==l.converter,o);return this._transaction.set(l._key,f),this}update(e,t,o,...l){const u=cu(e,this._firestore);let f;return f="string"==typeof(t=(0,je.m9)(t))||t instanceof fl?Qf(this._dataReader,"Transaction.update",u._key,t,o,l):mv(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,f),this}delete(e){const t=cu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=cu(e,this._firestore),o=new Vl(this._firestore);return super.get(e).then(l=>new Bl(this._firestore,o,t._key,l._document,new au(!1,!1),t.converter))}}function Eg(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ht("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function X_(){if(typeof Uint8Array>"u")throw new Ht("unimplemented","Uint8Arrays are not available in this environment.")}function Q_(){if(!function wa(){return typeof atob<"u"}())throw new Ht("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,e=!0){tl=me.SDK_VERSION,(0,me._registerComponent)(new Be.wA("firestore",(t,{instanceIdentifier:o,options:l})=>{const u=t.getProvider("app").getImmediate(),f=new vo(new _a(t.getProvider("auth-internal")),new wd(t.getProvider("app-check-internal")),function(C,O){if(!Object.prototype.hasOwnProperty.apply(C.options,["projectId"]))throw new Ht(wt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new il(C.options.projectId,O)}(u,o),u);return l=Object.assign({useFetchStreams:e},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),(0,me.registerVersion)(el,"3.13.0",r),(0,me.registerVersion)(el,"3.13.0","esm2017")}();class Ph{constructor(e){this._delegate=e}static fromBase64String(e){return Q_(),new Ph(Ll.fromBase64String(e))}static fromUint8Array(e){return X_(),new Ph(Ll.fromUint8Array(e))}toBase64(){return Q_(),this._delegate.toBase64()}toUint8Array(){return X_(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function bg(r){return function wg(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(r,["next","error","complete"])}class zE{enableIndexedDbPersistence(e,t){return function w_(r,e){wE(r=jr(r,vo));const t=zo(r);if(t._uninitializedComponentsProvider)throw new Ht(wt.FAILED_PRECONDITION,"SDK cache is already specified.");Yr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=r._freezeSettings(),l=new ad;return ug(t,l,new nv(l,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function D_(r){wE(r=jr(r,vo));const e=zo(r);if(e._uninitializedComponentsProvider)throw new Ht(wt.FAILED_PRECONDITION,"SDK cache is already specified.");Yr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings(),o=new ad;return ug(e,o,new rv(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function IE(r){if(r._initialized&&!r._terminated)throw new Ht(wt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Eo;return r._queue.enqueueAndForgetEvenWhileRestricted((0,Z.Z)(function*(){try{yield(t=(0,Z.Z)(function*(o){if(!bo.D())return Promise.resolve();const l=o+"main";yield bo.delete(l)}),function(o){return t.apply(this,arguments)})(Zc(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Mv{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof il||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Yr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function xa(r,e,t,o={}){var l;const u=(r=jr(r,tu))._getSettings(),f=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==f&&Yr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:f,ssl:!1})),o.mockUserToken){let C,O;if("string"==typeof o.mockUserToken)C=o.mockUserToken,O=si.MOCK_USER;else{C=(0,je.Sg)(o.mockUserToken,null===(l=r._app)||void 0===l?void 0:l.options.projectId);const B=o.mockUserToken.sub||o.mockUserToken.user_id;if(!B)throw new Ht(wt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");O=new si(B)}r._authCredentials=new Yl(new Fo(C,O))}}(this._delegate,e,t,o)}enableNetwork(){return function xw(r){return function fE(r){return r.asyncQueue.enqueue((0,Z.Z)(function*(){const e=yield uv(r),t=yield f_(r);return e.setNetworkEnabled(!0),function(o){const l=wn(o);return l.vu.delete(0),Gp(l)}(t)}))}(zo(r=jr(r,vo)))}(this._delegate)}disableNetwork(){return function EE(r){return function pE(r){return r.asyncQueue.enqueue((0,Z.Z)(function*(){const e=yield uv(r),t=yield f_(r);return e.setNetworkEnabled(!1),(o=(0,Z.Z)(function*(l){const u=wn(l);u.vu.add(0),yield td(u),u.bu.set("Offline")}),function(l){return o.apply(this,arguments)})(t);var o}))}(zo(r=jr(r,vo)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,__("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Mw(r){return function(e){const t=new Eo;return e.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return function aE(r,e){return Zm.apply(this,arguments)}(yield Ih(e),t)})),t.promise}(zo(r=jr(r,vo)))}(this._delegate)}onSnapshotsInSync(e){return function fs(r,e){return function mE(r,e){const t=new ag(e);return r.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return o=yield Eh(r),l=t,wn(o).ku.add(l),void l.next();var o,l})),()=>{t.Dc(),r.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return o=yield Eh(r),l=t,void wn(o).ku.delete(l);var o,l}))}}(zo(r=jr(r,vo)),ru(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ht("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Fh(this,ld(this._delegate,e))}catch(t){throw Bs(t,"collection()","Firestore.collection()")}}doc(e){try{return new ta(this,yc(this._delegate,e))}catch(t){throw Bs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Vs(this,function bh(r,e){if(r=jr(r,tu),fv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ht(wt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ho(r,null,(t=e,new ol(kr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Bs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function gl(r,e,t){r=jr(r,vo);const o=Object.assign(Object.assign({},Ul),t);return function(l){if(l.maxAttempts<1)throw new Ht(wt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(l,u,f){const C=new Eo;return l.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){const O=yield function p_(r){return lg(r).then(e=>e.datastore)}(l);new dE(l.asyncQueue,O,f,u,C).run()})),C.promise}(zo(r),l=>e(new jl(r,l)),o)}(this._delegate,t=>e(new e0(this,t)))}batch(){return zo(this._delegate),new t0(new Y_(this._delegate,e=>fd(this._delegate,e)))}loadBundle(e){return function Ow(r,e){const t=zo(r=jr(r,vo)),o=new E_;return function Aw(r,e,t,o){const l=function(u,f){let C;return C="string"==typeof u?Uu().encode(u):u,O=function(O,B){if(O instanceof Uint8Array)return yh(O,B);if(O instanceof ArrayBuffer)return yh(new Uint8Array(O),B);if(O instanceof ReadableStream)return O.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(C),new u_(O,f);var O}(t,Hp(e));r.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){!function c_(r,e,t){const o=wn(r);var l;(l=(0,Z.Z)(function*(u,f,C){try{const O=yield f.getMetadata();if(yield function(it,yt){const Ut=wn(it),fn=jo(yt.createTime);return Ut.persistence.runTransaction("hasNewerBundle","readonly",cn=>Ut.qs.getBundleMetadata(cn,yt.id)).then(cn=>!!cn&&cn.createTime.compareTo(fn)>=0)}(u.localStore,O))return yield f.close(),C._completeWith({taskState:"Success",documentsLoaded:(it=O).totalDocuments,bytesLoaded:it.totalBytes,totalDocuments:it.totalDocuments,totalBytes:it.totalBytes}),Promise.resolve(new Set);C._updateProgress(Ky(O));const B=new eE(O,u.localStore,f.serializer);let Y=yield f.bc();for(;Y;){const it=yield B.zu(Y);it&&C._updateProgress(it),Y=yield f.bc()}const Ce=yield B.complete();return yield mc(u,Ce.Ju,void 0),yield function(it,yt){const Ut=wn(it);return Ut.persistence.runTransaction("Save bundle","readwrite",fn=>Ut.qs.saveBundleMetadata(fn,yt))}(u.localStore,O),C._completeWith(Ce.progress),Promise.resolve(Ce.Hu)}catch(O){return Yr("SyncEngine",`Loading bundle failed with ${O}`),C._failWith(O),Promise.resolve(new Set)}var it}),function(u,f,C){return l.apply(this,arguments)})(o,e,t).then(l=>{o.sharedClientState.notifyBundleLoaded(l)})}(yield Ih(r),l,o)}))}(t,r._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function bE(r,e){return function v_(r,e){return r.asyncQueue.enqueue((0,Z.Z)(function*(){return function(t,o){const l=wn(t);return l.persistence.runTransaction("Get named query","readonly",u=>l.qs.getNamedQuery(u,o))}(yield _h(r),e)}))}(zo(r=jr(r,vo)),e).then(t=>t?new Ho(r,null,t.query):null)}(this._delegate,e).then(t=>t?new Vs(this,t):null)}}class ip extends _g{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ph(new Ll(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ta.forKey(t,this.firestore,null)}}class e0{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ip(e)}get(e){const t=pd(e);return this._delegate.get(t).then(o=>new Nh(this._firestore,new Bl(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const l=pd(e);return o?(Eg("Transaction.set",o),this._delegate.set(l,t,o)):this._delegate.set(l,t),this}update(e,t,o,...l){const u=pd(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,o,...l),this}delete(e){const t=pd(e);return this._delegate.delete(t),this}}class t0{constructor(e){this._delegate=e}set(e,t,o){const l=pd(e);return o?(Eg("WriteBatch.set",o),this._delegate.set(l,t,o)):this._delegate.set(l,t),this}update(e,t,o,...l){const u=pd(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,o,...l),this}delete(e){const t=pd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class uu{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new Rh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new kh(this._firestore,o),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=uu.INSTANCES;let l=o.get(e);l||(l=new WeakMap,o.set(e,l));let u=l.get(t);return u||(u=new uu(e,new ip(e),t),l.set(t,u)),u}}uu.INSTANCES=new WeakMap;class ta{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ip(e)}static forPath(e,t,o){if(e.length%2!=0)throw new Ht("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ta(t,new oo(t._delegate,o,new D(e)))}static forKey(e,t,o){return new ta(t,new oo(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Fh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Fh(this.firestore,ld(this._delegate,e))}catch(t){throw Bs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,je.m9)(e))instanceof oo&&cd(this._delegate,e)}set(e,t){t=Eg("DocumentReference.set",t);try{return t?LE(this._delegate,e,t):LE(this._delegate,e)}catch(o){throw Bs(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?B_(this._delegate,e):B_(this._delegate,e,t,...o)}catch(l){throw Bs(l,"updateDoc()","DocumentReference.update()")}}delete(){return function $E(r){return fd(jr(r.firestore,vo),[new J(r._key,Ki.none())])}(this._delegate)}onSnapshot(...e){const t=xv(e),o=Rv(e,l=>new Nh(this.firestore,new Bl(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return U_(this._delegate,t,o)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function hd(r){r=jr(r,oo);const e=jr(r.firestore,vo),t=zo(e),o=new Vl(e);return function gE(r,e){const t=new Eo;return r.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return(o=(0,Z.Z)(function*(l,u,f){try{const C=yield function(O,B){const Y=wn(O);return Y.persistence.runTransaction("read document","readonly",Ce=>Y.localDocuments.getDocument(Ce,B))}(l,u);C.isFoundDocument()?f.resolve(C):C.isNoDocument()?f.resolve(null):f.reject(new Ht(wt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(C){const O=yr(C,`Failed to get document '${u} from cache`);f.reject(O)}}),function(l,u,f){return o.apply(this,arguments)})(yield _h(r),e,t);var o})),t.promise}(t,r._key).then(l=>new Bl(e,o,r._key,l,new au(null!==l&&l.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Tv(r){r=jr(r,oo);const e=jr(r.firestore,vo);return g_(zo(e),r._key,{source:"server"}).then(t=>Av(e,r,t))}(this._delegate):function kE(r){r=jr(r,oo);const e=jr(r.firestore,vo);return g_(zo(e),r._key).then(t=>Av(e,r,t))}(this._delegate),t.then(o=>new Nh(this.firestore,new Bl(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new ta(this.firestore,this._delegate.withConverter(e?uu.getInstance(this.firestore,e):null))}}function Bs(r,e,t){return r.message=r.message.replace(e,t),r}function xv(r){for(const e of r)if("object"==typeof e&&!bg(e))return e;return{}}function Rv(r,e){var t,o;let l;return l=bg(r[0])?r[0]:bg(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:u=>{l.next&&l.next(e(u))},error:null===(t=l.error)||void 0===t?void 0:t.bind(l),complete:null===(o=l.complete)||void 0===o?void 0:o.bind(l)}}class Nh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ta(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return $_(this._delegate,e._delegate)}}class kh extends Nh{data(e){const t=this._delegate.data(e);return function ya(r,e){r||Sn()}(void 0!==t),t}}class Vs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ip(e)}where(e,t,o){try{return new Vs(this.firestore,$l(this._delegate,function SE(r,e,t){const o=e,l=Th("where",r);return Ah._create(l,o,t)}(e,t,o)))}catch(l){throw Bs(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Vs(this.firestore,$l(this._delegate,function yv(r,e="asc"){const t=e,o=Th("orderBy",r);return ep._create(o,t)}(e,t)))}catch(o){throw Bs(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Vs(this.firestore,$l(this._delegate,function AE(r){return xs("limit",r),tp._create("limit",r,"F")}(e)))}catch(t){throw Bs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Vs(this.firestore,$l(this._delegate,function ME(r){return xs("limitToLast",r),tp._create("limitToLast",r,"L")}(e)))}catch(t){throw Bs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Vs(this.firestore,$l(this._delegate,function _v(...r){return yg._create("startAt",r,!0)}(...e)))}catch(t){throw Bs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Vs(this.firestore,$l(this._delegate,function N_(...r){return yg._create("startAfter",r,!1)}(...e)))}catch(t){throw Bs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Vs(this.firestore,$l(this._delegate,function k_(...r){return xh._create("endBefore",r,!1)}(...e)))}catch(t){throw Bs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Vs(this.firestore,$l(this._delegate,function xE(...r){return xh._create("endAt",r,!0)}(...e)))}catch(t){throw Bs(t,"endAt()","Query.endAt()")}}isEqual(e){return nu(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Sv(r){r=jr(r,Ho);const e=jr(r.firestore,vo),t=zo(e),o=new Vl(e);return function m_(r,e){const t=new Eo;return r.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return(o=(0,Z.Z)(function*(l,u,f){try{const C=yield Lp(l,u,!0),O=new Xy(u,C.ir),B=O.sc(C.documents),Y=O.applyChanges(B,!1);f.resolve(Y.snapshot)}catch(C){const O=yr(C,`Failed to execute query '${u} against cache`);f.reject(O)}}),function(l,u,f){return o.apply(this,arguments)})(yield _h(r),e,t);var o})),t.promise}(t,r._query).then(l=>new pl(e,o,r,l))}(this._delegate):"server"===(null==e?void 0:e.source)?function kw(r){r=jr(r,Ho);const e=jr(r.firestore,vo),t=zo(e),o=new Vl(e);return hv(t,r._query,{source:"server"}).then(l=>new pl(e,o,r,l))}(this._delegate):function FE(r){r=jr(r,Ho);const e=jr(r.firestore,vo),t=zo(e),o=new Vl(e);return O_(r._query),hv(t,r._query).then(l=>new pl(e,o,r,l))}(this._delegate),t.then(o=>new Dg(this.firestore,new pl(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=xv(e),o=Rv(e,l=>new Dg(this.firestore,new pl(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return U_(this._delegate,t,o)}withConverter(e){return new Vs(this.firestore,this._delegate.withConverter(e?uu.getInstance(this.firestore,e):null))}}class n0{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new kh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Dg{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Vs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new kh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new n0(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new kh(this._firestore,o))})}isEqual(e){return $_(this._delegate,e._delegate)}}class Fh extends Vs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ta(this.firestore,e):null}doc(e){try{return new ta(this.firestore,void 0===e?yc(this._delegate):yc(this._delegate,e))}catch(t){throw Bs(t,"doc()","CollectionReference.doc()")}}add(e){return function V_(r,e){const t=jr(r.firestore,vo),o=yc(r),l=np(r.converter,e);return fd(t,[hg(dd(r.firestore),"addDoc",o._key,l,null!==r.converter,{}).toMutation(o._key,Ki.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new ta(this.firestore,t))}isEqual(e){return cd(this._delegate,e._delegate)}withConverter(e){return new Fh(this.firestore,this._delegate.withConverter(e?uu.getInstance(this.firestore,e):null))}}function pd(r){return jr(r,oo)}class Ov{constructor(...e){this._delegate=new fl(...e)}static documentId(){return new Ov(b.keyField().canonicalString())}isEqual(e){return(e=(0,je.m9)(e))instanceof fl&&this._delegate._internalPath.isEqual(e._internalPath)}}class gd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function K_(){return new Dh("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new gd(e)}static delete(){const e=function ml(){return new Xf("deleteField")}();return e._methodName="FieldValue.delete",new gd(e)}static arrayUnion(...e){const t=function Z_(...r){return new pg("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new gd(t)}static arrayRemove(...e){const t=function UE(...r){return new Pw("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new gd(t)}static increment(e){const t=function jE(r){return new TE("increment",r)}(e);return t._methodName="FieldValue.increment",new gd(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const GE={Firestore:Mv,GeoPoint:ud,Timestamp:$i,Blob:Ph,Transaction:e0,WriteBatch:t0,DocumentReference:ta,DocumentSnapshot:Nh,Query:Vs,QueryDocumentSnapshot:kh,QuerySnapshot:Dg,CollectionReference:Fh,FieldPath:Ov,FieldValue:gd,setLogLevel:function J_(r){!function Br(r){ai.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function qE(r){(function WE(r,e){r.INTERNAL.registerComponent(new Be.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),l=t.getProvider("firestore").getImmediate();return e(o,l)},"PUBLIC").setServiceProps(Object.assign({},GE)))})(r,(e,t)=>new Mv(e,t,new zE)),r.registerVersion("@firebase/firestore-compat","0.3.12")}(be.Z);var r0=N(14),o0=N(120);function s0(r,e){return function YE(r,e=oe.z){return new Me.y(t=>{let o;return null!=e?e.schedule(()=>{o=r.onSnapshot({includeMetadataChanges:!0},t)}):o=r.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=o&&o()}})}(r,e)}function Pv(r,e){return s0(r,e).pipe((0,ut.U)(t=>({payload:t,type:"query"})))}function Cg(r,e){return Pv(r,e).pipe((0,lt.O)(void 0),et(),(0,ut.U)(([t,o])=>{const l=o.payload.docChanges(),u=l.map(f=>({type:f.type,payload:f}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((f,C)=>{const O=l.find(Y=>Y.doc.ref.isEqual(f.ref)),B=null==t?void 0:t.payload.docs.find(Y=>Y.ref.isEqual(f.ref));O&&JSON.stringify(O.doc.metadata)===JSON.stringify(f.metadata)||!O&&B&&JSON.stringify(B.metadata)===JSON.stringify(f.metadata)||u.push({type:"modified",payload:{oldIndex:C,newIndex:C,type:"modified",doc:f}})}),u}))}function a0(r,e,t){return Cg(r,t).pipe((0,Qe.R)((o,l)=>function ZE(r,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(r=function XE(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return Nv(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Nv(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Nv(r,e.oldIndex,1)}return r}(r,o))}),r}(o,l.map(u=>u.payload),e),[]),(0,we.x)(),(0,ut.U)(o=>o.map(l=>({type:l.type,payload:l}))))}function Nv(r,e,t,...o){const l=r.slice();return l.splice(e,t,...o),l}function kv(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class Fv{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=Cg(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ut.U)(o=>o.filter(l=>e.indexOf(l.type)>-1)))),t.pipe((0,lt.O)(void 0),et(),(0,ke.h)(([o,l])=>l.length>0||!o),(0,ut.U)(([o,l])=>l),$e.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Qe.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=kv(e);return a0(this.query,t,this.afs.schedulers.outsideAngular).pipe($e.iC)}valueChanges(e={}){return Pv(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),$e.iC)}get(e){return(0,Ee.D)(this.query.get(e)).pipe($e.iC)}add(e){return this.ref.add(e)}doc(e){return new Lv(this.ref.doc(e),this.afs)}}class Lv{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:l,query:u}=Vv(o,t);return new Fv(l,u,this.afs)}snapshotChanges(){return function KE(r,e){return s0(r,e).pipe((0,lt.O)(void 0),et(),(0,ut.U)(([t,o])=>o.exists?null!=t&&t.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe($e.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ut.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ee.D)(this.ref.get(e)).pipe($e.iC)}}class l0{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Cg(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,ke.h)(t=>t.length>0),$e.iC):Cg(this.query,this.afs.schedulers.outsideAngular).pipe($e.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Qe.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=kv(e);return a0(this.query,t,this.afs.schedulers.outsideAngular).pipe($e.iC)}valueChanges(e={}){return Pv(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(o=>o.payload.docs.map(l=>e.idField?Object.assign({[e.idField]:l.id},l.data()):l.data())),$e.iC)}get(e){return(0,Ee.D)(this.query.get(e)).pipe($e.iC)}}const $v=new g.OlP("angularfire2.enableFirestorePersistence"),Bv=new g.OlP("angularfire2.firestore.persistenceSettings"),c0=new g.OlP("angularfire2.firestore.settings"),u0=new g.OlP("angularfire2.firestore.use-emulator");function Vv(r,e=(t=>t)){return{query:e(r),ref:r}}let d0=(()=>{class r{constructor(t,o,l,u,f,C,O,B,Y,Ce,it,yt,Ut,fn,cn,sr,Sr){this.schedulers=O;const Xn=(0,Ne.on)(t,C,o),Fr=Y;Ce&&(0,he.nw)(Xn,C,it,Ut,fn,cn,yt,sr),[this.firestore,this.persistenceEnabled$]=(0,Ne.cc)(`${Xn.name}.firestore`,"AngularFirestore",Xn.name,()=>{const Ii=C.runOutsideAngular(()=>Xn.firestore());if(u&&Ii.settings(u),Fr&&Ii.useEmulator(...Fr),l&&!(0,Te.PM)(f)){const li=()=>{try{return(0,Ee.D)(Ii.enablePersistence(B||void 0).then(()=>!0,()=>!1))}catch(ts){return typeof console<"u"&&console.warn(ts),(0,Re.of)(!1)}};return[Ii,C.runOutsideAngular(li)]}return[Ii,(0,Re.of)(!1)]},[u,Fr,l])}collection(t,o){let l;l="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:f}=Vv(l,o),C=this.schedulers.ngZone.run(()=>u);return new Fv(C,f,this)}collectionGroup(t,o){const l=o||(f=>f),u=this.firestore.collectionGroup(t);return new l0(l(u),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const l=this.schedulers.ngZone.run(()=>o);return new Lv(l,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(g.LFG(Ne.Dh),g.LFG(Ne.xv,8),g.LFG($v,8),g.LFG(c0,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG($e.HU),g.LFG(Bv,8),g.LFG(u0,8),g.LFG(he.zQ,8),g.LFG(he.Qv,8),g.LFG(he.L6,8),g.LFG(he._Q,8),g.LFG(he.rT,8),g.LFG(he.lh,8),g.LFG(he.f7,8),g.LFG(r0.nm,8))},r.\u0275prov=g.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),h0=(()=>{class r{constructor(){o0.Z.registerVersion("angularfire",$e.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:r,providers:[{provide:$v,useValue:!0},{provide:Bv,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=g.oAB({type:r}),r.\u0275inj=g.cJS({providers:[d0]}),r})();var f0=N(4664),ps=N(4303);class Lh{constructor(e,t){this._delegate=e,this.firebase=t,(0,ps._addComponent)(e,new Be.wA("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ps.deleteApp)(this._delegate)))}_getService(e,t=ps._DEFAULT_ENTRY_NAME){var o;this._delegate.checkDestroyed();const l=this._delegate.container.getProvider(e);return!l.isInitialized()&&"EXPLICIT"===(null===(o=l.getComponent())||void 0===o?void 0:o.instantiationMode)&&l.initialize(),l.getImmediate({identifier:t})}_removeServiceInstance(e,t=ps._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,ps._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,ps._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Tg=new je.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),p0=function Uv(){const r=function zw(r){const e={},t={__esModule:!0,initializeApp:function u(B,Y={}){const Ce=ps.initializeApp(B,Y);if((0,je.r3)(e,Ce.name))return e[Ce.name];const it=new r(Ce,t);return e[Ce.name]=it,it},app:l,registerVersion:ps.registerVersion,setLogLevel:ps.setLogLevel,onLog:ps.onLog,apps:null,SDK_VERSION:ps.SDK_VERSION,INTERNAL:{registerComponent:function C(B){const Y=B.name,Ce=Y.replace("-compat","");if(ps._registerComponent(B)&&"PUBLIC"===B.type){const it=(yt=l())=>{if("function"!=typeof yt[Ce])throw Tg.create("invalid-app-argument",{appName:Y});return yt[Ce]()};void 0!==B.serviceProps&&(0,je.ZB)(it,B.serviceProps),t[Ce]=it,r.prototype[Ce]=function(...yt){return this._getService.bind(this,Y).apply(this,B.multipleInstances?yt:[])}}return"PUBLIC"===B.type?t[Ce]:null},removeApp:function o(B){delete e[B]},useAsService:function O(B,Y){return"serverAuth"===Y?null:Y},modularAPIs:ps}};function l(B){if(!(0,je.r3)(e,B=B||ps._DEFAULT_ENTRY_NAME))throw Tg.create("no-app",{appName:B});return e[B]}return t.default=t,Object.defineProperty(t,"apps",{get:function f(){return Object.keys(e).map(B=>e[B])}}),l.App=r,t}(Lh);return r.INTERNAL=Object.assign(Object.assign({},r.INTERNAL),{createFirebaseNamespace:Uv,extendNamespace:function e(t){(0,je.ZB)(r,t)},createSubscribe:je.ne,ErrorFactory:je.LL,deepExtend:je.ZB}),r}(),QE=new Je.Yd("@firebase/app-compat");if((0,je.jU)()&&void 0!==self.firebase){QE.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const r=self.firebase.SDK_VERSION;r&&r.indexOf("LITE")>=0&&QE.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const tb=p0;!function eb(r){(0,ps.registerVersion)("@firebase/app-compat","0.2.18",r)}();const vd="firebasestorage.googleapis.com",g0="storageBucket";class Go extends je.ZR{constructor(e,t,o=0){super(Mg(e),`Firebase Storage: ${t} (${Mg(e)})`),this.status_=o,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Go.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Mg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Do=function(r){return r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment",r}(Do||{});function Mg(r){return"storage/"+r}function jv(){return new Go(Do.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function I0(){return new Go(Do.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function E0(){return new Go(Do.CANCELED,"User canceled the upload/download.")}function b0(){return new Go(Do.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function yd(r){return new Go(Do.INVALID_ARGUMENT,r)}function C0(){return new Go(Do.APP_DELETED,"The Firebase app was deleted.")}function Bh(r){return new Go(Do.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ic(r,e){return new Go(Do.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function sp(r){throw new Go(Do.INTERNAL_ERROR,"Internal error: "+r)}class Us{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let o;try{o=Us.makeFromUrl(e,t)}catch{return new Us(e,"")}if(""===o.path)return o;throw function rb(r){return new Go(Do.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}(e)}static makeFromUrl(e,t){let o=null;const l="([A-Za-z0-9.\\-_]+)",C=new RegExp("^gs://"+l+"(/(.*))?$","i");function B(Fr){Fr.path_=decodeURIComponent(Fr.path)}const Ce=t.replace(/[.]/g,"\\."),Xn=[{regex:C,indices:{bucket:1,path:3},postModify:function u(Fr){"/"===Fr.path.charAt(Fr.path.length-1)&&(Fr.path_=Fr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Ce}/v[A-Za-z0-9_]+/b/${l}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:B},{regex:new RegExp(`^https?://${t===vd?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${l}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:B}];for(let Fr=0;Fr<Xn.length;Fr++){const Ii=Xn[Fr],li=Ii.regex.exec(e);if(li){let Oa=li[Ii.indices.path];Oa||(Oa=""),o=new Us(li[Ii.indices.bucket],Oa),Ii.postModify(o);break}}if(null==o)throw function op(r){return new Go(Do.INVALID_URL,"Invalid URL '"+r+"'.")}(e);return o}}class ob{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Rg(r){return"string"==typeof r||r instanceof String}function x0(r){return R0()&&r instanceof Blob}function R0(){return typeof Blob<"u"&&!(0,je.UG)()}function O0(r,e,t,o){if(o<e)throw yd(`Invalid value for '${r}'. Expected ${e} or greater.`);if(o>t)throw yd(`Invalid value for '${r}'. Expected ${t} or less.`)}function du(r,e,t){let o=e;return null==t&&(o=`https://${e}`),`${t}://${o}/v0${r}`}function ab(r){const e=encodeURIComponent;let t="?";for(const o in r)r.hasOwnProperty(o)&&(t=t+(e(o)+"=")+e(r[o])+"&");return t=t.slice(0,-1),t}var _d=function(r){return r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT",r}(_d||{});function ap(r,e){const t=r>=500&&r<600,l=-1!==[408,429].indexOf(r),u=-1!==e.indexOf(r);return t||l||u}class lb{constructor(e,t,o,l,u,f,C,O,B,Y,Ce,it=!0){this.url_=e,this.method_=t,this.headers_=o,this.body_=l,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=C,this.errorCallback_=O,this.timeout_=B,this.progressCallback_=Y,this.connectionFactory_=Ce,this.retry=it,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((yt,Ut)=>{this.resolve_=yt,this.reject_=Ut,this.start_()})}start_(){const t=(o,l)=>{const u=this.resolve_,f=this.reject_,C=l.connection;if(l.wasSuccessCode)try{const O=this.callback_(C,C.getResponse());!function A0(r){return void 0!==r}(O)?u():u(O)}catch(O){f(O)}else if(null!==C){const O=jv();O.serverResponse=C.getErrorText(),f(this.errorCallback_?this.errorCallback_(C,O):O)}else f(l.canceled?this.appDelete_?C0():E0():I0())};this.canceled_?t(0,new Og(!1,null,!0)):this.backoffId_=function T0(r,e,t){let o=1,l=null,u=null,f=!1,C=0;function O(){return 2===C}let B=!1;function Y(...cn){B||(B=!0,e.apply(null,cn))}function Ce(cn){l=setTimeout(()=>{l=null,r(yt,O())},cn)}function it(){u&&clearTimeout(u)}function yt(cn,...sr){if(B)return void it();if(cn)return it(),void Y.call(null,cn,...sr);if(O()||f)return it(),void Y.call(null,cn,...sr);let Xn;o<64&&(o*=2),1===C?(C=2,Xn=0):Xn=1e3*(o+Math.random()),Ce(Xn)}let Ut=!1;function fn(cn){Ut||(Ut=!0,it(),!B&&(null!==l?(cn||(C=2),clearTimeout(l),Ce(0)):cn||(C=1)))}return Ce(0),u=setTimeout(()=>{f=!0,fn(!0)},t),fn}((o,l)=>{if(l)return void o(!1,new Og(!1,null,!0));const u=this.connectionFactory_();this.pendingConnection_=u;const f=C=>{null!==this.progressCallback_&&this.progressCallback_(C.loaded,C.lengthComputable?C.total:-1)};null!==this.progressCallback_&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const C=u.getErrorCode()===_d.NO_ERROR,O=u.getStatus();if(!C||ap(O,this.additionalRetryCodes_)&&this.retry){const Y=u.getErrorCode()===_d.ABORT;return void o(!1,new Og(!1,null,Y))}const B=-1!==this.successCodes_.indexOf(O);o(!0,new Og(B,u))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function S0(r){r(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Og{constructor(e,t,o){this.wasSuccessCode=e,this.connection=t,this.canceled=!!o}}function Gw(...r){const e=function hb(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let o=0;o<r.length;o++)t.append(r[o]);return t.getBlob()}if(R0())return new Blob(r);throw new Go(Do.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ra={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Hv{constructor(e,t){this.data=e,this.contentType=t||null}}function Id(r,e){switch(r){case Ra.RAW:return new Hv(k0(e));case Ra.BASE64:case Ra.BASE64URL:return new Hv(L0(r,e));case Ra.DATA_URL:return new Hv(function pb(r){const e=new zv(r);return e.base64?L0(Ra.BASE64,e.rest):function F0(r){let e;try{e=decodeURIComponent(r)}catch{throw Ic(Ra.DATA_URL,"Malformed data URL.")}return k0(e)}(e.rest)}(e),function $0(r){return new zv(r).contentType}(e))}throw jv()}function k0(r){const e=[];for(let t=0;t<r.length;t++){let o=r.charCodeAt(t);o<=127?e.push(o):o<=2047?e.push(192|o>>6,128|63&o):55296==(64512&o)?t<r.length-1&&56320==(64512&r.charCodeAt(t+1))?(o=65536|(1023&o)<<10|1023&r.charCodeAt(++t),e.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|63&o)):e.push(239,191,189):56320==(64512&o)?e.push(239,191,189):e.push(224|o>>12,128|o>>6&63,128|63&o)}return new Uint8Array(e)}function L0(r,e){switch(r){case Ra.BASE64:{const l=-1!==e.indexOf("-"),u=-1!==e.indexOf("_");if(l||u)throw Ic(r,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case Ra.BASE64URL:{const l=-1!==e.indexOf("+"),u=-1!==e.indexOf("/");if(l||u)throw Ic(r,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function N0(r){if(typeof atob>"u")throw function D0(r){return new Go(Do.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(r)}(e)}catch(l){throw l.message.includes("polyfill")?l:Ic(r,"Invalid character found")}const o=new Uint8Array(t.length);for(let l=0;l<t.length;l++)o[l]=t.charCodeAt(l);return o}class zv{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Ic(Ra.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const o=t[1]||null;null!=o&&(this.base64=function gb(r,e){return r.length>=e.length&&r.substring(r.length-e.length)===e}(o,";base64"),this.contentType=this.base64?o.substring(0,o.length-7):o),this.rest=e.substring(e.indexOf(",")+1)}}class Wa{constructor(e,t){let o=0,l="";x0(e)?(this.data_=e,o=e.size,l=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),o=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),o=e.length),this.size_=o,this.type_=l}size(){return this.size_}type(){return this.type_}slice(e,t){if(x0(this.data_)){const l=function fb(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}(this.data_,e,t);return null===l?null:new Wa(l)}{const o=new Uint8Array(this.data_.buffer,e,t-e);return new Wa(o,!0)}}static getBlob(...e){if(R0()){const t=e.map(o=>o instanceof Wa?o.data_:o);return new Wa(Gw.apply(null,t))}{const t=e.map(f=>Rg(f)?Id(Ra.RAW,f).data:f.data_);let o=0;t.forEach(f=>{o+=f.byteLength});const l=new Uint8Array(o);let u=0;return t.forEach(f=>{for(let C=0;C<f.length;C++)l[u++]=f[C]}),new Wa(l,!0)}}uploadData(){return this.data_}}function Gv(r){let e;try{e=JSON.parse(r)}catch{return null}return function M0(r){return"object"==typeof r&&!Array.isArray(r)}(e)?e:null}function U0(r){const e=r.lastIndexOf("/",r.length-2);return-1===e?r:r.slice(e+1)}function mb(r,e){return e}class na{constructor(e,t,o,l){this.server=e,this.local=t||e,this.writable=!!o,this.xform=l||mb}}let Vh=null;function Uh(){if(Vh)return Vh;const r=[];r.push(new na("bucket")),r.push(new na("generation")),r.push(new na("metageneration")),r.push(new na("name","fullPath",!0));const t=new na("name");t.xform=function e(u,f){return function vb(r){return!Rg(r)||r.length<2?r:U0(r)}(f)},r.push(t);const l=new na("size");return l.xform=function o(u,f){return void 0!==f?Number(f):f},r.push(l),r.push(new na("timeCreated")),r.push(new na("updated")),r.push(new na("md5Hash",null,!0)),r.push(new na("cacheControl",null,!0)),r.push(new na("contentDisposition",null,!0)),r.push(new na("contentEncoding",null,!0)),r.push(new na("contentLanguage",null,!0)),r.push(new na("contentType",null,!0)),r.push(new na("metadata","customMetadata",!0)),Vh=r,Vh}function j0(r,e,t){const o=Gv(e);return null===o?null:function _b(r,e,t){const o={type:"file"},l=t.length;for(let u=0;u<l;u++){const f=t[u];o[f.local]=f.xform(o,e[f.server])}return function yb(r,e){Object.defineProperty(r,"ref",{get:function t(){const u=new Us(r.bucket,r.fullPath);return e._makeStorageReference(u)}})}(o,r),o}(r,o,t)}function Wv(r,e){const t={},o=e.length;for(let l=0;l<o;l++){const u=e[l];u.writable&&(t[u.server]=r[u.local])}return JSON.stringify(t)}const H0="prefixes",z0="items";class vl{constructor(e,t,o,l){this.url=e,this.method=t,this.handler=o,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Hl(r){if(!r)throw jv()}function Pg(r,e){return function t(o,l){const u=j0(r,l,e);return Hl(null!==u),u}}function jh(r){return function e(t,o){let l;return l=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function _0(){return new Go(Do.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function y0(){return new Go(Do.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function v0(r){return new Go(Do.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(r.bucket):403===t.getStatus()?function nb(r){return new Go(Do.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}(r.path):o,l.status=t.getStatus(),l.serverResponse=o.serverResponse,l}}function cp(r){const e=jh(r);return function t(o,l){let u=e(o,l);return 404===o.getStatus()&&(u=function m0(r){return new Go(Do.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}(r.path)),u.serverResponse=l.serverResponse,u}}function q0(r,e,t){const l=du(e.fullServerUrl(),r.host,r._protocol),f=r.maxOperationRetryTime,C=new vl(l,"GET",Pg(r,t),f);return C.errorHandler=cp(e),C}function qv(r,e,t,o,l){const u={};u.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(u.delimiter=t),o&&(u.pageToken=o),l&&(u.maxResults=l);const C=du(e.bucketOnlyServerUrl(),r.host,r._protocol),B=r.maxOperationRetryTime,Y=new vl(C,"GET",function W0(r,e){return function t(o,l){const u=function G0(r,e,t){const o=Gv(t);return null===o?null:function Eb(r,e,t){const o={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[H0])for(const l of t[H0]){const u=l.replace(/\/$/,""),f=r._makeStorageReference(new Us(e,u));o.prefixes.push(f)}if(t[z0])for(const l of t[z0]){const u=r._makeStorageReference(new Us(e,l.name));o.items.push(u)}return o}(r,e,o)}(r,e,l);return Hl(null!==u),u}}(r,e.bucket),B);return Y.urlParams=u,Y.errorHandler=jh(e),Y}function kg(r,e,t){const o=Object.assign({},t);return o.fullPath=r.path,o.size=e.size(),o.contentType||(o.contentType=function Db(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}(null,e)),o}class up{constructor(e,t,o,l){this.current=e,this.total=t,this.finalized=!!o,this.metadata=l||null}}function Ec(r,e){let t=null;try{t=r.getResponseHeader("X-Goog-Upload-Status")}catch{Hl(!1)}return Hl(!!t&&-1!==(e||["active"]).indexOf(t)),t}const Zv={STATE_CHANGED:"state_changed"},ra={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Fg(r){switch(r){case"running":case"pausing":case"canceling":return ra.RUNNING;case"paused":return ra.PAUSED;case"success":return ra.SUCCESS;case"canceled":return ra.CANCELED;default:return ra.ERROR}}class X0{constructor(e,t,o){if(function sb(r){return"function"==typeof r}(e)||null!=t||null!=o)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=o?o:void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function Hh(r){return(...e)=>{Promise.resolve().then(()=>r(...e))}}let Xv=null;class Qv{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_d.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=_d.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=_d.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,o,l){if(this.sent_)throw sp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==l)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return void 0!==o?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw sp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw sp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw sp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw sp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Q0 extends Qv{initXhr(){this.xhr_.responseType="text"}}function qa(){return Xv?Xv():new Q0}class tI{constructor(e,t,o=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=o,this._mappings=Uh(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=l=>{if(this._request=void 0,this._chunkMultiplier=1,l._codeEquals(Do.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(ap(l.status,[])){if(!u)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();l=I0()}this._error=l,this._transition("error")}},this._metadataErrorHandler=l=>{this._request=void 0,l._codeEquals(Do.CANCELED)?this.completeTransitions_():(this._error=l,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((l,u)=>{this._resolve=l,this._reject=u,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,o])=>{switch(this._state){case"running":e(t,o);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const o=function Z0(r,e,t,o,l){const u=e.bucketOnlyServerUrl(),f=kg(e,o,l),C={name:f.fullPath},O=du(u,r.host,r._protocol),Y={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o.size()}`,"X-Goog-Upload-Header-Content-Type":f.contentType,"Content-Type":"application/json; charset=utf-8"},Ce=Wv(f,t),Ut=new vl(O,"POST",function yt(fn){let cn;Ec(fn);try{cn=fn.getResponseHeader("X-Goog-Upload-URL")}catch{Hl(!1)}return Hl(Rg(cn)),cn},r.maxUploadRetryTime);return Ut.urlParams=C,Ut.headers=Y,Ut.body=Ce,Ut.errorHandler=jh(e),Ut}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),l=this._ref.storage._makeRequest(o,qa,e,t);this._request=l,l.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,o)=>{const l=function Cb(r,e,t,o){const O=new vl(t,"POST",function u(B){const Y=Ec(B,["active","final"]);let Ce=null;try{Ce=B.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Hl(!1)}Ce||Hl(!1);const it=Number(Ce);return Hl(!isNaN(it)),new up(it,o.size(),"final"===Y)},r.maxUploadRetryTime);return O.headers={"X-Goog-Upload-Command":"query"},O.errorHandler=jh(e),O}(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(l,qa,t,o);this._request=u,u.getPromise().then(f=>{this._request=void 0,this._updateProgress(f.current),this._needToFetchStatus=!1,f.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new up(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken((l,u)=>{let f;try{f=function Kv(r,e,t,o,l,u,f,C){const O=new up(0,0);if(f?(O.current=f.current,O.total=f.total):(O.current=0,O.total=o.size()),o.size()!==O.total)throw function xg(){return new Go(Do.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const B=O.total-O.current;let Y=B;l>0&&(Y=Math.min(Y,l));const Ce=O.current;let yt="";yt=0===Y?"finalize":B===Y?"upload, finalize":"upload";const Ut={"X-Goog-Upload-Command":yt,"X-Goog-Upload-Offset":`${O.current}`},fn=o.slice(Ce,Ce+Y);if(null===fn)throw b0();const Xn=new vl(t,"POST",function cn(Fr,Ii){const li=Ec(Fr,["active","final"]),ts=O.current+Y,Oa=o.size();let bd;return bd="final"===li?Pg(e,u)(Fr,Ii):null,new up(ts,Oa,"final"===li,bd)},e.maxUploadRetryTime);return Xn.headers=Ut,Xn.body=fn.uploadData(),Xn.progressCallback=C||null,Xn.errorHandler=jh(r),Xn}(this._ref._location,this._ref.storage,o,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(O){return this._error=O,void this._transition("error")}const C=this._ref.storage._makeRequest(f,qa,l,u,!1);this._request=C,C.getPromise().then(O=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(O.current),O.finalized?(this._metadata=O.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const o=q0(this._ref.storage,this._ref._location,this._mappings),l=this._ref.storage._makeRequest(o,qa,e,t);this._request=l,l.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const o=function K0(r,e,t,o,l){const u=e.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"},O=function C(){let Xn="";for(let Fr=0;Fr<2;Fr++)Xn+=Math.random().toString().slice(2);return Xn}();f["Content-Type"]="multipart/related; boundary="+O;const B=kg(e,o,l),Y=Wv(B,t),yt=Wa.getBlob("--"+O+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Y+"\r\n--"+O+"\r\nContent-Type: "+B.contentType+"\r\n\r\n",o,"\r\n--"+O+"--");if(null===yt)throw b0();const Ut={name:B.fullPath},fn=du(u,r.host,r._protocol),sr=r.maxUploadRetryTime,Sr=new vl(fn,"POST",Pg(r,t),sr);return Sr.urlParams=Ut,Sr.headers=f,Sr.body=yt.uploadData(),Sr.errorHandler=jh(e),Sr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),l=this._ref.storage._makeRequest(o,qa,e,t);this._request=l,l.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=E0(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=Fg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,o,l){const u=new X0(t||void 0,o||void 0,l||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(Fg(this._state)){case ra.SUCCESS:Hh(this._resolve.bind(null,this.snapshot))();break;case ra.CANCELED:case ra.ERROR:Hh(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Fg(this._state)){case ra.RUNNING:case ra.PAUSED:e.next&&Hh(e.next.bind(e,this.snapshot))();break;case ra.SUCCESS:e.complete&&Hh(e.complete.bind(e))();break;default:e.error&&Hh(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Ed{constructor(e,t){this._service=e,this._location=t instanceof Us?t:Us.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ed(e,t)}get root(){const e=new Us(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return U0(this._location.path)}get storage(){return this._service}get parent(){const e=function B0(r){if(0===r.length)return null;const e=r.lastIndexOf("/");return-1===e?"":r.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Us(this._location.bucket,e);return new Ed(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw Bh(e)}}function rI(r,e,t){return ey.apply(this,arguments)}function ey(){return ey=(0,Z.Z)(function*(r,e,t){const l=yield iI(r,{pageToken:t});e.prefixes.push(...l.prefixes),e.items.push(...l.items),null!=l.nextPageToken&&(yield rI(r,e,l.nextPageToken))}),ey.apply(this,arguments)}function iI(r,e){null!=e&&"number"==typeof e.maxResults&&O0("options.maxResults",1,1e3,e.maxResults);const t=e||{},o=qv(r.storage,r._location,"/",t.pageToken,t.maxResults);return r.storage.makeRequestWithTokens(o,qa)}function Pb(r){r._throwIfRoot("getDownloadURL");const e=function Y0(r,e,t){const l=du(e.fullServerUrl(),r.host,r._protocol),f=r.maxOperationRetryTime,C=new vl(l,"GET",function bb(r,e){return function t(o,l){const u=j0(r,l,e);return Hl(null!==u),function Ib(r,e,t,o){const l=Gv(e);if(null===l||!Rg(l.downloadTokens))return null;const u=l.downloadTokens;if(0===u.length)return null;const f=encodeURIComponent;return u.split(",").map(B=>{const Ce=r.fullPath;return du("/b/"+f(r.bucket)+"/o/"+f(Ce),t,o)+ab({alt:"media",token:B})})[0]}(u,l,r.host,r._protocol)}}(r,t),f);return C.errorHandler=cp(e),C}(r.storage,r._location,Uh());return r.storage.makeRequestWithTokens(e,qa).then(t=>{if(null===t)throw function w0(){return new Go(Do.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function oI(r,e){const t=function V0(r,e){const t=e.split("/").filter(o=>o.length>0).join("/");return 0===r.length?t:r+"/"+t}(r._location.path,e),o=new Us(r._location.bucket,t);return new Ed(r.storage,o)}function sI(r,e){if(r instanceof Lg){const t=r;if(null==t._bucket)throw function ib(){return new Go(Do.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+g0+"' property when initializing the app?")}();const o=new Ed(t,t._bucket);return null!=e?sI(o,e):o}return void 0!==e?oI(r,e):r}function Lb(r,e){if(e&&function kb(r){return/^[A-Za-z]+:\/\//.test(r)}(e)){if(r instanceof Lg)return function Fb(r,e){return new Ed(r,e)}(r,e);throw yd("To use ref(service, url), the first argument must be a Storage instance.")}return sI(r,e)}function zh(r,e){const t=null==e?void 0:e[g0];return null==t?null:Us.makeFromBucketSpec(t,r)}class Lg{constructor(e,t,o,l,u){this.app=e,this._authProvider=t,this._appCheckProvider=o,this._url=l,this._firebaseVersion=u,this._bucket=null,this._host=vd,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=l?Us.makeFromBucketSpec(l,this._host):zh(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Us.makeFromBucketSpec(this._url,e):zh(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){O0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){O0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Z.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const o=yield t.getToken();if(null!==o)return o.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Z.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ed(this,e)}_makeRequest(e,t,o,l,u=!0){if(this._deleted)return new ob(C0());{const f=function db(r,e,t,o,l,u,f=!0){const C=ab(r.urlParams),O=r.url+C,B=Object.assign({},r.headers);return function cb(r,e){e&&(r["X-Firebase-GMPID"]=e)}(B,e),function P0(r,e){null!==e&&e.length>0&&(r.Authorization="Firebase "+e)}(B,t),function lp(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(B,u),function ub(r,e){null!==e&&(r["X-Firebase-AppCheck"]=e)}(B,o),new lb(O,r.method,B,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,l,f)}(e,this._appId,o,l,t,this._firebaseVersion,u);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}makeRequestWithTokens(e,t){var o=this;return(0,Z.Z)(function*(){const[l,u]=yield Promise.all([o._getAuthToken(),o._getAppCheckToken()]);return o._makeRequest(e,t,l,u).getPromise()})()}}const ty="@firebase/storage";function cI(r,e){return Lb(r=(0,je.m9)(r),e)}function Xw(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),o=r.getProvider("auth-internal"),l=r.getProvider("app-check-internal");return new Lg(t,o,l,e,ps.SDK_VERSION)}!function Hb(){(0,ps._registerComponent)(new Be.wA("storage",Xw,"PUBLIC").setMultipleInstances(!0)),(0,ps.registerVersion)(ty,"0.11.2",""),(0,ps.registerVersion)(ty,"0.11.2","esm2017")}();class oy{constructor(e,t,o){this._delegate=e,this.task=t,this.ref=o}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Gh{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new oy(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(o=>{if(e)return e(new oy(o,this,this._ref))},t)}on(e,t,o,l){let u;return t&&(u="function"==typeof t?f=>t(new oy(f,this,this._ref)):{next:t.next?f=>t.next(new oy(f,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,u,o||void 0,l||void 0)}}class hI{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new wc(e,this._service))}get items(){return this._delegate.items.map(e=>new wc(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class wc{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function iy(r,e){return oI(r,e)}(this._delegate,e);return new wc(t,this.storage)}get root(){return new wc(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new wc(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new Gh(function Kw(r,e,t){return function Mb(r,e,t){return r._throwIfRoot("uploadBytesResumable"),new tI(r,new Wa(e),t)}(r=(0,je.m9)(r),e,t)}(this._delegate,e,t),this)}putString(e,t=Ra.RAW,o){this._throwIfRoot("putString");const l=Id(t,e),u=Object.assign({},o);return null==u.contentType&&null!=l.contentType&&(u.contentType=l.contentType),new Gh(new tI(this._delegate,new Wa(l.data,!0),u),this)}listAll(){return function Ub(r){return function qw(r){const e={prefixes:[],items:[]};return rI(r,e).then(()=>e)}(r=(0,je.m9)(r))}(this._delegate).then(e=>new hI(e,this.storage))}list(e){return function Vb(r,e){return iI(r=(0,je.m9)(r),e)}(this._delegate,e||void 0).then(t=>new hI(t,this.storage))}getMetadata(){return function lI(r){return function Rb(r){r._throwIfRoot("getMetadata");const e=q0(r.storage,r._location,Uh());return r.storage.makeRequestWithTokens(e,qa)}(r=(0,je.m9)(r))}(this._delegate)}updateMetadata(e){return function Bb(r,e){return function Ob(r,e){r._throwIfRoot("updateMetadata");const t=function Yv(r,e,t,o){const u=du(e.fullServerUrl(),r.host,r._protocol),C=Wv(t,o),B=r.maxOperationRetryTime,Y=new vl(u,"PATCH",Pg(r,o),B);return Y.headers={"Content-Type":"application/json; charset=utf-8"},Y.body=C,Y.errorHandler=cp(e),Y}(r.storage,r._location,e,Uh());return r.storage.makeRequestWithTokens(t,qa)}(r=(0,je.m9)(r),e)}(this._delegate,e)}getDownloadURL(){return function jb(r){return Pb(r=(0,je.m9)(r))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function dp(r){return function Nb(r){r._throwIfRoot("deleteObject");const e=function wb(r,e){const o=du(e.fullServerUrl(),r.host,r._protocol),C=new vl(o,"DELETE",function f(O,B){},r.maxOperationRetryTime);return C.successCodes=[200,204],C.errorHandler=cp(e),C}(r.storage,r._location);return r.storage.makeRequestWithTokens(e,qa)}(r=(0,je.m9)(r))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw Bh(e)}}class fI{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(hp(e))throw yd("ref() expected a child path but got a URL, use refFromURL instead.");return new wc(cI(this._delegate,e),this)}refFromURL(e){if(!hp(e))throw yd("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Us.makeFromUrl(e,this._delegate.host)}catch{throw yd("refFromUrl() expected a valid full URL but got an invalid one.")}return new wc(cI(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,o={}){!function uI(r,e,t,o={}){!function aI(r,e,t,o={}){r.host=`${e}:${t}`,r._protocol="http";const{mockUserToken:l}=o;l&&(r._overrideAuthToken="string"==typeof l?l:(0,je.Sg)(l,r.app.options.projectId))}(r,e,t,o)}(this._delegate,e,t,o)}}function hp(r){return/^[A-Za-z]+:\/\//.test(r)}function $g(r,{instanceIdentifier:e}){const t=r.getProvider("app-compat").getImmediate(),o=r.getProvider("storage").getImmediate({identifier:e});return new fI(t,o)}function sy(r){const e=function Wb(r){return new Me.y(e=>{const t=f=>e.next(f);t(r.snapshot);const u=r.on("state_changed",t);return r.then(f=>{t(f),e.complete()},f=>{t(r.snapshot),(f=>{e.error(f)})(f)}),function(){u()}}).pipe(function md(r,e=oe.z){return(0,De.e)((t,o)=>{let l=null,u=null,f=null;const C=()=>{if(l){l.unsubscribe(),l=null;const B=u;u=null,o.next(B)}};function O(){const B=f+r,Y=e.now();if(Y<B)return l=this.schedule(void 0,B-Y),void o.add(l);C()}t.subscribe((0,_e.x)(o,B=>{u=B,f=e.now(),l||(l=e.schedule(O,r),o.add(l))},()=>{C(),o.complete()},void 0,()=>{u=l=null}))})}(0))}(r);return{task:r,then:r.then.bind(r),catch:r.catch.bind(r),pause:r.pause.bind(r),cancel:r.cancel.bind(r),resume:r.resume.bind(r),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,ut.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function Bg(r){return{getDownloadURL:()=>(0,Re.of)(void 0).pipe($e.fc,(0,f0.w)(()=>r.getDownloadURL()),$e.iC),getMetadata:()=>(0,Re.of)(void 0).pipe($e.fc,(0,f0.w)(()=>r.getMetadata()),$e.iC),delete:()=>(0,Ee.D)(r.delete()),child:e=>Bg(r.child(e)),updateMetadata:e=>(0,Ee.D)(r.updateMetadata(e)),put:(e,t)=>sy(r.put(e,t)),putString:(e,t,o)=>sy(r.putString(e,t,o)),list:e=>(0,Ee.D)(r.list(e)),listAll:()=>(0,Ee.D)(r.listAll())}}!function Gb(r){const e={TaskState:ra,TaskEvent:Zv,StringFormat:Ra,Storage:fI,Reference:wc};r.INTERNAL.registerComponent(new Be.wA("storage-compat",$g,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),r.registerVersion("@firebase/storage-compat","0.3.2")}(tb);const qb=new g.OlP("angularfire2.storageBucket"),mI=new g.OlP("angularfire2.storage.maxUploadRetryTime"),Vg=new g.OlP("angularfire2.storage.maxOperationRetryTime"),Yb=new g.OlP("angularfire2.storage.use-emulator");let Kb=(()=>{class r{constructor(t,o,l,u,f,C,O,B,Y,Ce){const it=(0,Ne.on)(t,f,o);this.storage=(0,Ne.cc)(`${it.name}.storage.${l}`,"AngularFireStorage",it.name,()=>{const yt=f.runOutsideAngular(()=>it.storage(l||void 0)),Ut=Y;return Ut&&yt.useEmulator(...Ut),O&&yt.setMaxUploadRetryTime(O),B&&yt.setMaxOperationRetryTime(B),yt},[O,B])}ref(t){return Bg(this.storage.ref(t))}refFromURL(t){return Bg(this.storage.refFromURL(t))}upload(t,o,l){return Bg(this.storage.ref(t)).put(o,l)}}return r.\u0275fac=function(t){return new(t||r)(g.LFG(Ne.Dh),g.LFG(Ne.xv,8),g.LFG(qb,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG($e.HU),g.LFG(mI,8),g.LFG(Vg,8),g.LFG(Yb,8),g.LFG(r0.nm,8))},r.\u0275prov=g.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),vI=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=g.oAB({type:r}),r.\u0275inj=g.cJS({}),r})(),ay=(()=>{class r{constructor(){o0.Z.registerVersion("angularfire",$e.q4.full,"gcs-compat")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=g.oAB({type:r}),r.\u0275inj=g.cJS({providers:[Kb],imports:[vI]}),r})();de.N.production&&(0,g.G48)(),(0,m.Cg)(He,{providers:[{provide:K.wN,useClass:re.r4},(0,g.RIp)(re.Pc.forRoot({}),Ne.hO.initializeApp(de.N.firebaseConfig),he.ww,h0,ay),(0,K.bU)(Se)]})},5619:(Jt,nt,N)=>{"use strict";N.d(nt,{X:()=>m});var g=N(8645);class m extends g.x{constructor(re){super(),this._value=re}get value(){return this.getValue()}_subscribe(re){const Se=super._subscribe(re);return!Se.closed&&re.next(this._value),Se}getValue(){const{hasError:re,thrownError:Se,_value:Te}=this;if(re)throw Se;return this._throwIfClosed(),Te}next(re){super.next(this._value=re)}}},5592:(Jt,nt,N)=>{"use strict";N.d(nt,{y:()=>He});var g=N(305),m=N(7394),K=N(4850),re=N(8407),Se=N(2653),Te=N(4674),de=N(1441);let He=(()=>{class Me{constructor(Re){Re&&(this._subscribe=Re)}lift(Re){const $e=new Me;return $e.source=this,$e.operator=Re,$e}subscribe(Re,$e,lt){const De=function oe(Me){return Me&&Me instanceof g.Lv||function he(Me){return Me&&(0,Te.m)(Me.next)&&(0,Te.m)(Me.error)&&(0,Te.m)(Me.complete)}(Me)&&(0,m.Nn)(Me)}(Re)?Re:new g.Hp(Re,$e,lt);return(0,de.x)(()=>{const{operator:_e,source:et}=this;De.add(_e?_e.call(De,et):et?this._subscribe(De):this._trySubscribe(De))}),De}_trySubscribe(Re){try{return this._subscribe(Re)}catch($e){Re.error($e)}}forEach(Re,$e){return new($e=Ne($e))((lt,De)=>{const _e=new g.Hp({next:et=>{try{Re(et)}catch(ut){De(ut),_e.unsubscribe()}},error:De,complete:lt});this.subscribe(_e)})}_subscribe(Re){var $e;return null===($e=this.source)||void 0===$e?void 0:$e.subscribe(Re)}[K.L](){return this}pipe(...Re){return(0,re.U)(Re)(this)}toPromise(Re){return new(Re=Ne(Re))(($e,lt)=>{let De;this.subscribe(_e=>De=_e,_e=>lt(_e),()=>$e(De))})}}return Me.create=Ee=>new Me(Ee),Me})();function Ne(Me){var Ee;return null!==(Ee=null!=Me?Me:Se.config.Promise)&&void 0!==Ee?Ee:Promise}},8645:(Jt,nt,N)=>{"use strict";N.d(nt,{x:()=>de});var g=N(5592),m=N(7394);const re=(0,N(2306).d)(Ne=>function(){Ne(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Se=N(9039),Te=N(1441);let de=(()=>{class Ne extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(oe){const Me=new He(this,this);return Me.operator=oe,Me}_throwIfClosed(){if(this.closed)throw new re}next(oe){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Me of this.currentObservers)Me.next(oe)}})}error(oe){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=oe;const{observers:Me}=this;for(;Me.length;)Me.shift().error(oe)}})}complete(){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:oe}=this;for(;oe.length;)oe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var oe;return(null===(oe=this.observers)||void 0===oe?void 0:oe.length)>0}_trySubscribe(oe){return this._throwIfClosed(),super._trySubscribe(oe)}_subscribe(oe){return this._throwIfClosed(),this._checkFinalizedStatuses(oe),this._innerSubscribe(oe)}_innerSubscribe(oe){const{hasError:Me,isStopped:Ee,observers:Re}=this;return Me||Ee?m.Lc:(this.currentObservers=null,Re.push(oe),new m.w0(()=>{this.currentObservers=null,(0,Se.P)(Re,oe)}))}_checkFinalizedStatuses(oe){const{hasError:Me,thrownError:Ee,isStopped:Re}=this;Me?oe.error(Ee):Re&&oe.complete()}asObservable(){const oe=new g.y;return oe.source=this,oe}}return Ne.create=(he,oe)=>new He(he,oe),Ne})();class He extends de{constructor(he,oe){super(),this.destination=he,this.source=oe}next(he){var oe,Me;null===(Me=null===(oe=this.destination)||void 0===oe?void 0:oe.next)||void 0===Me||Me.call(oe,he)}error(he){var oe,Me;null===(Me=null===(oe=this.destination)||void 0===oe?void 0:oe.error)||void 0===Me||Me.call(oe,he)}complete(){var he,oe;null===(oe=null===(he=this.destination)||void 0===he?void 0:he.complete)||void 0===oe||oe.call(he)}_subscribe(he){var oe,Me;return null!==(Me=null===(oe=this.source)||void 0===oe?void 0:oe.subscribe(he))&&void 0!==Me?Me:m.Lc}}},305:(Jt,nt,N)=>{"use strict";N.d(nt,{Hp:()=>lt,Lv:()=>Me});var g=N(4674),m=N(7394),K=N(2653),re=N(3894),Se=N(2420);const Te=Ne("C",void 0,void 0);function Ne(Qe,we,ke){return{kind:Qe,value:we,error:ke}}var he=N(7599),oe=N(1441);class Me extends m.w0{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,m.Nn)(we)&&we.add(this)):this.destination=ut}static create(we,ke,Le){return new lt(we,ke,Le)}next(we){this.isStopped?et(function He(Qe){return Ne("N",Qe,void 0)}(we),this):this._next(we)}error(we){this.isStopped?et(function de(Qe){return Ne("E",void 0,Qe)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?et(Te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ee=Function.prototype.bind;function Re(Qe,we){return Ee.call(Qe,we)}class $e{constructor(we){this.partialObserver=we}next(we){const{partialObserver:ke}=this;if(ke.next)try{ke.next(we)}catch(Le){De(Le)}}error(we){const{partialObserver:ke}=this;if(ke.error)try{ke.error(we)}catch(Le){De(Le)}else De(we)}complete(){const{partialObserver:we}=this;if(we.complete)try{we.complete()}catch(ke){De(ke)}}}class lt extends Me{constructor(we,ke,Le){let be;if(super(),(0,g.m)(we)||!we)be={next:null!=we?we:void 0,error:null!=ke?ke:void 0,complete:null!=Le?Le:void 0};else{let Z;this&&K.config.useDeprecatedNextContext?(Z=Object.create(we),Z.unsubscribe=()=>this.unsubscribe(),be={next:we.next&&Re(we.next,Z),error:we.error&&Re(we.error,Z),complete:we.complete&&Re(we.complete,Z)}):be=we}this.destination=new $e(be)}}function De(Qe){K.config.useDeprecatedSynchronousErrorHandling?(0,oe.O)(Qe):(0,re.h)(Qe)}function et(Qe,we){const{onStoppedNotification:ke}=K.config;ke&&he.z.setTimeout(()=>ke(Qe,we))}const ut={closed:!0,next:Se.Z,error:function _e(Qe){throw Qe},complete:Se.Z}},7394:(Jt,nt,N)=>{"use strict";N.d(nt,{Lc:()=>Te,w0:()=>Se,Nn:()=>de});var g=N(4674);const K=(0,N(2306).d)(Ne=>function(oe){Ne(this),this.message=oe?`${oe.length} errors occurred during unsubscription:\n${oe.map((Me,Ee)=>`${Ee+1}) ${Me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=oe});var re=N(9039);class Se{constructor(he){this.initialTeardown=he,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let he;if(!this.closed){this.closed=!0;const{_parentage:oe}=this;if(oe)if(this._parentage=null,Array.isArray(oe))for(const Re of oe)Re.remove(this);else oe.remove(this);const{initialTeardown:Me}=this;if((0,g.m)(Me))try{Me()}catch(Re){he=Re instanceof K?Re.errors:[Re]}const{_finalizers:Ee}=this;if(Ee){this._finalizers=null;for(const Re of Ee)try{He(Re)}catch($e){he=null!=he?he:[],$e instanceof K?he=[...he,...$e.errors]:he.push($e)}}if(he)throw new K(he)}}add(he){var oe;if(he&&he!==this)if(this.closed)He(he);else{if(he instanceof Se){if(he.closed||he._hasParent(this))return;he._addParent(this)}(this._finalizers=null!==(oe=this._finalizers)&&void 0!==oe?oe:[]).push(he)}}_hasParent(he){const{_parentage:oe}=this;return oe===he||Array.isArray(oe)&&oe.includes(he)}_addParent(he){const{_parentage:oe}=this;this._parentage=Array.isArray(oe)?(oe.push(he),oe):oe?[oe,he]:he}_removeParent(he){const{_parentage:oe}=this;oe===he?this._parentage=null:Array.isArray(oe)&&(0,re.P)(oe,he)}remove(he){const{_finalizers:oe}=this;oe&&(0,re.P)(oe,he),he instanceof Se&&he._removeParent(this)}}Se.EMPTY=(()=>{const Ne=new Se;return Ne.closed=!0,Ne})();const Te=Se.EMPTY;function de(Ne){return Ne instanceof Se||Ne&&"closed"in Ne&&(0,g.m)(Ne.remove)&&(0,g.m)(Ne.add)&&(0,g.m)(Ne.unsubscribe)}function He(Ne){(0,g.m)(Ne)?Ne():Ne.unsubscribe()}},2653:(Jt,nt,N)=>{"use strict";N.d(nt,{config:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(Jt,nt,N)=>{"use strict";N.d(nt,{a:()=>he});var g=N(5592),m=N(7453),K=N(2459),re=N(2737),Se=N(7400),Te=N(4564),de=N(2714),He=N(8251),Ne=N(7103);function he(...Ee){const Re=(0,Te.yG)(Ee),$e=(0,Te.jO)(Ee),{args:lt,keys:De}=(0,m.D)(Ee);if(0===lt.length)return(0,K.D)([],Re);const _e=new g.y(function oe(Ee,Re,$e=re.y){return lt=>{Me(Re,()=>{const{length:De}=Ee,_e=new Array(De);let et=De,ut=De;for(let Qe=0;Qe<De;Qe++)Me(Re,()=>{const we=(0,K.D)(Ee[Qe],Re);let ke=!1;we.subscribe((0,He.x)(lt,Le=>{_e[Qe]=Le,ke||(ke=!0,ut--),ut||lt.next($e(_e.slice()))},()=>{--et||lt.complete()}))},lt)},lt)}}(lt,Re,De?et=>(0,de.n)(De,et):re.y));return $e?_e.pipe((0,Se.Z)($e)):_e}function Me(Ee,Re,$e){Ee?(0,Ne.f)($e,Ee,Re):Re()}},5211:(Jt,nt,N)=>{"use strict";N.d(nt,{z:()=>Se});var g=N(7537),K=N(4564),re=N(2459);function Se(...Te){return function m(){return(0,g.J)(1)}()((0,re.D)(Te,(0,K.yG)(Te)))}},6232:(Jt,nt,N)=>{"use strict";N.d(nt,{E:()=>m});const m=new(N(5592).y)(Se=>Se.complete())},2459:(Jt,nt,N)=>{"use strict";N.d(nt,{D:()=>we});var g=N(4829),m=N(3093),K=N(5137),Te=N(5592),He=N(4971),Ne=N(4674),he=N(7103);function Me(ke,Le){if(!ke)throw new Error("Iterable cannot be null");return new Te.y(be=>{(0,he.f)(be,Le,()=>{const Z=ke[Symbol.asyncIterator]();(0,he.f)(be,Le,()=>{Z.next().then(me=>{me.done?be.complete():be.next(me.value)})},0,!0)})})}var Ee=N(8382),Re=N(4026),$e=N(4266),lt=N(3664),De=N(5726),_e=N(9853),et=N(541);function we(ke,Le){return Le?function Qe(ke,Le){if(null!=ke){if((0,Ee.c)(ke))return function re(ke,Le){return(0,g.Xf)(ke).pipe((0,K.R)(Le),(0,m.Q)(Le))}(ke,Le);if((0,$e.z)(ke))return function de(ke,Le){return new Te.y(be=>{let Z=0;return Le.schedule(function(){Z===ke.length?be.complete():(be.next(ke[Z++]),be.closed||this.schedule())})})}(ke,Le);if((0,Re.t)(ke))return function Se(ke,Le){return(0,g.Xf)(ke).pipe((0,K.R)(Le),(0,m.Q)(Le))}(ke,Le);if((0,De.D)(ke))return Me(ke,Le);if((0,lt.T)(ke))return function oe(ke,Le){return new Te.y(be=>{let Z;return(0,he.f)(be,Le,()=>{Z=ke[He.h](),(0,he.f)(be,Le,()=>{let me,Be;try{({value:me,done:Be}=Z.next())}catch(Je){return void be.error(Je)}Be?be.complete():be.next(me)},0,!0)}),()=>(0,Ne.m)(null==Z?void 0:Z.return)&&Z.return()})}(ke,Le);if((0,et.L)(ke))return function ut(ke,Le){return Me((0,et.Q)(ke),Le)}(ke,Le)}throw(0,_e.z)(ke)}(ke,Le):(0,g.Xf)(ke)}},4829:(Jt,nt,N)=>{"use strict";N.d(nt,{Xf:()=>Ee});var g=N(7582),m=N(4266),K=N(4026),re=N(5592),Se=N(8382),Te=N(5726),de=N(9853),He=N(3664),Ne=N(541),he=N(4674),oe=N(3894),Me=N(4850);function Ee(Qe){if(Qe instanceof re.y)return Qe;if(null!=Qe){if((0,Se.c)(Qe))return function Re(Qe){return new re.y(we=>{const ke=Qe[Me.L]();if((0,he.m)(ke.subscribe))return ke.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Qe);if((0,m.z)(Qe))return function $e(Qe){return new re.y(we=>{for(let ke=0;ke<Qe.length&&!we.closed;ke++)we.next(Qe[ke]);we.complete()})}(Qe);if((0,K.t)(Qe))return function lt(Qe){return new re.y(we=>{Qe.then(ke=>{we.closed||(we.next(ke),we.complete())},ke=>we.error(ke)).then(null,oe.h)})}(Qe);if((0,Te.D)(Qe))return _e(Qe);if((0,He.T)(Qe))return function De(Qe){return new re.y(we=>{for(const ke of Qe)if(we.next(ke),we.closed)return;we.complete()})}(Qe);if((0,Ne.L)(Qe))return function et(Qe){return _e((0,Ne.Q)(Qe))}(Qe)}throw(0,de.z)(Qe)}function _e(Qe){return new re.y(we=>{(function ut(Qe,we){var ke,Le,be,Z;return(0,g.mG)(this,void 0,void 0,function*(){try{for(ke=(0,g.KL)(Qe);!(Le=yield ke.next()).done;)if(we.next(Le.value),we.closed)return}catch(me){be={error:me}}finally{try{Le&&!Le.done&&(Z=ke.return)&&(yield Z.call(ke))}finally{if(be)throw be.error}}we.complete()})})(Qe,we).catch(ke=>we.error(ke))})}},3019:(Jt,nt,N)=>{"use strict";N.d(nt,{T:()=>Te});var g=N(7537),m=N(4829),K=N(6232),re=N(4564),Se=N(2459);function Te(...de){const He=(0,re.yG)(de),Ne=(0,re._6)(de,1/0),he=de;return he.length?1===he.length?(0,m.Xf)(he[0]):(0,g.J)(Ne)((0,Se.D)(he,He)):K.E}},2096:(Jt,nt,N)=>{"use strict";N.d(nt,{of:()=>K});var g=N(4564),m=N(2459);function K(...re){const Se=(0,g.yG)(re);return(0,m.D)(re,Se)}},8251:(Jt,nt,N)=>{"use strict";N.d(nt,{x:()=>m});var g=N(305);function m(re,Se,Te,de,He){return new K(re,Se,Te,de,He)}class K extends g.Lv{constructor(Se,Te,de,He,Ne,he){super(Se),this.onFinalize=Ne,this.shouldUnsubscribe=he,this._next=Te?function(oe){try{Te(oe)}catch(Me){Se.error(Me)}}:super._next,this._error=He?function(oe){try{He(oe)}catch(Me){Se.error(Me)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(oe){Se.error(oe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Te}=this;super.unsubscribe(),!Te&&(null===(Se=this.onFinalize)||void 0===Se||Se.call(this))}}}},3572:(Jt,nt,N)=>{"use strict";N.d(nt,{d:()=>K});var g=N(9360),m=N(8251);function K(re){return(0,g.e)((Se,Te)=>{let de=!1;Se.subscribe((0,m.x)(Te,He=>{de=!0,Te.next(He)},()=>{de||Te.next(re),Te.complete()}))})}},3997:(Jt,nt,N)=>{"use strict";N.d(nt,{x:()=>re});var g=N(2737),m=N(9360),K=N(8251);function re(Te,de=g.y){return Te=null!=Te?Te:Se,(0,m.e)((He,Ne)=>{let he,oe=!0;He.subscribe((0,K.x)(Ne,Me=>{const Ee=de(Me);(oe||!Te(he,Ee))&&(oe=!1,he=Ee,Ne.next(Me))}))})}function Se(Te,de){return Te===de}},2181:(Jt,nt,N)=>{"use strict";N.d(nt,{h:()=>K});var g=N(9360),m=N(8251);function K(re,Se){return(0,g.e)((Te,de)=>{let He=0;Te.subscribe((0,m.x)(de,Ne=>re.call(Se,Ne,He++)&&de.next(Ne)))})}},1374:(Jt,nt,N)=>{"use strict";N.d(nt,{P:()=>de});var g=N(6973),m=N(2181),K=N(8180),re=N(3572),Se=N(3026),Te=N(2737);function de(He,Ne){const he=arguments.length>=2;return oe=>oe.pipe(He?(0,m.h)((Me,Ee)=>He(Me,Ee,oe)):Te.y,(0,K.q)(1),he?(0,re.d)(Ne):(0,Se.T)(()=>new g.K))}},7398:(Jt,nt,N)=>{"use strict";N.d(nt,{U:()=>K});var g=N(9360),m=N(8251);function K(re,Se){return(0,g.e)((Te,de)=>{let He=0;Te.subscribe((0,m.x)(de,Ne=>{de.next(re.call(Se,Ne,He++))}))})}},7537:(Jt,nt,N)=>{"use strict";N.d(nt,{J:()=>K});var g=N(1631),m=N(2737);function K(re=1/0){return(0,g.z)(m.y,re)}},1631:(Jt,nt,N)=>{"use strict";N.d(nt,{z:()=>He});var g=N(7398),m=N(4829),K=N(9360),re=N(7103),Se=N(8251),de=N(4674);function He(Ne,he,oe=1/0){return(0,de.m)(he)?He((Me,Ee)=>(0,g.U)((Re,$e)=>he(Me,Re,Ee,$e))((0,m.Xf)(Ne(Me,Ee))),oe):("number"==typeof he&&(oe=he),(0,K.e)((Me,Ee)=>function Te(Ne,he,oe,Me,Ee,Re,$e,lt){const De=[];let _e=0,et=0,ut=!1;const Qe=()=>{ut&&!De.length&&!_e&&he.complete()},we=Le=>_e<Me?ke(Le):De.push(Le),ke=Le=>{Re&&he.next(Le),_e++;let be=!1;(0,m.Xf)(oe(Le,et++)).subscribe((0,Se.x)(he,Z=>{null==Ee||Ee(Z),Re?we(Z):he.next(Z)},()=>{be=!0},void 0,()=>{if(be)try{for(_e--;De.length&&_e<Me;){const Z=De.shift();$e?(0,re.f)(he,$e,()=>ke(Z)):ke(Z)}Qe()}catch(Z){he.error(Z)}}))};return Ne.subscribe((0,Se.x)(he,we,()=>{ut=!0,Qe()})),()=>{null==lt||lt()}}(Me,Ee,Ne,oe)))}},3093:(Jt,nt,N)=>{"use strict";N.d(nt,{Q:()=>re});var g=N(7103),m=N(9360),K=N(8251);function re(Se,Te=0){return(0,m.e)((de,He)=>{de.subscribe((0,K.x)(He,Ne=>(0,g.f)(He,Se,()=>He.next(Ne),Te),()=>(0,g.f)(He,Se,()=>He.complete(),Te),Ne=>(0,g.f)(He,Se,()=>He.error(Ne),Te)))})}},6699:(Jt,nt,N)=>{"use strict";N.d(nt,{R:()=>re});var g=N(9360),m=N(8251);function re(Se,Te){return(0,g.e)(function K(Se,Te,de,He,Ne){return(he,oe)=>{let Me=de,Ee=Te,Re=0;he.subscribe((0,m.x)(oe,$e=>{const lt=Re++;Ee=Me?Se(Ee,$e,lt):(Me=!0,$e),He&&oe.next(Ee)},Ne&&(()=>{Me&&oe.next(Ee),oe.complete()})))}}(Se,Te,arguments.length>=2,!0))}},3020:(Jt,nt,N)=>{"use strict";N.d(nt,{B:()=>Se});var g=N(4829),m=N(8645),K=N(305),re=N(9360);function Se(de={}){const{connector:He=(()=>new m.x),resetOnError:Ne=!0,resetOnComplete:he=!0,resetOnRefCountZero:oe=!0}=de;return Me=>{let Ee,Re,$e,lt=0,De=!1,_e=!1;const et=()=>{null==Re||Re.unsubscribe(),Re=void 0},ut=()=>{et(),Ee=$e=void 0,De=_e=!1},Qe=()=>{const we=Ee;ut(),null==we||we.unsubscribe()};return(0,re.e)((we,ke)=>{lt++,!_e&&!De&&et();const Le=$e=null!=$e?$e:He();ke.add(()=>{lt--,0===lt&&!_e&&!De&&(Re=Te(Qe,oe))}),Le.subscribe(ke),!Ee&&lt>0&&(Ee=new K.Hp({next:be=>Le.next(be),error:be=>{_e=!0,et(),Re=Te(ut,Ne,be),Le.error(be)},complete:()=>{De=!0,et(),Re=Te(ut,he),Le.complete()}}),(0,g.Xf)(we).subscribe(Ee))})(Me)}}function Te(de,He,...Ne){if(!0===He)return void de();if(!1===He)return;const he=new K.Hp({next:()=>{he.unsubscribe(),de()}});return(0,g.Xf)(He(...Ne)).subscribe(he)}},7921:(Jt,nt,N)=>{"use strict";N.d(nt,{O:()=>re});var g=N(5211),m=N(4564),K=N(9360);function re(...Se){const Te=(0,m.yG)(Se);return(0,K.e)((de,He)=>{(Te?(0,g.z)(Se,de,Te):(0,g.z)(Se,de)).subscribe(He)})}},5137:(Jt,nt,N)=>{"use strict";N.d(nt,{R:()=>m});var g=N(9360);function m(K,re=0){return(0,g.e)((Se,Te)=>{Te.add(K.schedule(()=>Se.subscribe(Te),re))})}},4664:(Jt,nt,N)=>{"use strict";N.d(nt,{w:()=>re});var g=N(4829),m=N(9360),K=N(8251);function re(Se,Te){return(0,m.e)((de,He)=>{let Ne=null,he=0,oe=!1;const Me=()=>oe&&!Ne&&He.complete();de.subscribe((0,K.x)(He,Ee=>{null==Ne||Ne.unsubscribe();let Re=0;const $e=he++;(0,g.Xf)(Se(Ee,$e)).subscribe(Ne=(0,K.x)(He,lt=>He.next(Te?Te(Ee,lt,$e,Re++):lt),()=>{Ne=null,Me()}))},()=>{oe=!0,Me()}))})}},8180:(Jt,nt,N)=>{"use strict";N.d(nt,{q:()=>re});var g=N(6232),m=N(9360),K=N(8251);function re(Se){return Se<=0?()=>g.E:(0,m.e)((Te,de)=>{let He=0;Te.subscribe((0,K.x)(de,Ne=>{++He<=Se&&(de.next(Ne),Se<=He&&de.complete())}))})}},9397:(Jt,nt,N)=>{"use strict";N.d(nt,{b:()=>Se});var g=N(4674),m=N(9360),K=N(8251),re=N(2737);function Se(Te,de,He){const Ne=(0,g.m)(Te)||de||He?{next:Te,error:de,complete:He}:Te;return Ne?(0,m.e)((he,oe)=>{var Me;null===(Me=Ne.subscribe)||void 0===Me||Me.call(Ne);let Ee=!0;he.subscribe((0,K.x)(oe,Re=>{var $e;null===($e=Ne.next)||void 0===$e||$e.call(Ne,Re),oe.next(Re)},()=>{var Re;Ee=!1,null===(Re=Ne.complete)||void 0===Re||Re.call(Ne),oe.complete()},Re=>{var $e;Ee=!1,null===($e=Ne.error)||void 0===$e||$e.call(Ne,Re),oe.error(Re)},()=>{var Re,$e;Ee&&(null===(Re=Ne.unsubscribe)||void 0===Re||Re.call(Ne)),null===($e=Ne.finalize)||void 0===$e||$e.call(Ne)}))}):re.y}},3026:(Jt,nt,N)=>{"use strict";N.d(nt,{T:()=>re});var g=N(6973),m=N(9360),K=N(8251);function re(Te=Se){return(0,m.e)((de,He)=>{let Ne=!1;de.subscribe((0,K.x)(He,he=>{Ne=!0,He.next(he)},()=>Ne?He.complete():He.error(Te())))})}function Se(){return new g.K}},1954:(Jt,nt,N)=>{"use strict";N.d(nt,{o:()=>Se});var g=N(7394);class m extends g.w0{constructor(de,He){super()}schedule(de,He=0){return this}}const K={setInterval(Te,de,...He){const{delegate:Ne}=K;return null!=Ne&&Ne.setInterval?Ne.setInterval(Te,de,...He):setInterval(Te,de,...He)},clearInterval(Te){const{delegate:de}=K;return((null==de?void 0:de.clearInterval)||clearInterval)(Te)},delegate:void 0};var re=N(9039);class Se extends m{constructor(de,He){super(de,He),this.scheduler=de,this.work=He,this.pending=!1}schedule(de,He=0){var Ne;if(this.closed)return this;this.state=de;const he=this.id,oe=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(oe,he,He)),this.pending=!0,this.delay=He,this.id=null!==(Ne=this.id)&&void 0!==Ne?Ne:this.requestAsyncId(oe,this.id,He),this}requestAsyncId(de,He,Ne=0){return K.setInterval(de.flush.bind(de,this),Ne)}recycleAsyncId(de,He,Ne=0){if(null!=Ne&&this.delay===Ne&&!1===this.pending)return He;null!=He&&K.clearInterval(He)}execute(de,He){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ne=this._execute(de,He);if(Ne)return Ne;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,He){let he,Ne=!1;try{this.work(de)}catch(oe){Ne=!0,he=oe||new Error("Scheduled action threw falsy error")}if(Ne)return this.unsubscribe(),he}unsubscribe(){if(!this.closed){const{id:de,scheduler:He}=this,{actions:Ne}=He;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(Ne,this),null!=de&&(this.id=this.recycleAsyncId(He,de,null)),this.delay=null,super.unsubscribe()}}}},2631:(Jt,nt,N)=>{"use strict";N.d(nt,{v:()=>K});var g=N(4552);class m{constructor(Se,Te=m.now){this.schedulerActionCtor=Se,this.now=Te}schedule(Se,Te=0,de){return new this.schedulerActionCtor(this,Se).schedule(de,Te)}}m.now=g.l.now;class K extends m{constructor(Se,Te=m.now){super(Se,Te),this.actions=[],this._active=!1}flush(Se){const{actions:Te}=this;if(this._active)return void Te.push(Se);let de;this._active=!0;do{if(de=Se.execute(Se.state,Se.delay))break}while(Se=Te.shift());if(this._active=!1,de){for(;Se=Te.shift();)Se.unsubscribe();throw de}}}},6321:(Jt,nt,N)=>{"use strict";N.d(nt,{z:()=>K});var g=N(1954);const K=new(N(2631).v)(g.o)},4552:(Jt,nt,N)=>{"use strict";N.d(nt,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},7599:(Jt,nt,N)=>{"use strict";N.d(nt,{z:()=>g});const g={setTimeout(m,K,...re){const{delegate:Se}=g;return null!=Se&&Se.setTimeout?Se.setTimeout(m,K,...re):setTimeout(m,K,...re)},clearTimeout(m){const{delegate:K}=g;return((null==K?void 0:K.clearTimeout)||clearTimeout)(m)},delegate:void 0}},4971:(Jt,nt,N)=>{"use strict";N.d(nt,{h:()=>m});const m=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Jt,nt,N)=>{"use strict";N.d(nt,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Jt,nt,N)=>{"use strict";N.d(nt,{K:()=>m});const m=(0,N(2306).d)(K=>function(){K(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(Jt,nt,N)=>{"use strict";N.d(nt,{_6:()=>Te,jO:()=>re,yG:()=>Se});var g=N(4674);function K(de){return de[de.length-1]}function re(de){return(0,g.m)(K(de))?de.pop():void 0}function Se(de){return function m(de){return de&&(0,g.m)(de.schedule)}(K(de))?de.pop():void 0}function Te(de,He){return"number"==typeof K(de)?de.pop():He}},7453:(Jt,nt,N)=>{"use strict";N.d(nt,{D:()=>Se});const{isArray:g}=Array,{getPrototypeOf:m,prototype:K,keys:re}=Object;function Se(de){if(1===de.length){const He=de[0];if(g(He))return{args:He,keys:null};if(function Te(de){return de&&"object"==typeof de&&m(de)===K}(He)){const Ne=re(He);return{args:Ne.map(he=>He[he]),keys:Ne}}}return{args:de,keys:null}}},9039:(Jt,nt,N)=>{"use strict";function g(m,K){if(m){const re=m.indexOf(K);0<=re&&m.splice(re,1)}}N.d(nt,{P:()=>g})},2306:(Jt,nt,N)=>{"use strict";function g(m){const re=m(Se=>{Error.call(Se),Se.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}N.d(nt,{d:()=>g})},2714:(Jt,nt,N)=>{"use strict";function g(m,K){return m.reduce((re,Se,Te)=>(re[Se]=K[Te],re),{})}N.d(nt,{n:()=>g})},1441:(Jt,nt,N)=>{"use strict";N.d(nt,{O:()=>re,x:()=>K});var g=N(2653);let m=null;function K(Se){if(g.config.useDeprecatedSynchronousErrorHandling){const Te=!m;if(Te&&(m={errorThrown:!1,error:null}),Se(),Te){const{errorThrown:de,error:He}=m;if(m=null,de)throw He}}else Se()}function re(Se){g.config.useDeprecatedSynchronousErrorHandling&&m&&(m.errorThrown=!0,m.error=Se)}},7103:(Jt,nt,N)=>{"use strict";function g(m,K,re,Se=0,Te=!1){const de=K.schedule(function(){re(),Te?m.add(this.schedule(null,Se)):this.unsubscribe()},Se);if(m.add(de),!Te)return de}N.d(nt,{f:()=>g})},2737:(Jt,nt,N)=>{"use strict";function g(m){return m}N.d(nt,{y:()=>g})},4266:(Jt,nt,N)=>{"use strict";N.d(nt,{z:()=>g});const g=m=>m&&"number"==typeof m.length&&"function"!=typeof m},5726:(Jt,nt,N)=>{"use strict";N.d(nt,{D:()=>m});var g=N(4674);function m(K){return Symbol.asyncIterator&&(0,g.m)(null==K?void 0:K[Symbol.asyncIterator])}},4674:(Jt,nt,N)=>{"use strict";function g(m){return"function"==typeof m}N.d(nt,{m:()=>g})},8382:(Jt,nt,N)=>{"use strict";N.d(nt,{c:()=>K});var g=N(4850),m=N(4674);function K(re){return(0,m.m)(re[g.L])}},3664:(Jt,nt,N)=>{"use strict";N.d(nt,{T:()=>K});var g=N(4971),m=N(4674);function K(re){return(0,m.m)(null==re?void 0:re[g.h])}},4026:(Jt,nt,N)=>{"use strict";N.d(nt,{t:()=>m});var g=N(4674);function m(K){return(0,g.m)(null==K?void 0:K.then)}},541:(Jt,nt,N)=>{"use strict";N.d(nt,{L:()=>re,Q:()=>K});var g=N(7582),m=N(4674);function K(Se){return(0,g.FC)(this,arguments,function*(){const de=Se.getReader();try{for(;;){const{value:He,done:Ne}=yield(0,g.qq)(de.read());if(Ne)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(He)}}finally{de.releaseLock()}})}function re(Se){return(0,m.m)(null==Se?void 0:Se.getReader)}},9360:(Jt,nt,N)=>{"use strict";N.d(nt,{A:()=>m,e:()=>K});var g=N(4674);function m(re){return(0,g.m)(null==re?void 0:re.lift)}function K(re){return Se=>{if(m(Se))return Se.lift(function(Te){try{return re(Te,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Jt,nt,N)=>{"use strict";N.d(nt,{Z:()=>re});var g=N(7398);const{isArray:m}=Array;function re(Se){return(0,g.U)(Te=>function K(Se,Te){return m(Te)?Se(...Te):Se(Te)}(Se,Te))}},2420:(Jt,nt,N)=>{"use strict";function g(){}N.d(nt,{Z:()=>g})},8407:(Jt,nt,N)=>{"use strict";N.d(nt,{U:()=>K,z:()=>m});var g=N(2737);function m(...re){return K(re)}function K(re){return 0===re.length?g.y:1===re.length?re[0]:function(Te){return re.reduce((de,He)=>He(de),Te)}}},3894:(Jt,nt,N)=>{"use strict";N.d(nt,{h:()=>K});var g=N(2653),m=N(7599);function K(re){m.z.setTimeout(()=>{const{onUnhandledError:Se}=g.config;if(!Se)throw re;Se(re)})}},9853:(Jt,nt,N)=>{"use strict";function g(m){return new TypeError(`You provided ${null!==m&&"object"==typeof m?"an invalid object":`'${m}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(nt,{z:()=>g})},863:(Jt,nt,N)=>{var g={"./ion-accordion_2.entry.js":[8484,8592,8484],"./ion-action-sheet.entry.js":[9882,8592,9882],"./ion-alert.entry.js":[7068,8592,6304],"./ion-app_8.entry.js":[5860,8592,5860],"./ion-avatar_3.entry.js":[3544,3544],"./ion-back-button.entry.js":[505,8592,505],"./ion-backdrop.entry.js":[469,469],"./ion-breadcrumb_2.entry.js":[9857,8592,9857],"./ion-button_2.entry.js":[1372,1372],"./ion-card_5.entry.js":[3150,3150],"./ion-checkbox.entry.js":[7635,8592,7635],"./ion-chip.entry.js":[6673,6673],"./ion-col_3.entry.js":[1315,1315],"./ion-datetime-button.entry.js":[433,1207,433],"./ion-datetime_3.entry.js":[7059,1207,8592,7059],"./ion-fab_3.entry.js":[4087,8592,4087],"./ion-img.entry.js":[1745,1745],"./ion-infinite-scroll_2.entry.js":[9352,8592,9352],"./ion-input.entry.js":[4530,8592,4530],"./ion-item-option_3.entry.js":[8633,8592,8633],"./ion-item_8.entry.js":[5962,8592,5962],"./ion-loading.entry.js":[3483,3483],"./ion-menu_3.entry.js":[2939,8592,8382],"./ion-modal.entry.js":[8577,8592,8577],"./ion-nav_2.entry.js":[5675,8592,5675],"./ion-picker-column-internal.entry.js":[9992,8592,9992],"./ion-picker-internal.entry.js":[9820,9820],"./ion-popover.entry.js":[185,185],"./ion-progress-bar.entry.js":[5454,5454],"./ion-radio_2.entry.js":[4458,8592,4458],"./ion-range.entry.js":[7666,8592,7666],"./ion-refresher_2.entry.js":[7219,8592,7219],"./ion-reorder_2.entry.js":[2975,8592,2975],"./ion-ripple-effect.entry.js":[7465,7465],"./ion-route_4.entry.js":[4764,4764],"./ion-searchbar.entry.js":[3998,8592,3998],"./ion-segment_2.entry.js":[3672,8592,3672],"./ion-select_3.entry.js":[6754,8592,6754],"./ion-spinner.entry.js":[9588,8592,9588],"./ion-split-pane.entry.js":[9793,9793],"./ion-tab-bar_2.entry.js":[4090,8592,4090],"./ion-tab_2.entry.js":[2841,2841],"./ion-text.entry.js":[8811,8811],"./ion-textarea.entry.js":[3734,8592,3734],"./ion-toast.entry.js":[6642,6642],"./ion-toggle.entry.js":[8866,8592,8866]};function m(K){if(!N.o(g,K))return Promise.resolve().then(()=>{var Te=new Error("Cannot find module '"+K+"'");throw Te.code="MODULE_NOT_FOUND",Te});var re=g[K],Se=re[0];return Promise.all(re.slice(1).map(N.e)).then(()=>N(Se))}m.keys=()=>Object.keys(g),m.id=863,Jt.exports=m},6814:(Jt,nt,N)=>{"use strict";N.d(nt,{HT:()=>re,JF:()=>_o,K0:()=>Te,Mx:()=>ii,O5:()=>ji,PM:()=>Rs,S$:()=>Ee,Ye:()=>De,bD:()=>Vr,ez:()=>Ao,q:()=>K,rS:()=>at,tP:()=>bt,w_:()=>Se});var g=N(5879);let m=null;function K(){return m}function re(T){m||(m=T)}class Se{}const Te=new g.OlP("DocumentToken");let de=(()=>{var T;class V{historyGo(F){throw new Error("Not implemented")}}return(T=V).\u0275fac=function(F){return new(F||T)},T.\u0275prov=g.Yz7({token:T,factory:function(){return(0,g.f3M)(Ne)},providedIn:"platform"}),V})(),Ne=(()=>{var T;class V extends de{constructor(){super(),this._doc=(0,g.f3M)(Te),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return K().getBaseHref(this._doc)}onPopState(F){const le=K().getGlobalEventTarget(this._doc,"window");return le.addEventListener("popstate",F,!1),()=>le.removeEventListener("popstate",F)}onHashChange(F){const le=K().getGlobalEventTarget(this._doc,"window");return le.addEventListener("hashchange",F,!1),()=>le.removeEventListener("hashchange",F)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(F){this._location.pathname=F}pushState(F,le,Fe){this._history.pushState(F,le,Fe)}replaceState(F,le,Fe){this._history.replaceState(F,le,Fe)}forward(){this._history.forward()}back(){this._history.back()}historyGo(F=0){this._history.go(F)}getState(){return this._history.state}}return(T=V).\u0275fac=function(F){return new(F||T)},T.\u0275prov=g.Yz7({token:T,factory:function(){return new T},providedIn:"platform"}),V})();function he(T,V){if(0==T.length)return V;if(0==V.length)return T;let Ie=0;return T.endsWith("/")&&Ie++,V.startsWith("/")&&Ie++,2==Ie?T+V.substring(1):1==Ie?T+V:T+"/"+V}function oe(T){const V=T.match(/#|\?|$/),Ie=V&&V.index||T.length;return T.slice(0,Ie-("/"===T[Ie-1]?1:0))+T.slice(Ie)}function Me(T){return T&&"?"!==T[0]?"?"+T:T}let Ee=(()=>{var T;class V{historyGo(F){throw new Error("Not implemented")}}return(T=V).\u0275fac=function(F){return new(F||T)},T.\u0275prov=g.Yz7({token:T,factory:function(){return(0,g.f3M)($e)},providedIn:"root"}),V})();const Re=new g.OlP("appBaseHref");let $e=(()=>{var T;class V extends Ee{constructor(F,le){var Fe,gt,an;super(),this._platformLocation=F,this._removeListenerFns=[],this._baseHref=null!==(Fe=null!==(gt=null!=le?le:this._platformLocation.getBaseHrefFromDOM())&&void 0!==gt?gt:null===(an=(0,g.f3M)(Te).location)||void 0===an?void 0:an.origin)&&void 0!==Fe?Fe:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}prepareExternalUrl(F){return he(this._baseHref,F)}path(F=!1){const le=this._platformLocation.pathname+Me(this._platformLocation.search),Fe=this._platformLocation.hash;return Fe&&F?`${le}${Fe}`:le}pushState(F,le,Fe,gt){const an=this.prepareExternalUrl(Fe+Me(gt));this._platformLocation.pushState(F,le,an)}replaceState(F,le,Fe,gt){const an=this.prepareExternalUrl(Fe+Me(gt));this._platformLocation.replaceState(F,le,an)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){var le,Fe;null===(le=(Fe=this._platformLocation).historyGo)||void 0===le||le.call(Fe,F)}}return(T=V).\u0275fac=function(F){return new(F||T)(g.LFG(de),g.LFG(Re,8))},T.\u0275prov=g.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),V})(),De=(()=>{var T;class V{constructor(F){this._subject=new g.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=F;const le=this._locationStrategy.getBaseHref();this._basePath=function Qe(T){if(new RegExp("^(https?:)?//").test(T)){const[,Ie]=T.split(/\/\/[^\/]+/);return Ie}return T}(oe(ut(le))),this._locationStrategy.onPopState(Fe=>{this._subject.emit({url:this.path(!0),pop:!0,state:Fe.state,type:Fe.type})})}ngOnDestroy(){var F;null===(F=this._urlChangeSubscription)||void 0===F||F.unsubscribe(),this._urlChangeListeners=[]}path(F=!1){return this.normalize(this._locationStrategy.path(F))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(F,le=""){return this.path()==this.normalize(F+Me(le))}normalize(F){return V.stripTrailingSlash(function et(T,V){if(!T||!V.startsWith(T))return V;const Ie=V.substring(T.length);return""===Ie||["/",";","?","#"].includes(Ie[0])?Ie:V}(this._basePath,ut(F)))}prepareExternalUrl(F){return F&&"/"!==F[0]&&(F="/"+F),this._locationStrategy.prepareExternalUrl(F)}go(F,le="",Fe=null){this._locationStrategy.pushState(Fe,"",F,le),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+Me(le)),Fe)}replaceState(F,le="",Fe=null){this._locationStrategy.replaceState(Fe,"",F,le),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+Me(le)),Fe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(F=0){var le,Fe;null===(le=(Fe=this._locationStrategy).historyGo)||void 0===le||le.call(Fe,F)}onUrlChange(F){return this._urlChangeListeners.push(F),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(le=>{this._notifyUrlChangeListeners(le.url,le.state)})),()=>{const le=this._urlChangeListeners.indexOf(F);var Fe;this._urlChangeListeners.splice(le,1),0===this._urlChangeListeners.length&&(null===(Fe=this._urlChangeSubscription)||void 0===Fe||Fe.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(F="",le){this._urlChangeListeners.forEach(Fe=>Fe(F,le))}subscribe(F,le,Fe){return this._subject.subscribe({next:F,error:le,complete:Fe})}}return(T=V).normalizeQueryParams=Me,T.joinWithSlash=he,T.stripTrailingSlash=oe,T.\u0275fac=function(F){return new(F||T)(g.LFG(Ee))},T.\u0275prov=g.Yz7({token:T,factory:function(){return function _e(){return new De((0,g.LFG)(Ee))}()},providedIn:"root"}),V})();function ut(T){return T.replace(/\/index.html$/,"")}function ii(T,V){V=encodeURIComponent(V);for(const Ie of T.split(";")){const F=Ie.indexOf("="),[le,Fe]=-1==F?[Ie,""]:[Ie.slice(0,F),Ie.slice(F+1)];if(le.trim()===V)return decodeURIComponent(Fe)}return null}let ji=(()=>{var T;class V{constructor(F,le){this._viewContainer=F,this._context=new wi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=le}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){no("ngIfThen",F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){no("ngIfElse",F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(F,le){return!0}}return(T=V).\u0275fac=function(F){return new(F||T)(g.Y36(g.s_b),g.Y36(g.Rgc))},T.\u0275dir=g.lG2({type:T,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),V})();class wi{constructor(){this.$implicit=null,this.ngIf=null}}function no(T,V){if(V&&!V.createEmbeddedView)throw new Error(`${T} must be a TemplateRef, but received '${(0,g.AaK)(V)}'.`)}let bt=(()=>{var T;class V{constructor(F){this._viewContainerRef=F,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(F){if(F.ngTemplateOutlet||F.ngTemplateOutletInjector){const le=this._viewContainerRef;if(this._viewRef&&le.remove(le.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Fe,ngTemplateOutletContext:gt,ngTemplateOutletInjector:an}=this;this._viewRef=le.createEmbeddedView(Fe,gt,an?{injector:an}:void 0)}else this._viewRef=null}else this._viewRef&&F.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return(T=V).\u0275fac=function(F){return new(F||T)(g.Y36(g.s_b))},T.\u0275dir=g.lG2({type:T,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[g.TTD]}),V})();const Ge=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let at=(()=>{var T;class V{transform(F){if(null==F)return null;if("string"!=typeof F)throw function Rt(T,V){return new g.vHH(2100,!1)}();return F.replace(Ge,le=>le[0].toUpperCase()+le.slice(1).toLowerCase())}}return(T=V).\u0275fac=function(F){return new(F||T)},T.\u0275pipe=g.Yjl({name:"titlecase",type:T,pure:!0,standalone:!0}),V})(),Ao=(()=>{var T;class V{}return(T=V).\u0275fac=function(F){return new(F||T)},T.\u0275mod=g.oAB({type:T}),T.\u0275inj=g.cJS({}),V})();const Vr="browser",yo="server";function Rs(T){return T===yo}class _o{}},5879:(Jt,nt,N)=>{"use strict";N.d(nt,{$8M:()=>nc,$WT:()=>ur,AFp:()=>Sy,ALo:()=>$b,AaK:()=>Ee,CRH:()=>Fr,EJc:()=>DC,F$t:()=>Dv,F4k:()=>N_,FYo:()=>jp,FiY:()=>Du,G48:()=>dT,Gf:()=>Sr,GfV:()=>Ny,GkF:()=>yv,Gpc:()=>lt,HDt:()=>mD,Hsn:()=>_g,JOm:()=>sl,LFG:()=>dn,LMc:()=>BT,Lbi:()=>Am,Lck:()=>Cb,MMx:()=>X0,MR2:()=>Zd,NdJ:()=>xh,Ojb:()=>FI,OlP:()=>Ai,P3R:()=>ym,Q6J:()=>vv,QGY:()=>_v,Qsj:()=>jI,R0b:()=>fa,RDi:()=>im,RIp:()=>Em,Rgc:()=>Gh,SBq:()=>ah,Sil:()=>SC,Suo:()=>Xn,TTD:()=>Fa,TgZ:()=>Sh,VuI:()=>LT,X6Q:()=>uT,XFs:()=>Qt,Xpm:()=>sn,Xq5:()=>y_,Xts:()=>Yd,Y36:()=>dl,YKP:()=>Z0,YNc:()=>gg,Yjl:()=>Gt,Yz7:()=>St,Z0I:()=>Pn,ZZ4:()=>gw,_Bn:()=>up,_UZ:()=>$l,_uU:()=>ip,aQg:()=>mw,c2e:()=>gD,cJS:()=>In,cg1:()=>Tg,dDg:()=>QC,dqk:()=>Rn,eJc:()=>Xb,ekj:()=>q_,eoX:()=>SD,f3M:()=>Dn,g9A:()=>hs,h0i:()=>Ec,hij:()=>ta,iGM:()=>sr,iPO:()=>iT,ifc:()=>bi,ip1:()=>pD,jDz:()=>Xv,kL8:()=>Uv,lG2:()=>Mt,lcZ:()=>lI,lqb:()=>kl,lri:()=>CD,n5z:()=>fi,oAB:()=>Ke,oxw:()=>wv,q4F:()=>km,qFp:()=>VT,qLn:()=>ul,qOj:()=>_h,qZA:()=>su,rWj:()=>TD,rg0:()=>Qa,sBO:()=>hT,s_b:()=>Vg,soG:()=>_I,tb:()=>cw,uIk:()=>oo,vHH:()=>we,vpe:()=>bc,wAp:()=>$h,xp6:()=>od,z2F:()=>Hg,zSh:()=>Dm,zs3:()=>Ta});var he,g=N(8645),m=N(7394),K=N(5619),re=N(5592),Se=N(3019),Te=N(2096),de=N(3020),He=N(4664),Ne=N(3997);function oe(n){for(let i in n)if(n[i]===oe)return i;throw Error("Could not find renamed property on target object.")}function Me(n,i){for(const s in i)i.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=i[s])}function Ee(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ee).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function Re(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const $e=oe({__forward_ref__:oe});function lt(n){return n.__forward_ref__=lt,n.toString=function(){return Ee(this())},n}function De(n){return _e(n)?n():n}function _e(n){return"function"==typeof n&&n.hasOwnProperty($e)&&n.__forward_ref__===lt}function et(n){return n&&!!n.\u0275providers}const Qe="https://g.co/ng/security#xss";class we extends Error{constructor(i,s){super(function ke(n,i){return`NG0${Math.abs(n)}${i?": "+i:""}`}(i,s)),this.code=i}}function Le(n){return"string"==typeof n?n:null==n?"":String(n)}function Je(n,i){throw new we(-201,!1)}function kt(n,i){null==n&&function It(n,i,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${i} <=Actual]`))}(i,n,null,"!=")}function St(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function In(n){return{providers:n.providers||[],imports:n.imports||[]}}function qt(n){return Tn(n,Nn)||Tn(n,_r)}function Pn(n){return null!==qt(n)}function Tn(n,i){return n.hasOwnProperty(i)?n[i]:null}function yn(n){return n&&(n.hasOwnProperty(Zr)||n.hasOwnProperty(Ar))?n[Zr]:null}const Nn=oe({\u0275prov:oe}),Zr=oe({\u0275inj:oe}),_r=oe({ngInjectableDef:oe}),Ar=oe({ngInjectorDef:oe});var Qt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Qt||{});let kn;function qn(n){const i=kn;return kn=n,i}function fr(n,i,s){const a=qt(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Qt.Optional?null:void 0!==i?i:void Je(Ee(n))}const Rn=globalThis,tn={},mn="__NG_DI_FLAG__",On="ngTempTokenPath",te=/\n/gm,Ae="__source";let ne;function _t(n){const i=ne;return ne=n,i}function jt(n,i=Qt.Default){if(void 0===ne)throw new we(-203,!1);return null===ne?fr(n,void 0,i):ne.get(n,i&Qt.Optional?null:void 0,i)}function dn(n,i=Qt.Default){return(function Mr(){return kn}()||jt)(De(n),i)}function Dn(n,i=Qt.Default){return dn(n,zn(i))}function zn(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Pr(n){const i=[];for(let s=0;s<n.length;s++){const a=De(n[s]);if(Array.isArray(a)){if(0===a.length)throw new we(900,!1);let c,h=Qt.Default;for(let v=0;v<a.length;v++){const w=a[v],M=Ni(w);"number"==typeof M?-1===M?c=w.token:h|=M:c=w}i.push(dn(c,h))}else i.push(dn(a))}return i}function Dr(n,i){return n[mn]=i,n.prototype[mn]=i,n}function Ni(n){return n[mn]}function Zn(n){return{toString:n}.toString()}var Nr=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Nr||{}),bi=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(bi||{});const ri={},Wn=[],xi=oe({\u0275cmp:oe}),Ui=oe({\u0275dir:oe}),to=oe({\u0275pipe:oe}),ui=oe({\u0275mod:oe}),ii=oe({\u0275fac:oe}),Er=oe({__NG_ELEMENT_ID__:oe}),nr=oe({__NG_ENV_ID__:oe});function Co(n,i,s){let a=n.length;for(;;){const c=n.indexOf(i,s);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const h=i.length;if(c+h===a||n.charCodeAt(c+h)<=32)return c}s=c+1}}function so(n,i,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const h=s[a++],v=s[a++],w=s[a++];n.setAttribute(i,v,w,h)}else{const h=c,v=s[++a];ao(h)?n.setProperty(i,h,v):n.setAttribute(i,h,v),a++}}return a}function Ri(n){return 3===n||4===n||6===n}function ao(n){return 64===n.charCodeAt(0)}function Oi(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let s=-1;for(let a=0;a<i.length;a++){const c=i[a];"number"==typeof c?s=c:0===s||Zi(n,s,c,null,-1===s||2===s?i[++a]:null)}}return n}function Zi(n,i,s,a,c){let h=0,v=n.length;if(-1===i)v=-1;else for(;h<n.length;){const w=n[h++];if("number"==typeof w){if(w===i){v=-1;break}if(w>i){v=h-1;break}}}for(;h<n.length;){const w=n[h];if("number"==typeof w)break;if(w===s){if(null===a)return void(null!==c&&(n[h+1]=c));if(a===n[h+1])return void(n[h+2]=c)}h++,null!==a&&h++,null!==c&&h++}-1!==v&&(n.splice(v,0,i),h=v+1),n.splice(h++,0,s),null!==a&&n.splice(h++,0,a),null!==c&&n.splice(h++,0,c)}const cr="ng-template";function ji(n,i,s){let a=0,c=!0;for(;a<n.length;){let h=n[a++];if("string"==typeof h&&c){const v=n[a++];if(s&&"class"===h&&-1!==Co(v.toLowerCase(),i,0))return!0}else{if(1===h){for(;a<n.length&&"string"==typeof(h=n[a++]);)if(h.toLowerCase()===i)return!0;return!1}"number"==typeof h&&(c=!1)}}return!1}function wi(n){return 4===n.type&&n.value!==cr}function no(n,i,s){return i===(4!==n.type||s?n.value:cr)}function Hi(n,i,s){let a=4;const c=n.attrs||[],h=function xe(n){for(let i=0;i<n.length;i++)if(Ri(n[i]))return i;return n.length}(c);let v=!1;for(let w=0;w<i.length;w++){const M=i[w];if("number"!=typeof M){if(!v)if(4&a){if(a=2|1&a,""!==M&&!no(n,M,s)||""===M&&1===i.length){if(Lr(a))return!1;v=!0}}else{const U=8&a?M:i[++w];if(8&a&&null!==n.attrs){if(!ji(n.attrs,U,s)){if(Lr(a))return!1;v=!0}continue}const ce=Q(8&a?"class":M,c,wi(n),s);if(-1===ce){if(Lr(a))return!1;v=!0;continue}if(""!==U){let Ue;Ue=ce>h?"":c[ce+1].toLowerCase();const ot=8&a?Ue:null;if(ot&&-1!==Co(ot,U,0)||2&a&&U!==Ue){if(Lr(a))return!1;v=!0}}}}else{if(!v&&!Lr(a)&&!Lr(M))return!1;if(v&&Lr(M))continue;v=!1,a=M|1&a}}return Lr(a)||v}function Lr(n){return 0==(1&n)}function Q(n,i,s,a){if(null===i)return-1;let c=0;if(a||!s){let h=!1;for(;c<i.length;){const v=i[c];if(v===n)return c;if(3===v||6===v)h=!0;else{if(1===v||2===v){let w=i[++c];for(;"string"==typeof w;)w=i[++c];continue}if(4===v)break;if(0===v){c+=4;continue}}c+=h?1:2}return-1}return function pt(n,i){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===i)return s;s++}return-1}(i,n)}function W(n,i,s=!1){for(let a=0;a<i.length;a++)if(Hi(n,i[a],s))return!0;return!1}function st(n,i){e:for(let s=0;s<i.length;s++){const a=i[s];if(n.length===a.length){for(let c=0;c<n.length;c++)if(n[c]!==a[c])continue e;return!0}}return!1}function bt(n,i){return n?":not("+i.trim()+")":i}function Ft(n){let i=n[0],s=1,a=2,c="",h=!1;for(;s<n.length;){let v=n[s];if("string"==typeof v)if(2&a){const w=n[++s];c+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&a?c+="."+v:4&a&&(c+=" "+v);else""!==c&&!Lr(v)&&(i+=bt(h,c),c=""),a=v,h=h||!Lr(a);s++}return""!==c&&(i+=bt(h,c)),i}function sn(n){return Zn(()=>{var i;const s=ns(n),a={...s,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Nr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:null!==(i=n.signals)&&void 0!==i&&i,data:n.data||{},encapsulation:n.encapsulation||bi.Emulated,styles:n.styles||Wn,_:null,schemas:n.schemas||null,tView:null,id:""};zr(a);const c=n.dependencies;return a.directiveDefs=No(c,!1),a.pipeDefs=No(c,!0),a.id=function lo(n){let i=0;const s=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const c of s)i=Math.imul(31,i)+c.charCodeAt(0)<<0;return i+=2147483648,"c"+i}(a),a})}function An(n){return nn(n)||Mn(n)}function gr(n){return null!==n}function Ke(n){return Zn(()=>({type:n.type,bootstrap:n.bootstrap||Wn,declarations:n.declarations||Wn,imports:n.imports||Wn,exports:n.exports||Wn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function at(n,i){if(null==n)return ri;const s={};for(const a in n)if(n.hasOwnProperty(a)){let c=n[a],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),s[c]=a,i&&(i[c]=h)}return s}function Mt(n){return Zn(()=>{const i=ns(n);return zr(i),i})}function Gt(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function nn(n){return n[xi]||null}function Mn(n){return n[Ui]||null}function Hn(n){return n[to]||null}function ur(n){const i=nn(n)||Mn(n)||Hn(n);return null!==i&&i.standalone}function Qr(n,i){const s=n[ui]||null;if(!s&&!0===i)throw new Error(`Type ${Ee(n)} does not have '\u0275mod' property.`);return s}function ns(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:n.inputs||ri,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Wn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:at(n.inputs,i),outputs:at(n.outputs)}}function zr(n){var i;null===(i=n.features)||void 0===i||i.forEach(s=>s(n))}function No(n,i){if(!n)return null;const s=i?Hn:An;return()=>("function"==typeof n?n():n).map(a=>s(a)).filter(gr)}const $r=0,on=1,er=2,Tr=3,zi=4,So=5,Di=6,Ao=7,Vr=8,yo=9,oi=10,$n=11,gs=12,Rs=13,Mo=14,di=15,ms=16,gi=17,Jr=18,ro=19,vs=20,_o=21,pr=22,Wo=23,Xi=24,ir=25,os=1,xo=2,Wr=7,Io=9,ei=11;function Wi(n){return Array.isArray(n)&&"object"==typeof n[os]}function Ci(n){return Array.isArray(n)&&!0===n[os]}function Yo(n){return 0!=(4&n.flags)}function qi(n){return n.componentOffset>-1}function Ro(n){return 1==(1&n.flags)}function Pi(n){return!!n.template}function _s(n){return 0!=(512&n[er])}function Ct(n,i){return n.hasOwnProperty(ii)?n[ii]:null}let mi=null!==(he=Rn.WeakRef)&&void 0!==he?he:class ki{constructor(i){this.ref=i}deref(){return this.ref}},Ko=0,Fi=null,Zo=!1;function Qi(n){const i=Fi;return Fi=n,i}class Ji{constructor(){this.id=Ko++,this.ref=function Oo(n){return new mi(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[i,s]of this.producers){const a=s.producerNode.deref();if(null!=a&&s.atTrackingVersion===this.trackingVersion){if(a.producerPollStatus(s.seenValueVersion))return!0}else this.producers.delete(i),null==a||a.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const i=Zo;Zo=!0;try{for(const[s,a]of this.consumers){const c=a.consumerNode.deref();null!=c&&c.trackingVersion===a.atTrackingVersion?c.onConsumerDependencyMayHaveChanged():(this.consumers.delete(s),null==c||c.producers.delete(this.id))}}finally{Zo=i}}producerAccessed(){if(Zo)throw new Error("");if(null===Fi)return;let i=Fi.producers.get(this.id);void 0===i?(i={consumerNode:Fi.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Fi.trackingVersion},Fi.producers.set(this.id,i),this.consumers.set(Fi.id,i)):(i.seenValueVersion=this.valueVersion,i.atTrackingVersion=Fi.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){var i;return!1!==(null===(i=Fi)||void 0===i?void 0:i.consumerAllowSignalWrites)}producerPollStatus(i){return this.valueVersion!==i||(this.onProducerUpdateValueVersion(),this.valueVersion!==i)}}let oa=null;function Qa(n){const i=Qi(null);try{return n()}finally{Qi(i)}}const Is=()=>{};class _l extends Ji{constructor(i,s,a){super(),this.watch=i,this.schedule=s,this.dirty=!1,this.cleanupFn=Is,this.registerOnCleanup=c=>{this.cleanupFn=c},this.consumerAllowSignalWrites=a}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const i=Qi(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Is,this.watch(this.registerOnCleanup)}finally{Qi(i)}}cleanup(){this.cleanupFn()}}class ma{constructor(i,s,a){this.previousValue=i,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Fa(){return Ds}function Ds(n){return n.type.prototype.ngOnChanges&&(n.setInput=Bo),Os}function Os(){const n=V(this),i=null==n?void 0:n.current;if(i){const s=n.previous;if(s===ri)n.previous=i;else for(let a in i)s[a]=i[a];n.current=null,this.ngOnChanges(i)}}function Bo(n,i,s,a){const c=this.declaredInputs[s],h=V(n)||function Ie(n,i){return n[T]=i}(n,{previous:ri,current:null}),v=h.current||(h.current={}),w=h.previous,M=w[c];v[c]=new ma(M&&M.currentValue,i,w===ri),n[a]=i}Fa.ngInherit=!0;const T="__ngSimpleChanges__";function V(n){return n[T]||null}const Fe=function(n,i,s){};function xn(n){for(;Array.isArray(n);)n=n[$r];return n}function br(n,i){return xn(i[n])}function Gn(n,i){return xn(i[n.index])}function Rr(n,i){return n.data[i]}function Ur(n,i){const s=i[n];return Wi(s)?s:s[$r]}function co(n,i){return null==i?null:n[i]}function rs(n){n[gi]=0}function Cs(n){1024&n[er]||(n[er]|=1024,Ps(n,1))}function ko(n){1024&n[er]&&(n[er]&=-1025,Ps(n,-1))}function Ps(n,i){let s=n[Tr];if(null===s)return;s[So]+=i;let a=s;for(s=s[Tr];null!==s&&(1===i&&1===a[So]||-1===i&&0===a[So]);)s[So]+=i,a=s,s=s[Tr]}const rr={lFrame:kr(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ql(){return rr.bindingsEnabled}function ls(){return null!==rr.skipHydrationRootTNode}function zt(){return rr.lFrame.lView}function Br(){return rr.lFrame.tView}function Yr(){let n=io();for(;null!==n&&64===n.type;)n=n.parent;return n}function io(){return rr.lFrame.currentTNode}function _n(n,i){const s=rr.lFrame;s.currentTNode=n,s.isParent=i}function ya(){return rr.lFrame.isParent}function wn(){rr.lFrame.isParent=!1}function _a(){return rr.lFrame.bindingIndex++}function wd(n,i){const s=rr.lFrame;s.bindingIndex=s.bindingRootIndex=n,Ia(i)}function Ia(n){rr.lFrame.currentDirectiveIndex=n}function ar(){return rr.lFrame.currentQueryIndex}function Ea(n){rr.lFrame.currentQueryIndex=n}function Kl(n){const i=n[on];return 2===i.type?i.declTNode:1===i.type?n[Di]:null}function $i(n,i,s){if(s&Qt.SkipSelf){let c=i,h=n;for(;!(c=c.parent,null!==c||s&Qt.Host||(c=Kl(h),null===c||(h=h[Mo],10&c.type))););if(null===c)return!1;i=c,n=h}const a=rr.lFrame=La();return a.currentTNode=i,a.lView=n,!0}function Bn(n){const i=La(),s=n[on];rr.lFrame=i,i.currentTNode=s.firstChild,i.lView=n,i.tView=s,i.contextLView=n,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function La(){const n=rr.lFrame,i=null===n?null:n.child;return null===i?kr(n):i}function kr(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function pu(){const n=rr.lFrame;return rr.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const b=pu;function D(){const n=pu();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function L(){return rr.lFrame.selectedIndex}function ee(n){rr.lFrame.selectedIndex=n}function ue(){const n=rr.lFrame;return Rr(n.tView,n.selectedIndex)}let Gr=!0;function uo(){return Gr}function wr(n){Gr=n}function Uo(n,i){for(let U=i.directiveStart,q=i.directiveEnd;U<q;U++){const Ue=n.data[U].type.prototype,{ngAfterContentInit:ot,ngAfterContentChecked:Ot,ngAfterViewInit:rn,ngAfterViewChecked:Cn,ngOnDestroy:Kn}=Ue;var s,a,c,h,v,w,M;ot&&(null!==(s=n.contentHooks)&&void 0!==s?s:n.contentHooks=[]).push(-U,ot),Ot&&((null!==(a=n.contentHooks)&&void 0!==a?a:n.contentHooks=[]).push(U,Ot),(null!==(c=n.contentCheckHooks)&&void 0!==c?c:n.contentCheckHooks=[]).push(U,Ot)),rn&&(null!==(h=n.viewHooks)&&void 0!==h?h:n.viewHooks=[]).push(-U,rn),Cn&&((null!==(v=n.viewHooks)&&void 0!==v?v:n.viewHooks=[]).push(U,Cn),(null!==(w=n.viewCheckHooks)&&void 0!==w?w:n.viewCheckHooks=[]).push(U,Cn)),null!=Kn&&(null!==(M=n.destroyHooks)&&void 0!==M?M:n.destroyHooks=[]).push(U,Kn)}}function ht(n,i,s){$a(n,i,3,s)}function cs(n,i,s,a){(3&n[er])===s&&$a(n,i,s,a)}function bo(n,i){let s=n[er];(3&s)===i&&(s&=8191,s+=1,n[er]=s)}function $a(n,i,s,a){const h=null!=a?a:-1,v=i.length-1;let w=0;for(let M=void 0!==a?65535&n[gi]:0;M<v;M++)if("number"==typeof i[M+1]){if(w=i[M],null!=a&&w>=a)break}else i[M]<0&&(n[gi]+=65536),(w<h||-1==h)&&(Es(n,s,i,M),n[gi]=(4294901760&n[gi])+M+2),M++}function Xo(n,i){Fe(4,n,i);const s=Qi(null);try{i.call(n)}finally{Qi(s),Fe(5,n,i)}}function Es(n,i,s,a){const c=s[a]<0,h=s[a+1],w=n[c?-s[a]:s[a]];c?n[er]>>13<n[gi]>>16&&(3&n[er])===i&&(n[er]+=8192,Xo(w,h)):Xo(w,h)}const Qo=-1;class ks{constructor(i,s,a){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Po(n){return n!==Qo}function Tc(n){return 32767&n}function is(n,i){let s=function Sc(n){return n>>16}(n),a=i;for(;s>0;)a=a[Mo],s--;return a}let wl=!0;function la(n){const i=wl;return wl=n,i}const Ac=255,mu=5;let Cd=0;const Xs={};function Dl(n,i){const s=Mc(n,i);if(-1!==s)return s;const a=i[on];a.firstCreatePass&&(n.injectorIndex=i.length,vu(a.data,n),vu(i,null),vu(a.blueprint,null));const c=Ql(n,i),h=n.injectorIndex;if(Po(c)){const v=Tc(c),w=is(c,i),M=w[on].data;for(let U=0;U<8;U++)i[h+U]=w[v+U]|M[v+U]}return i[h+8]=c,h}function vu(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Mc(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function Ql(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,c=i;for(;null!==c;){if(a=Bi(c),null===a)return Qo;if(s++,c=c[Mo],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return Qo}function yu(n,i,s){!function mp(n,i,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Er)&&(a=s[Er]),null==a&&(a=s[Er]=Cd++);const c=a&Ac;i.data[n+(c>>mu)]|=1<<c}(n,i,s)}function Td(n,i,s){if(s&Qt.Optional||void 0!==n)return n;Je()}function Sd(n,i,s,a){if(s&Qt.Optional&&void 0===a&&(a=null),!(s&(Qt.Self|Qt.Host))){const c=n[yo],h=qn(void 0);try{return c?c.get(i,a,s&Qt.Optional):fr(i,a,s&Qt.Optional)}finally{qn(h)}}return Td(a,0,s)}function xc(n,i,s,a=Qt.Default,c){if(null!==n){if(2048&i[er]&&!(a&Qt.Self)){const v=function Lo(n,i,s,a,c){let h=n,v=i;for(;null!==h&&null!==v&&2048&v[er]&&!(512&v[er]);){const w=Ad(h,v,s,a|Qt.Self,Xs);if(w!==Xs)return w;let M=h.parent;if(!M){const U=v[vs];if(U){const q=U.get(s,Xs,a);if(q!==Xs)return q}M=Bi(v),v=v[Mo]}h=M}return c}(n,i,s,a,Xs);if(v!==Xs)return v}const h=Ad(n,i,s,a,Xs);if(h!==Xs)return h}return Sd(i,s,a,c)}function Ad(n,i,s,a,c){const h=function Jl(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Er)?n[Er]:void 0;return"number"==typeof i?i>=0?i&Ac:tc:i}(s);if("function"==typeof h){if(!$i(i,n,a))return a&Qt.Host?Td(c,0,a):Sd(i,s,a,c);try{let v;if(v=h(a),null!=v||a&Qt.Optional)return v;Je()}finally{b()}}else if("number"==typeof h){let v=null,w=Mc(n,i),M=Qo,U=a&Qt.Host?i[di][Di]:null;for((-1===w||a&Qt.SkipSelf)&&(M=-1===w?Ql(n,i):i[w+8],M!==Qo&&Tl(a,!1)?(v=i[on],w=Tc(M),i=is(M,i)):w=-1);-1!==w;){const q=i[on];if(ec(h,w,q.data)){const ce=Zh(w,i,s,v,a,U);if(ce!==Xs)return ce}M=i[w+8],M!==Qo&&Tl(a,i[on].data[w+8]===U)&&ec(h,w,i)?(v=q,w=Tc(M),i=is(M,i)):w=-1}}return c}function Zh(n,i,s,a,c,h){const v=i[on],w=v.data[n+8],q=Cl(w,v,s,null==a?qi(w)&&wl:a!=v&&0!=(3&w.type),c&Qt.Host&&h===w);return null!==q?Ba(i,v,q,w):Xs}function Cl(n,i,s,a,c){const h=n.providerIndexes,v=i.data,w=1048575&h,M=n.directiveStart,q=h>>20,Ue=c?w+q:n.directiveEnd;for(let ot=a?w:w+q;ot<Ue;ot++){const Ot=v[ot];if(ot<M&&s===Ot||ot>=M&&Ot.type===s)return ot}if(c){const ot=v[M];if(ot&&Pi(ot)&&ot.type===s)return M}return null}function Ba(n,i,s,a){let c=n[s];const h=i.data;if(function gu(n){return n instanceof ks}(c)){const v=c;v.resolving&&function Z(n,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new we(-200,`Circular dependency in DI detected for ${n}${s}`)}(function be(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Le(n)}(h[s]));const w=la(v.canSeeViewProviders);v.resolving=!0;const U=v.injectImpl?qn(v.injectImpl):null;$i(n,a,Qt.Default);try{c=n[s]=v.factory(void 0,h,n,a),i.firstCreatePass&&s>=a.directiveStart&&function Ti(n,i,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:h}=i.type.prototype;if(a){var v,w;const ce=Ds(i);(null!==(v=s.preOrderHooks)&&void 0!==v?v:s.preOrderHooks=[]).push(n,ce),(null!==(w=s.preOrderCheckHooks)&&void 0!==w?w:s.preOrderCheckHooks=[]).push(n,ce)}var M,U,q;c&&(null!==(M=s.preOrderHooks)&&void 0!==M?M:s.preOrderHooks=[]).push(0-n,c),h&&((null!==(U=s.preOrderHooks)&&void 0!==U?U:s.preOrderHooks=[]).push(n,h),(null!==(q=s.preOrderCheckHooks)&&void 0!==q?q:s.preOrderCheckHooks=[]).push(n,h))}(s,h[s],i)}finally{null!==U&&qn(U),la(w),v.resolving=!1,b()}}return c}function ec(n,i,s){return!!(s[i+(n>>mu)]&1<<n)}function Tl(n,i){return!(n&Qt.Self||n&Qt.Host&&i)}class eo{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,a){return xc(this._tNode,this._lView,i,zn(a),s)}}function tc(){return new eo(Yr(),zt())}function fi(n){return Zn(()=>{const i=n.prototype.constructor,s=i[ii]||ba(i),a=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==a;){const h=c[ii]||ba(c);if(h&&h!==s)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function ba(n){return _e(n)?()=>{const i=ba(De(n));return i&&i()}:Ct(n)}function Bi(n){const i=n[on],s=i.type;return 2===s?i.declTNode:1===s?n[Di]:null}function nc(n){return function _u(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const s=n.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const h=s[c];if(Ri(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(h===i)return s[c+1];c+=2}}}return null}(Yr(),n)}const $o="__parameters__";function Al(n,i,s){return Zn(()=>{const a=function fo(n){return function(...s){if(n){const a=n(...s);for(const c in a)this[c]=a[c]}}}(i);function c(...h){if(this instanceof c)return a.apply(this,h),this;const v=new c(...h);return w.annotation=v,w;function w(M,U,q){const ce=M.hasOwnProperty($o)?M[$o]:Object.defineProperty(M,$o,{value:[]})[$o];for(;ce.length<=q;)ce.push(null);return(ce[q]=ce[q]||[]).push(v),M}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}function At(n,i){n.forEach(s=>Array.isArray(s)?At(s,i):i(s))}function bn(n,i,s){i>=n.length?n.push(s):n.splice(i,0,s)}function un(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function Fn(n,i){const s=[];for(let a=0;a<n;a++)s.push(i);return s}function po(n,i,s){let a=Fs(n,i);return a>=0?n[1|a]=s:(a=~a,function As(n,i,s,a){let c=n.length;if(c==i)n.push(s,a);else if(1===c)n.push(a,n[0]),n[0]=s;else{for(c--,n.push(n[c-1],n[c]);c>i;)n[c]=n[c-2],c--;n[i]=s,n[i+1]=a}}(n,a,i,s)),a}function Ml(n,i){const s=Fs(n,i);if(s>=0)return n[1|s]}function Fs(n,i){return function Js(n,i,s){let a=0,c=n.length>>s;for(;c!==a;){const h=a+(c-a>>1),v=n[h<<s];if(i===v)return h<<s;v>i?c=h:a=h+1}return~(c<<s)}(n,i,1)}const Du=Dr(Al("Optional"),8),_i=Dr(Al("SkipSelf"),4);function us(n){return 128==(128&n.flags)}var sl=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(sl||{});const Od=/^>|^->|<!--|-->|--!>|<!-$/g,da=/(<|>)/,cf="\u200b$1\u200b";const Ou=new Map;let Kg=0;const df="__ngContext__";function mo(n,i){Wi(i)?(n[df]=i[ro],function Pu(n){Ou.set(n[ro],n)}(i)):n[df]=i}let Ki;function cc(n,i){return Ki(n,i)}function Pl(n){const i=n[Tr];return Ci(i)?i[Tr]:i}function Tp(n){return _(n[gs])}function ff(n){return _(n[zi])}function _(n){for(;null!==n&&!Ci(n);)n=n[zi];return n}function d(n,i,s,a,c){if(null!=a){let h,v=!1;Ci(a)?h=a:Wi(a)&&(v=!0,a=a[$r]);const w=xn(a);0===n&&null!==s?null==c?$d(i,s,w):ll(i,s,w,c||null,!0):1===n&&null!==s?ll(i,s,w,c||null,!0):2===n?function Sp(n,i,s){const a=Ga(n,i);a&&function jc(n,i,s,a){n.removeChild(i,s,a)}(n,a,i,s)}(i,w,v):3===n&&i.destroyNode(w),null!=h&&function rm(n,i,s,a,c){const h=s[Wr];h!==xn(s)&&d(i,n,a,h,c);for(let w=ei;w<s.length;w++){const M=s[w];Ud(M[on],M,n,i,a,h)}}(i,n,h,s,c)}}function H(n,i){return n.createComment(function $c(n){return n.replace(Od,i=>i.replace(da,cf))}(i))}function J(n,i,s){return n.createElement(i,s)}function Or(n,i){const s=n[Io],a=s.indexOf(i);ko(i),s.splice(a,1)}function vr(n,i){if(n.length<=ei)return;const s=ei+i,a=n[s];if(a){const c=a[ms];null!==c&&c!==n&&Or(c,a),i>0&&(n[s-1][zi]=a[zi]);const h=un(n,ei+i);!function qe(n,i){Ud(n,i,i[$n],2,null,null),i[$r]=null,i[Di]=null}(a[on],a);const v=h[Jr];null!==v&&v.detachView(h[on]),a[Tr]=null,a[zi]=null,a[er]&=-129}return a}function uc(n,i){if(!(256&i[er])){var s,a;const c=i[$n];null===(s=i[Wo])||void 0===s||s.destroy(),null===(a=i[Xi])||void 0===a||a.destroy(),c.destroyNode&&Ud(n,i,c,3,null,null),function gn(n){let i=n[gs];if(!i)return $u(n[on],n);for(;i;){let s=null;if(Wi(i))s=i[gs];else{const a=i[ei];a&&(s=a)}if(!s){for(;i&&!i[zi]&&i!==n;)Wi(i)&&$u(i[on],i),i=i[Tr];null===i&&(i=n),Wi(i)&&$u(i[on],i),s=i&&i[zi]}i=s}}(i)}}function $u(n,i){if(!(256&i[er])){i[er]&=-129,i[er]|=256,function Vu(n,i){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const c=i[s[a]];if(!(c instanceof ks)){const h=s[a+1];if(Array.isArray(h))for(let v=0;v<h.length;v+=2){const w=c[h[v]],M=h[v+1];Fe(4,w,M);try{M.call(w)}finally{Fe(5,w,M)}}else{Fe(4,c,h);try{h.call(c)}finally{Fe(5,c,h)}}}}}(n,i),function Bu(n,i){const s=n.cleanup,a=i[Ao];if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const v=s[h+3];v>=0?a[v]():a[-v].unsubscribe(),h+=2}else s[h].call(a[s[h+1]]);null!==a&&(i[Ao]=null);const c=i[_o];if(null!==c){i[_o]=null;for(let h=0;h<c.length;h++)(0,c[h])()}}(n,i),1===i[on].type&&i[$n].destroy();const s=i[ms];if(null!==s&&Ci(i[Tr])){s!==i[Tr]&&Or(s,i);const a=i[Jr];null!==a&&a.detachView(n)}!function Cp(n){Ou.delete(n[ro])}(i)}}function Uu(n,i,s){return function Ld(n,i,s){let a=i;for(;null!==a&&40&a.type;)a=(i=a).parent;if(null===a)return s[$r];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:h}=n.data[a.directiveStart+c];if(h===bi.None||h===bi.Emulated)return null}return Gn(a,s)}}(n,i.parent,s)}function ll(n,i,s,a,c){n.insertBefore(i,s,a,c)}function $d(n,i,s){n.appendChild(i,s)}function Uc(n,i,s,a,c){null!==a?ll(n,i,s,a,c):$d(n,i,s)}function Ga(n,i){return n.parentNode(i)}function Xg(n,i,s){return Jg(n,i,s)}let em,zu,yf,Jg=function Qg(n,i,s){return 40&n.type?Gn(n,s):null};function pf(n,i,s,a){const c=Uu(n,a,i),h=i[$n],w=Xg(a.parent||i[Di],a,i);if(null!=c)if(Array.isArray(s))for(let M=0;M<s.length;M++)Uc(h,c,s[M],w,!1);else Uc(h,c,s,w,!1);void 0!==em&&em(h,a,i,s,c)}function gf(n,i){if(null!==i){const s=i.type;if(3&s)return Gn(i,n);if(4&s)return nm(-1,n[i.index]);if(8&s){const a=i.child;if(null!==a)return gf(n,a);{const c=n[i.index];return Ci(c)?nm(-1,c):xn(c)}}if(32&s)return cc(i,n)()||xn(n[i.index]);{const a=dy(n,i);return null!==a?Array.isArray(a)?a[0]:gf(Pl(n[di]),a):gf(n,i.next)}}return null}function dy(n,i){return null!==i?n[di][Di].projection[i.projection]:null}function nm(n,i){const s=ei+n+1;if(s<i.length){const a=i[s],c=a[on].firstChild;if(null!==c)return gf(a,c)}return i[Wr]}function Hc(n,i,s,a,c,h,v){for(;null!=s;){const w=a[s.index],M=s.type;if(v&&0===i&&(w&&mo(xn(w),a),s.flags|=2),32!=(32&s.flags))if(8&M)Hc(n,i,s.child,a,c,h,!1),d(i,n,c,w,h);else if(32&M){const U=cc(s,a);let q;for(;q=U();)d(i,n,c,q,h);d(i,n,c,w,h)}else 16&M?jo(n,i,a,s,c,h):d(i,n,c,w,h);s=v?s.projectionNext:s.next}}function Ud(n,i,s,a,c,h){Hc(s,a,n.firstChild,i,c,h,!1)}function jo(n,i,s,a,c,h){const v=s[di],M=v[Di].projection[a.projection];if(Array.isArray(M))for(let U=0;U<M.length;U++)d(i,n,c,M[U],h);else{let U=M;const q=v[Tr];us(a)&&(U.flags|=128),Hc(n,i,U,q,c,h,!0)}}function cl(n,i,s){""===s?n.removeAttribute(i,"class"):n.setAttribute(i,"class",s)}function Mp(n,i,s){const{mergedAttrs:a,classes:c,styles:h}=s;null!==a&&so(n,i,a),null!==c&&cl(n,i,c),null!==h&&function mf(n,i,s){n.setAttribute(i,"style",s)}(n,i,h)}function im(n){zu=n}function sm(n){var i;return(null===(i=function _f(){if(void 0===yf&&(yf=null,Rn.trustedTypes))try{yf=Rn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return yf}())||void 0===i?void 0:i.createScriptURL(n))||n}class my{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Qe})`}}function Gc(n){return n instanceof my?n.changingThisBreaksApplicationSecurity:n}function zd(n,i){const s=function dc(n){return n instanceof my&&n.getTypeName()||null}(n);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see ${Qe})`)}return s===i}const lm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var qu=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(qu||{});function mm(n){const i=hc();return i?i.sanitize(qu.URL,n)||"":zd(n,"URL")?Gc(n):function Ef(n){return(n=String(n)).match(lm)?n:"unsafe:"+n}(Le(n))}function Cf(n){const i=hc();if(i)return sm(i.sanitize(qu.RESOURCE_URL,n)||"");if(zd(n,"ResourceURL"))return sm(Gc(n));throw new we(904,!1)}function ym(n,i,s){return function PI(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?Cf:mm}(i,s)(n)}function hc(){const n=zt();return n&&n[oi].sanitizer}class Ai{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=St({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Yd=new Ai("ENVIRONMENT_INITIALIZER"),Ms=new Ai("INJECTOR",-1),Im=new Ai("INJECTOR_DEF_TYPES");class Kd{get(i,s=tn){if(s===tn){const a=new Error(`NullInjectorError: No provider for ${Ee(i)}!`);throw a.name="NullInjectorError",a}return s}}function Zd(n){return{\u0275providers:n}}function Em(...n){return{\u0275providers:fc(0,n),\u0275fromNgModule:!0}}function fc(n,...i){const s=[],a=new Set;let c;const h=v=>{s.push(v)};return At(i,v=>{const w=v;Tf(w,h,[],a)&&(c||(c=[]),c.push(w))}),void 0!==c&&Yu(c,h),s}function Yu(n,i){for(let s=0;s<n.length;s++){const{ngModule:a,providers:c}=n[s];bm(c,h=>{i(h,a)})}}function Tf(n,i,s,a){if(!(n=De(n)))return!1;let c=null,h=yn(n);const v=!h&&nn(n);if(h||v){if(v&&!v.standalone)return!1;c=n}else{const M=n.ngModule;if(h=yn(M),!h)return!1;c=M}const w=a.has(c);if(v){if(w)return!1;if(a.add(c),v.dependencies){const M="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const U of M)Tf(U,i,s,a)}}else{if(!h)return!1;{if(null!=h.imports&&!w){let U;a.add(c);try{At(h.imports,q=>{Tf(q,i,s,a)&&(U||(U=[]),U.push(q))})}finally{}void 0!==U&&Yu(U,i)}if(!w){const U=Ct(c)||(()=>new c);i({provide:c,useFactory:U,deps:Wn},c),i({provide:Im,useValue:c,multi:!0},c),i({provide:Yd,useValue:()=>dn(c),multi:!0},c)}const M=h.providers;if(null!=M&&!w){const U=n;bm(M,q=>{i(q,U)})}}}return c!==n&&void 0!==n.providers}function bm(n,i){for(let s of n)et(s)&&(s=s.\u0275providers),Array.isArray(s)?bm(s,i):i(s)}const Qd=oe({provide:String,useValue:oe});function Np(n){return null!==n&&"object"==typeof n&&Qd in n}function Ku(n){return"function"==typeof n}const Dm=new Ai("Set Injector scope."),Sf={},NI={};let Jd;function Af(){return void 0===Jd&&(Jd=new Kd),Jd}class kl{}class Mf extends kl{get destroyed(){return this._destroyed}constructor(i,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Tm(i,v=>this.processProvider(v)),this.records.set(Ms,Xu(void 0,this)),c.has("environment")&&this.records.set(kl,Xu(void 0,this));const h=this.records.get(Dm);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Im.multi,Wn,Qt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of i)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const s=_t(this),a=qn(void 0);try{return i()}finally{_t(s),qn(a)}}get(i,s=tn,a=Qt.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(nr))return i[nr](this);a=zn(a);const h=_t(this),v=qn(void 0);try{if(!(a&Qt.SkipSelf)){let M=this.records.get(i);if(void 0===M){const U=function Ty(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ai}(i)&&qt(i);M=U&&this.injectableDefInScope(U)?Xu(Cm(i),Sf):null,this.records.set(i,M)}if(null!=M)return this.hydrate(i,M)}return(a&Qt.Self?Af():this.parent).get(i,s=a&Qt.Optional&&s===tn?null:s)}catch(w){if("NullInjectorError"===w.name){if((w[On]=w[On]||[]).unshift(Ee(i)),h)throw w;return function Vi(n,i,s,a){const c=n[On];throw i[Ae]&&c.unshift(i[Ae]),n.message=function xr(n,i,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let c=Ee(i);if(Array.isArray(i))c=i.map(Ee).join(" -> ");else if("object"==typeof i){let h=[];for(let v in i)if(i.hasOwnProperty(v)){let w=i[v];h.push(v+":"+("string"==typeof w?JSON.stringify(w):Ee(w)))}c=`{${h.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${n.replace(te,"\n  ")}`}("\n"+n.message,c,s,a),n.ngTokenPath=c,n[On]=null,n}(w,i,"R3InjectorError",this.source)}throw w}finally{qn(v),_t(h)}}resolveInjectorInitializers(){const i=_t(this),s=qn(void 0);try{const c=this.get(Yd.multi,Wn,Qt.Self);for(const h of c)h()}finally{_t(i),qn(s)}}toString(){const i=[],s=this.records;for(const a of s.keys())i.push(Ee(a));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(i){let s=Ku(i=De(i))?i:De(i&&i.provide);const a=function Zu(n){return Np(n)?Xu(void 0,n.useValue):Xu(eh(n),Sf)}(i);if(Ku(i)||!0!==i.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=Xu(void 0,Sf,!0),c.factory=()=>Pr(c.multi),this.records.set(s,c)),s=i,c.multi.push(i)}this.records.set(s,a)}hydrate(i,s){return s.value===Sf&&(s.value=NI,s.value=s.factory()),"object"==typeof s.value&&s.value&&function kI(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=De(i.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(i){const s=this._onDestroyHooks.indexOf(i);-1!==s&&this._onDestroyHooks.splice(s,1)}}function Cm(n){const i=qt(n),s=null!==i?i.factory:Ct(n);if(null!==s)return s;if(n instanceof Ai)throw new we(204,!1);if(n instanceof Function)return function Dy(n){const i=n.length;if(i>0)throw Fn(i,"?"),new we(204,!1);const s=function En(n){return n&&(n[Nn]||n[_r])||null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new we(204,!1)}function eh(n,i,s){let a;if(Ku(n)){const c=De(n);return Ct(c)||Cm(c)}if(Np(n))a=()=>De(n.useValue);else if(function wm(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...Pr(n.deps||[]));else if(function pc(n){return!(!n||!n.useExisting)}(n))a=()=>dn(De(n.useExisting));else{const c=De(n&&(n.useClass||n.provide));if(!function Cy(n){return!!n.deps}(n))return Ct(c)||Cm(c);a=()=>new c(...Pr(n.deps))}return a}function Xu(n,i,s=!1){return{factory:n,value:i,multi:s?[]:void 0}}function Tm(n,i){for(const s of n)Array.isArray(s)?Tm(s,i):s&&et(s)?Tm(s.\u0275providers,i):i(s)}const Sy=new Ai("AppId",{providedIn:"root",factory:()=>Sm}),Sm="ng",hs=new Ai("Platform Initializer"),Am=new Ai("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),FI=new Ai("CSP nonce",{providedIn:"root",factory:()=>{var n;return(null===(n=function jd(){if(void 0!==zu)return zu;if(typeof document<"u")return document;throw new we(210,!1)}().body)||void 0===n||null===(n=n.querySelector("[ngCspNonce]"))||void 0===n?void 0:n.getAttribute("ngCspNonce"))||null}});let Om=(n,i,s)=>null;function Xc(n,i,s=!1){return Om(n,i,s)}class Pm{}class Nf{}class Nm{resolveComponentFactory(i){throw function kf(n){const i=Error(`No component factory found for ${Ee(n)}.`);return i.ngComponent=n,i}(i)}}let oh=(()=>{class i{}return i.NULL=new Nm,i})();function Py(){return sh(Yr(),zt())}function sh(n,i){return new ah(Gn(n,i))}let ah=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=Py,i})();function Up(n){return n instanceof ah?n.nativeElement:n}class jp{}let jI=(()=>{class i{constructor(){this.destroyNode=null}}return i.__NG_ELEMENT_ID__=()=>function HI(){const n=zt(),s=Ur(Yr().index,n);return(Wi(s)?s:n)[$n]}(),i})(),$s=(()=>{var n;class i{}return(n=i).\u0275prov=St({token:n,providedIn:"root",factory:()=>null}),i})();class Ny{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const km=new Ny("16.2.2"),lh={};function Wp(n,i=null,s=null,a){const c=td(n,i,s,a);return c.resolveInjectorInitializers(),c}function td(n,i=null,s=null,a,c=new Set){const h=[s||Wn,Em(n)];return a=a||("object"==typeof n?void 0:Ee(n)),new Mf(h,i||Af(),a||null,c)}let Ta=(()=>{var n;class i{static create(a,c){if(Array.isArray(a))return Wp({name:""},c,a,"");{var h;const v=null!==(h=a.name)&&void 0!==h?h:"";return Wp({name:v},a.parent,a.providers,v)}}}return(n=i).THROW_IF_NOT_FOUND=tn,n.NULL=new Kd,n.\u0275prov=St({token:n,providedIn:"any",factory:()=>dn(Ms)}),n.__NG_ELEMENT_ID__=-1,i})();function Fl(n){return n instanceof Function?n():n}let Bm=(()=>{var n;class i{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new we(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const a of this.callbacks)a.invoke()}finally{this.runningCallbacks=!1;for(const a of this.deferredCallbacks)this.callbacks.add(a);this.deferredCallbacks.clear()}}register(a){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(a)}unregister(a){this.callbacks.delete(a),this.deferredCallbacks.delete(a)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(n=i).\u0275prov=St({token:n,providedIn:"root",factory:()=>new n}),i})();function nd(n){for(;n;){n[er]|=64;const i=Pl(n);if(_s(n)&&!i)return n;n=i}return null}function Kp(n){return n.ngOriginalError}class ul{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i);this._console.error("ERROR",i),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&Kp(i);for(;s&&Kp(s);)s=Kp(s);return s||null}}const Vy=new Ai("",{providedIn:"root",factory:()=>!1});class Xp extends Ji{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(i){this._lView=i}onConsumerDependencyMayHaveChanged(){nd(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(i,s,a){const c=Qi(this);this.trackingVersion++;try{i(s,a)}finally{Qi(c)}}destroy(){this.trackingVersion++}}let rd=null;function id(){var n;return null!==(n=rd)&&void 0!==n||(rd=new Xp),rd}function gc(n,i){var s;return null!==(s=n[i])&&void 0!==s?s:id()}function Qp(n,i){const s=id();s.hasReadASignal&&(n[i]=rd,s.lView=n,rd=new Xp)}const yr={};function od(n){jm(Br(),zt(),L()+n,!1)}function jm(n,i,s,a){if(!a)if(3==(3&i[er])){const h=n.preOrderCheckHooks;null!==h&&ht(i,h,s)}else{const h=n.preOrderHooks;null!==h&&cs(i,h,0,s)}ee(s)}function dl(n,i=Qt.Default){const s=zt();return null===s?dn(n,i):xc(Yr(),s,De(n),i)}function hh(n,i,s,a,c,h,v,w,M,U,q){const ce=i.blueprint.slice();return ce[$r]=c,ce[er]=140|a,(null!==U||n&&2048&n[er])&&(ce[er]|=2048),rs(ce),ce[Tr]=ce[Mo]=n,ce[Vr]=s,ce[oi]=v||n&&n[oi],ce[$n]=w||n&&n[$n],ce[yo]=M||n&&n[yo]||null,ce[Di]=h,ce[ro]=function or(){return Kg++}(),ce[pr]=q,ce[vs]=U,ce[di]=2==i.type?n[di]:ce,ce}function Qc(n,i,s,a,c){let h=n.data[i];if(null===h)h=function Vf(n,i,s,a,c){const h=io(),v=ya(),M=n.data[i]=function rE(n,i,s,a,c,h){let v=i?i.injectorIndex:-1,w=0;return ls()&&(w|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?h:h&&h.parent,s,i,a,c);return null===n.firstChild&&(n.firstChild=M),null!==h&&(v?null==h.child&&null!==M.parent&&(h.child=M):null===h.next&&(h.next=M,M.prev=h)),M}(n,i,s,a,c),function fu(){return rr.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=s,h.value=a,h.attrs=c;const v=function Sn(){const n=rr.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();h.injectorIndex=null===v?-1:v.injectorIndex}return _n(h,!0),h}function sd(n,i,s,a){if(0===s)return-1;const c=i.length;for(let h=0;h<s;h++)i.push(a),n.blueprint.push(a),n.data.push(null);return c}function qy(n,i,s,a,c){const h=gc(i,Wo),v=L(),w=2&a;try{if(ee(-1),w&&i.length>ir&&jm(n,i,ir,!1),Fe(w?2:0,c),w)h.runInContext(s,a,c);else{const U=Qi(null);try{s(a,c)}finally{Qi(U)}}}finally{w&&null===i[Wo]&&Qp(i,Wo),ee(v),Fe(w?3:1,c)}}function Hm(n,i,s){if(Yo(i)){const a=Qi(null);try{const h=i.directiveEnd;for(let v=i.directiveStart;v<h;v++){const w=n.data[v];w.contentQueries&&w.contentQueries(1,s[v],v)}}finally{Qi(a)}}}function Uf(n,i,s){ql()&&(function Ym(n,i,s,a){const c=s.directiveStart,h=s.directiveEnd;qi(s)&&function fh(n,i,s){const a=Gn(i,n),c=Yy(s);let v=16;s.signals?v=4096:s.onPush&&(v=64);const w=ph(n,hh(n,c,null,v,a,i,null,n[oi].rendererFactory.createRenderer(a,s),null,null,null));n[i.index]=w}(i,s,n.data[c+s.componentOffset]),n.firstCreatePass||Dl(s,i),mo(a,i);const v=s.initialInputs;for(let w=c;w<h;w++){const M=n.data[w],U=Ba(i,n,w,s);mo(U,i),null!==v&&lE(0,w-c,U,M,0,v),Pi(M)&&(Ur(s.index,i)[Vr]=Ba(i,n,w,s))}}(n,i,s,Gn(s,i)),64==(64&s.flags)&&t_(n,i,s))}function jf(n,i,s=Gn){const a=i.localNames;if(null!==a){let c=i.index+1;for(let h=0;h<a.length;h+=2){const v=a[h+1],w=-1===v?s(i,n):n[v];n[c++]=w}}}function Yy(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Jp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):i}function Jp(n,i,s,a,c,h,v,w,M,U,q){const ce=ir+a,Ue=ce+c,ot=function eE(n,i){const s=[];for(let a=0;a<i;a++)s.push(a<n?null:yr);return s}(ce,Ue),Ot="function"==typeof U?U():U;return ot[on]={type:n,blueprint:ot,template:s,queries:null,viewQuery:w,declTNode:i,data:ot.slice().fill(null,ce),bindingStartIndex:ce,expandoStartIndex:Ue,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:M,consts:Ot,incompleteFirstPass:!1,ssrId:q}}let zm=n=>null;function Qy(n,i,s,a){for(let c in n)if(n.hasOwnProperty(c)){s=null===s?{}:s;const h=n[c];null===a?eg(s,i,c,h):a.hasOwnProperty(c)&&eg(s,i,a[c],h)}return s}function eg(n,i,s,a){n.hasOwnProperty(s)?n[s].push(i,a):n[s]=[i,a]}function tg(n,i,s,a){if(ql()){const c=null===a?null:{"":-1},h=function sE(n,i){const s=n.directiveRegistry;let a=null,c=null;if(s)for(let v=0;v<s.length;v++){const w=s[v];if(W(i,w.selectors,!1))if(a||(a=[]),Pi(w))if(null!==w.findHostDirectiveDefs){const M=[];c=c||new Map,w.findHostDirectiveDefs(w,M,c),a.unshift(...M,w),Hf(n,i,M.length)}else a.unshift(w),Hf(n,i,0);else{var h;c=c||new Map,null===(h=w.findHostDirectiveDefs)||void 0===h||h.call(w,w,a,c),a.push(w)}}return null===a?null:[a,c]}(n,s);let v,w;null===h?v=w=null:[v,w]=h,null!==v&&ng(n,i,s,v,c,w),c&&function aE(n,i,s){if(i){const a=n.localNames=[];for(let c=0;c<i.length;c+=2){const h=s[i[c+1]];if(null==h)throw new we(-301,!1);a.push(i[c],h)}}}(s,a,c)}s.mergedAttrs=Oi(s.mergedAttrs,s.attrs)}function ng(n,i,s,a,c,h){for(let ce=0;ce<a.length;ce++)yu(Dl(s,i),n,a[ce].type);!function Xm(n,i,s){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+s,n.providerIndexes=i}(s,n.data.length,a.length);for(let ce=0;ce<a.length;ce++){const Ue=a[ce];Ue.providersResolver&&Ue.providersResolver(Ue)}let v=!1,w=!1,M=sd(n,i,a.length,null);for(let ce=0;ce<a.length;ce++){const Ue=a[ce];s.mergedAttrs=Oi(s.mergedAttrs,Ue.hostAttrs),Qm(n,s,i,M,Ue),Zm(M,Ue,c),null!==Ue.contentQueries&&(s.flags|=4),(null!==Ue.hostBindings||null!==Ue.hostAttrs||0!==Ue.hostVars)&&(s.flags|=64);const ot=Ue.type.prototype;var U,q;!v&&(ot.ngOnChanges||ot.ngOnInit||ot.ngDoCheck)&&((null!==(U=n.preOrderHooks)&&void 0!==U?U:n.preOrderHooks=[]).push(s.index),v=!0),w||!ot.ngOnChanges&&!ot.ngDoCheck||((null!==(q=n.preOrderCheckHooks)&&void 0!==q?q:n.preOrderCheckHooks=[]).push(s.index),w=!0),M++}!function Gm(n,i,s){const c=i.directiveEnd,h=n.data,v=i.attrs,w=[];let M=null,U=null;for(let q=i.directiveStart;q<c;q++){const ce=h[q],Ue=s?s.get(ce):null,Ot=Ue?Ue.outputs:null;M=Qy(ce.inputs,q,M,Ue?Ue.inputs:null),U=Qy(ce.outputs,q,U,Ot);const rn=null===M||null===v||wi(i)?null:mc(M,q,v);w.push(rn)}null!==M&&(M.hasOwnProperty("class")&&(i.flags|=8),M.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=w,i.inputs=M,i.outputs=U}(n,s,h)}function t_(n,i,s){const a=s.directiveStart,c=s.directiveEnd,h=s.index,v=function pp(){return rr.lFrame.currentDirectiveIndex}();try{ee(h);for(let w=a;w<c;w++){const M=n.data[w],U=i[w];Ia(w),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&Km(M,U)}}finally{ee(-1),Ia(v)}}function Km(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function Hf(n,i,s){var a;i.componentOffset=s,(null!==(a=n.components)&&void 0!==a?a:n.components=[]).push(i.index)}function Zm(n,i,s){if(s){if(i.exportAs)for(let a=0;a<i.exportAs.length;a++)s[i.exportAs[a]]=n;Pi(i)&&(s[""]=n)}}function Qm(n,i,s,a,c){n.data[a]=c;const h=c.factory||(c.factory=Ct(c.type)),v=new ks(h,Pi(c),dl);n.blueprint[a]=v,s[a]=v,function e_(n,i,s,a,c){const h=c.hostBindings;if(h){let v=n.hostBindingOpCodes;null===v&&(v=n.hostBindingOpCodes=[]);const w=~i.index;(function oE(n){let i=n.length;for(;i>0;){const s=n[--i];if("number"==typeof s&&s<0)return s}return 0})(v)!=w&&v.push(w),v.push(s,a,h)}}(n,i,a,sd(n,s,c.hostVars,yr),c)}function hl(n,i,s,a,c,h){const v=Gn(n,i);!function zf(n,i,s,a,c,h,v){if(null==h)n.removeAttribute(i,c,s);else{const w=null==v?Le(h):v(h,a||"",c);n.setAttribute(i,c,w,s)}}(i[$n],v,h,n.value,s,a,c)}function lE(n,i,s,a,c,h){const v=h[i];if(null!==v)for(let w=0;w<v.length;)rg(a,s,v[w++],v[w++],v[w++])}function rg(n,i,s,a,c){const h=Qi(null);try{const v=n.inputTransforms;null!==v&&v.hasOwnProperty(a)&&(c=v[a].call(i,c)),null!==n.setInput?n.setInput(i,c,s,a):i[a]=c}finally{Qi(h)}}function mc(n,i,s){let a=null,c=0;for(;c<s.length;){const h=s[c];if(0!==h)if(5!==h){if("number"==typeof h)break;if(n.hasOwnProperty(h)){null===a&&(a=[]);const v=n[h];for(let w=0;w<v.length;w+=2)if(v[w]===i){a.push(h,v[w+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function ig(n,i,s,a){return[n,!0,!1,i,null,0,a,s,null,null,null]}function n_(n,i){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const h=s[a+1];if(-1!==h){const v=n.data[h];Ea(s[a]),v.contentQueries(2,i[h],h)}}}function ph(n,i){return n[gs]?n[Rs][zi]=i:n[gs]=i,n[Rs]=i,i}function Jm(n,i,s){Ea(0);const a=Qi(null);try{i(n,s)}finally{Qi(a)}}function og(n){return n[Ao]||(n[Ao]=[])}function r_(n){return n.cleanup||(n.cleanup=[])}function i_(n,i){const s=n[yo],a=s?s.get(ul,null):null;a&&a.handleError(i)}function Gf(n,i,s,a,c){for(let h=0;h<s.length;){const v=s[h++],w=s[h++];rg(n.data[v],i[v],a,w,c)}}function ev(n,i){const s=Ur(i,n),a=s[on];!function o_(n,i){for(let s=i.length;s<n.blueprint.length;s++)i.push(n.blueprint[s])}(a,s);const c=s[$r];null!==c&&null===s[pr]&&(s[pr]=Xc(c,s[yo])),Wf(a,s,s[Vr])}function Wf(n,i,s){Bn(i);try{const a=n.viewQuery;null!==a&&Jm(1,a,s);const c=n.template;null!==c&&qy(n,i,c,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&n_(n,i),n.staticViewQueries&&Jm(2,n.viewQuery,s);const h=n.components;null!==h&&function s_(n,i){for(let s=0;s<i.length;s++)ev(n,i[s])}(i,h)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{i[er]&=-5,D()}}let a_=(()=>{var n;class i{constructor(){this.all=new Set,this.queue=new Map}create(a,c,h){const v=typeof Zone>"u"?null:Zone.current,w=new _l(a,q=>{this.all.has(q)&&this.queue.set(q,v)},h);let M;this.all.add(w),w.notify();const U=()=>{var q;w.cleanup(),null===(q=M)||void 0===q||q(),this.all.delete(w),this.queue.delete(w)};return M=null==c?void 0:c.onDestroy(U),{destroy:U}}flush(){if(0!==this.queue.size)for(const[a,c]of this.queue)this.queue.delete(a),c?c.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}}return(n=i).\u0275prov=St({token:n,providedIn:"root",factory:()=>new n}),i})();function gh(n,i,s){let a=s?n.styles:null,c=s?n.classes:null,h=0;if(null!==i)for(let v=0;v<i.length;v++){const w=i[v];"number"==typeof w?h=w:1==h?c=Re(c,w):2==h&&(a=Re(a,w+": "+i[++v]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=c:n.classesWithoutHost=c}function qf(n,i,s,a,c=!1){for(;null!==s;){const h=i[s.index];if(null!==h&&a.push(xn(h)),Ci(h)){for(let w=ei;w<h.length;w++){const M=h[w],U=M[on].firstChild;null!==U&&qf(M[on],M,U,a)}h[Wr]!==h[$r]&&a.push(h[Wr])}const v=s.type;if(8&v)qf(n,i,s.child,a);else if(32&v){const w=cc(s,i);let M;for(;M=w();)a.push(M)}else if(16&v){const w=dy(i,s);if(Array.isArray(w))a.push(...w);else{const M=Pl(i[di]);qf(M[on],M,w,a,!0)}}s=c?s.projectionNext:s.next}return a}function mh(n,i,s,a=!0){const c=i[oi],h=c.rendererFactory,v=c.afterRenderEventManager;var M;null===(M=h.begin)||void 0===M||M.call(h),null==v||v.begin();try{c_(n,i,n.template,s)}catch(ce){throw a&&i_(i,ce),ce}finally{var U,q;null===(U=h.end)||void 0===U||U.call(h),null===(q=c.effectManager)||void 0===q||q.flush(),null==v||v.end()}}function c_(n,i,s,a){var c;const h=i[er];if(256!=(256&h)){null===(c=i[oi].effectManager)||void 0===c||c.flush(),Bn(i);try{rs(i),function Yl(n){return rr.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&qy(n,i,s,2,a);const w=3==(3&h);if(w){const q=n.preOrderCheckHooks;null!==q&&ht(i,q,null)}else{const q=n.preOrderHooks;null!==q&&cs(i,q,0,null),bo(i,0)}if(function uE(n){for(let i=Tp(n);null!==i;i=ff(i)){if(!i[xo])continue;const s=i[Io];for(let a=0;a<s.length;a++){Cs(s[a])}}}(i),vh(i,2),null!==n.contentQueries&&n_(n,i),w){const q=n.contentCheckHooks;null!==q&&ht(i,q)}else{const q=n.contentHooks;null!==q&&cs(i,q,1),bo(i,1)}!function JI(n,i){const s=n.hostBindingOpCodes;if(null===s)return;const a=gc(i,Xi);try{for(let c=0;c<s.length;c++){const h=s[c];if(h<0)ee(~h);else{const v=h,w=s[++c],M=s[++c];wd(w,v),a.runInContext(M,2,i[v])}}}finally{null===i[Xi]&&Qp(i,Xi),ee(-1)}}(n,i);const M=n.components;null!==M&&ad(i,M,0);const U=n.viewQuery;if(null!==U&&Jm(2,U,a),w){const q=n.viewCheckHooks;null!==q&&ht(i,q)}else{const q=n.viewHooks;null!==q&&cs(i,q,2),bo(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[er]&=-73,ko(i)}finally{D()}}}function vh(n,i){for(let s=Tp(n);null!==s;s=ff(s))for(let a=ei;a<s.length;a++)rv(s[a],i)}function nv(n,i,s){rv(Ur(i,n),s)}function rv(n,i){if(!function yi(n){return 128==(128&n[er])}(n))return;const s=n[on];if(80&n[er]&&0===i||1024&n[er]||2===i)c_(s,n,s.template,n[Vr]);else if(n[So]>0){vh(n,1);const c=n[on].components;null!==c&&ad(n,c,1)}}function ad(n,i,s){for(let a=0;a<i.length;a++)nv(n,i[a],s)}class yh{get rootNodes(){const i=this._lView,s=i[on];return qf(s,i,s.firstChild,[])}constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Vr]}set context(i){this._lView[Vr]=i}get destroyed(){return 256==(256&this._lView[er])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Tr];if(Ci(i)){const s=i[8],a=s?s.indexOf(this):-1;a>-1&&(vr(i,a),un(s,a))}this._attachedToViewContainer=!1}uc(this._lView[on],this._lView)}onDestroy(i){!function Il(n,i){if(256==(256&n[er]))throw new we(911,!1);null===n[_o]&&(n[_o]=[]),n[_o].push(i)}(this._lView,i)}markForCheck(){nd(this._cdRefInjectingView||this._lView)}detach(){this._lView[er]&=-129}reattach(){this._lView[er]|=128}detectChanges(){mh(this._lView[on],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Kt(n,i){Ud(n,i,i[$n],2,null,null)}(this._lView[on],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=i}}class ag extends yh{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;mh(i[on],i,i[Vr],!1)}checkNoChanges(){}get context(){return null}}class u_ extends oh{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=nn(i);return new Jc(s,this.ngModule)}}function d_(n){const i=[];for(let s in n)n.hasOwnProperty(s)&&i.push({propName:n[s],templateName:s});return i}class hE{constructor(i,s){this.injector=i,this.parentInjector=s}get(i,s,a){a=zn(a);const c=this.injector.get(i,lh,a);return c!==lh||s===lh?c:this.parentInjector.get(i,s,a)}}class Jc extends Nf{get inputs(){const i=this.componentDef,s=i.inputTransforms,a=d_(i.inputs);if(null!==s)for(const c of a)s.hasOwnProperty(c.propName)&&(c.transform=s[c.propName]);return a}get outputs(){return d_(this.componentDef.outputs)}constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function Rt(n){return n.map(Ft).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}create(i,s,a,c){var h;let v=(c=c||this.ngModule)instanceof kl?c:null===(h=c)||void 0===h?void 0:h.injector;v&&null!==this.componentDef.getStandaloneInjector&&(v=this.componentDef.getStandaloneInjector(v)||v);const w=v?new hE(i,v):i,M=w.get(jp,null);if(null===M)throw new we(407,!1);const Ue={rendererFactory:M,sanitizer:w.get($s,null),effectManager:w.get(a_,null),afterRenderEventManager:w.get(Bm,null)},ot=M.createRenderer(null,this.componentDef),Ot=this.componentDef.selectors[0][0]||"div",rn=a?function Ky(n,i,s,a){const h=a.get(Vy,!1)||s===bi.ShadowDom,v=n.selectRootElement(i,h);return function Zy(n){zm(n)}(v),v}(ot,a,this.componentDef.encapsulation,w):J(ot,Ot,function dE(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(Ot)),Wt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Cr=null;null!==rn&&(Cr=Xc(rn,w,!0));const ni=Jp(0,null,null,1,0,null,null,null,null,null,null),Mi=hh(null,ni,null,Wt,null,null,Ue,ot,w,null,Cr);let zl,uy;Bn(Mi);try{const qh=this.componentDef;let zg,yw=null;qh.findHostDirectiveDefs?(zg=[],yw=new Map,qh.findHostDirectiveDefs(qh,zg,yw),zg.push(qh)):zg=[qh];const UT=function ov(n,i){const s=n[on],a=ir;return n[a]=i,Qc(s,a,2,"#host",null)}(Mi,rn),jT=function sv(n,i,s,a,c,h,v){const w=c[on];!function h_(n,i,s,a){for(const c of n)i.mergedAttrs=Oi(i.mergedAttrs,c.hostAttrs);null!==i.mergedAttrs&&(gh(i,i.mergedAttrs,!0),null!==s&&Mp(a,s,i))}(a,n,i,v);let M=null;null!==i&&(M=Xc(i,c[yo]));const U=h.rendererFactory.createRenderer(i,s);let q=16;s.signals?q=4096:s.onPush&&(q=64);const ce=hh(c,Yy(s),null,q,c[n.index],n,h,U,null,null,M);return w.firstCreatePass&&Hf(w,n,a.length-1),ph(c,ce),c[n.index]=ce}(UT,rn,qh,zg,Mi,Ue,ot);uy=Rr(ni,ir),rn&&function lv(n,i,s,a){if(a)so(n,s,["ng-version",km.full]);else{const{attrs:c,classes:h}=function $t(n){const i=[],s=[];let a=1,c=2;for(;a<n.length;){let h=n[a];if("string"==typeof h)2===c?""!==h&&i.push(h,n[++a]):8===c&&s.push(h);else{if(!Lr(c))break;c=h}a++}return{attrs:i,classes:s}}(i.selectors[0]);c&&so(n,s,c),h&&h.length>0&&cl(n,s,h.join(" "))}}(ot,qh,rn,a),void 0!==s&&function lg(n,i,s){const a=n.projection=[];for(let c=0;c<i.length;c++){const h=s[c];a.push(null!=h?Array.from(h):null)}}(uy,this.ngContentSelectors,s),zl=function av(n,i,s,a,c,h){const v=Yr(),w=c[on],M=Gn(v,c);ng(w,c,v,s,null,a);for(let q=0;q<s.length;q++)mo(Ba(c,w,v.directiveStart+q,v),c);t_(w,c,v),M&&mo(M,c);const U=Ba(c,w,v.directiveStart+v.componentOffset,v);if(n[Vr]=c[Vr]=U,null!==h)for(const q of h)q(U,i);return Hm(w,v,n),U}(jT,qh,zg,yw,Mi,[cv]),Wf(ni,Mi,null)}finally{D()}return new iv(this.componentType,zl,sh(uy,Mi),Mi,uy)}}class iv extends Pm{constructor(i,s,a,c,h){super(),this.location=a,this._rootLView=c,this._tNode=h,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new ag(c),this.componentType=i}setInput(i,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[i])){var h;if(null!==(h=this.previousInputValues)&&void 0!==h||(this.previousInputValues=new Map),this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),s))return;const v=this._rootLView;Gf(v[on],v,c,i,s),this.previousInputValues.set(i,s),nd(Ur(this._tNode.index,v))}}get injector(){return new eo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function cv(){const n=Yr();Uo(zt()[on],n)}function _h(n){let i=function uv(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;i;){let c;if(Pi(n))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new we(903,!1);c=i.\u0275dir}if(c){if(s){a.push(c);const v=n;v.inputs=Ih(n.inputs),v.inputTransforms=Ih(n.inputTransforms),v.declaredInputs=Ih(n.declaredInputs),v.outputs=Ih(n.outputs);const w=c.hostBindings;w&&dv(n,w);const M=c.viewQuery,U=c.contentQueries;if(M&&p_(n,M),U&&Eh(n,U),Me(n.inputs,c.inputs),Me(n.declaredInputs,c.declaredInputs),Me(n.outputs,c.outputs),null!==c.inputTransforms&&(null===v.inputTransforms&&(v.inputTransforms={}),Me(v.inputTransforms,c.inputTransforms)),Pi(c)&&c.data.animation){const q=n.data;q.animation=(q.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let v=0;v<h.length;v++){const w=h[v];w&&w.ngInherit&&w(n),w===_h&&(s=!1)}}i=Object.getPrototypeOf(i)}!function f_(n){let i=0,s=null;for(let a=n.length-1;a>=0;a--){const c=n[a];c.hostVars=i+=c.hostVars,c.hostAttrs=Oi(c.hostAttrs,s=Oi(s,c.hostAttrs))}}(a)}function Ih(n){return n===ri?{}:n===Wn?[]:n}function p_(n,i){const s=n.viewQuery;n.viewQuery=s?(a,c)=>{i(a,c),s(a,c)}:i}function Eh(n,i){const s=n.contentQueries;n.contentQueries=s?(a,c,h)=>{i(a,c,h),s(a,c,h)}:i}function dv(n,i){const s=n.hostBindings;n.hostBindings=s?(a,c)=>{i(a,c),s(a,c)}:i}function y_(n){const i=n.inputConfig,s={};for(const a in i)if(i.hasOwnProperty(a)){const c=i[a];Array.isArray(c)&&c[2]&&(s[a]=c[2])}n.inputTransforms=s}function Yf(n){return!!cg(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function cg(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function xs(n,i,s){return!Object.is(n[i],s)&&(n[i]=s,!0)}function oo(n,i,s,a){const c=zt();return xs(c,_a(),i)&&(Br(),hl(ue(),c,n,i,s,a)),oo}function gg(n,i,s,a,c,h,v,w){const M=zt(),U=Br(),q=n+ir,ce=U.firstCreatePass?function M_(n,i,s,a,c,h,v,w,M){const U=i.consts,q=Qc(i,n,4,v||null,co(U,w));tg(i,s,q,co(U,M)),Uo(i,q);const ce=q.tView=Jp(2,q,a,c,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,U,null);return null!==i.queries&&(i.queries.template(i,q),ce.queries=i.queries.embeddedTView(q)),q}(q,U,M,i,s,a,c,h,v):U.data[q];_n(ce,!1);const Ue=Ch(U,M,ce,n);uo()&&pf(U,M,Ue,ce),mo(Ue,M),ph(M,M[q]=ig(Ue,M,Ue,ce)),Ro(ce)&&Uf(U,M,ce),null!=v&&jf(M,ce,w)}let Ch=function x_(n,i,s,a){return wr(!0),i[$n].createComment("")};function vv(n,i,s){const a=zt();return xs(a,_a(),i)&&function Aa(n,i,s,a,c,h,v,w){const M=Gn(i,s);let q,U=i.inputs;!w&&null!=U&&(q=U[a])?(Gf(n,s,q,a,c),qi(i)&&function qm(n,i){const s=Ur(i,n);16&s[er]||(s[er]|=64)}(s,i.index)):3&i.type&&(a=function Wm(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),c=null!=v?v(c,i.value||"",a):c,h.setProperty(M,a,c))}(Br(),ue(),a,n,i,a[$n],s,!1),vv}function Th(n,i,s,a,c){const v=c?"class":"style";Gf(n,s,i.inputs[v],v,a)}function Sh(n,i,s,a){const c=zt(),h=Br(),v=ir+n,w=c[$n],M=h.firstCreatePass?function O_(n,i,s,a,c,h){const v=i.consts,M=Qc(i,n,2,a,co(v,c));return tg(i,s,M,co(v,h)),null!==M.attrs&&gh(M,M.attrs,!1),null!==M.mergedAttrs&&gh(M,M.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,M),M}(v,h,c,i,s,a):h.data[v],U=Ah(h,c,M,w,i,n);c[v]=U;const q=Ro(M);return _n(M,!0),Mp(w,U,M),32!=(32&M.flags)&&uo()&&pf(h,c,U,M),0===function Wl(){return rr.lFrame.elementDepthCount}()&&mo(U,c),function Yh(){rr.lFrame.elementDepthCount++}(),q&&(Uf(h,c,M),Hm(h,M,c)),null!==a&&jf(c,M),Sh}function su(){let n=Yr();ya()?wn():(n=n.parent,_n(n,!1));const i=n;(function Ja(n){return rr.skipHydrationRootTNode===n})(i)&&function ai(){rr.skipHydrationRootTNode=null}(),function Zs(){rr.lFrame.elementDepthCount--}();const s=Br();return s.firstCreatePass&&(Uo(s,n),Yo(n)&&s.queries.elementEnd(n)),null!=i.classesWithoutHost&&function ho(n){return 0!=(8&n.flags)}(i)&&Th(s,i,zt(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function nl(n){return 0!=(16&n.flags)}(i)&&Th(s,i,zt(),i.stylesWithoutHost,!1),su}function $l(n,i,s,a){return Sh(n,i,s,a),su(),$l}let Ah=(n,i,s,a,c,h)=>(wr(!0),J(a,c,function Vn(){return rr.lFrame.currentNamespace}()));function P_(n,i,s){const a=zt(),c=Br(),h=n+ir,v=c.firstCreatePass?function Nw(n,i,s,a,c){const h=i.consts,v=co(h,a),w=Qc(i,n,8,"ng-container",v);return null!==v&&gh(w,v,!0),tg(i,s,w,co(h,c)),null!==i.queries&&i.queries.elementStart(i,w),w}(h,c,a,i,s):c.data[h];_n(v,!0);const w=tp(c,a,v,n);return a[h]=w,uo()&&pf(c,a,w,v),mo(w,a),Ro(v)&&(Uf(c,a,v),Hm(c,v,a)),null!=s&&jf(a,v),P_}function ep(){let n=Yr();const i=Br();return ya()?wn():(n=n.parent,_n(n,!1)),i.firstCreatePass&&(Uo(i,n),Yo(n)&&i.queries.elementEnd(n)),ep}function yv(n,i,s){return P_(n,i,s),ep(),yv}let tp=(n,i,s,a)=>(wr(!0),H(i[$n],""));function _v(n){return!!n&&"function"==typeof n.then}function N_(n){return!!n&&"function"==typeof n.subscribe}function xh(n,i,s,a){const c=zt(),h=Br(),v=Yr();return function Iv(n,i,s,a,c,h,v){const w=Ro(a),U=n.firstCreatePass&&r_(n),q=i[Vr],ce=og(i);let Ue=!0;if(3&a.type||v){const rn=Gn(a,i),Cn=v?v(rn):rn,Kn=ce.length,Wt=v?ni=>v(xn(ni[a.index])):a.index;let Cr=null;if(!v&&w&&(Cr=function xE(n,i,s,a){const c=n.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const v=c[h];if(v===s&&c[h+1]===a){const w=i[Ao],M=c[h+2];return w.length>M?w[M]:null}"string"==typeof v&&(h+=2)}return null}(n,i,c,a.index)),null!==Cr)(Cr.__ngLastListenerFn__||Cr).__ngNextListenerFn__=h,Cr.__ngLastListenerFn__=h,Ue=!1;else{h=bv(a,i,q,h,!1);const ni=s.listen(Cn,c,h);ce.push(h,ni),U&&U.push(c,Wt,Kn,Kn+1)}}else h=bv(a,i,q,h,!1);const ot=a.outputs;let Ot;if(Ue&&null!==ot&&(Ot=ot[c])){const rn=Ot.length;if(rn)for(let Cn=0;Cn<rn;Cn+=2){const Mi=i[Ot[Cn]][Ot[Cn+1]].subscribe(h),zl=ce.length;ce.push(h,Mi),U&&U.push(c,a.index,zl,-(zl+1))}}}(h,c,c[$n],v,n,i,a),xh}function Ev(n,i,s,a){try{return Fe(6,i,s),!1!==s(a)}catch(c){return i_(n,c),!1}finally{Fe(7,i,s)}}function bv(n,i,s,a,c){return function h(v){if(v===Function)return a;nd(n.componentOffset>-1?Ur(n.index,i):i);let M=Ev(i,s,a,v),U=h.__ngNextListenerFn__;for(;U;)M=Ev(i,s,U,v)&&M,U=U.__ngNextListenerFn__;return c&&!1===M&&v.preventDefault(),M}}function wv(n=1){return function R(n){return(rr.lFrame.contextLView=function A(n,i){for(;n>0;)i=i[Mo],n--;return i}(n,rr.lFrame.contextLView))[Vr]}(n)}function F_(n,i){let s=null;const a=function ye(n){const i=n.attrs;if(null!=i){const s=i.indexOf(5);if(!(1&s))return i[s+1]}return null}(n);for(let c=0;c<i.length;c++){const h=i[c];if("*"!==h){if(null===a?W(n,h,!0):st(a,h))return c}else s=c}return s}function Dv(n){const i=zt()[di][Di];if(!i.projection){const a=i.projection=Fn(n?n.length:1,null),c=a.slice();let h=i.child;for(;null!==h;){const v=n?F_(h,n):0;null!==v&&(c[v]?c[v].projectionNext=h:a[v]=h,c[v]=h),h=h.next}}}function _g(n,i=0,s){const a=zt(),c=Br(),h=Qc(c,ir+n,16,null,s||null);null===h.projection&&(h.projection=i),wn(),(!a[pr]||ls())&&32!=(32&h.flags)&&function CI(n,i,s){jo(i[$n],0,i,s,Uu(n,s,i),Xg(s.parent||i[Di],s,i))}(c,a,h)}function pl(n,i){return n<<17|i<<2}function lu(n){return n>>17&32767}function Vl(n){return 2|n}function hd(n){return(131068&n)>>2}function Tv(n,i){return-131069&n|i<<2}function Sv(n){return 1|n}function V_(n,i,s,a,c){const h=n[s+1],v=null===i;let w=a?lu(h):hd(h),M=!1;for(;0!==w&&(!1===M||v);){const q=n[w+1];U_(n[w],i)&&(M=!0,n[w+1]=a?Sv(q):Vl(q)),w=a?lu(q):hd(q)}M&&(n[s+1]=a?Vl(h):Sv(h))}function U_(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&Fs(n,i)>=0}function q_(n,i){return function gl(n,i,s,a){const c=zt(),h=Br(),v=function Ns(n){const i=rr.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,s}(2);h.firstUpdatePass&&function Z_(n,i,s,a){const c=n.data;if(null===c[s+1]){const h=c[L()],v=function K_(n,i){return i>=n.expandoStartIndex}(n,s);(function Mv(n,i){return 0!=(n.flags&(i?8:16))})(h,a)&&null===i&&!v&&(i=!1),i=function UE(n,i,s,a){const c=function El(n){const i=rr.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let h=a?i.residualClasses:i.residualStyles;if(null===c)0===(a?i.classBindings:i.styleBindings)&&(s=rp(s=Ig(null,n,i,s,a),i.attrs,a),h=null);else{const v=i.directiveStylingLast;if(-1===v||n[v]!==c)if(s=Ig(c,n,i,s,a),null===h){let M=function jE(n,i,s){const a=s?i.classBindings:i.styleBindings;if(0!==hd(a))return n[lu(a)]}(n,i,a);void 0!==M&&Array.isArray(M)&&(M=Ig(null,n,i,M[1],a),M=rp(M,i.attrs,a),function Uw(n,i,s,a){n[lu(s?i.classBindings:i.styleBindings)]=a}(n,i,a,M))}else h=function jw(n,i,s){let a;const c=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<c;h++)a=rp(a,n[h].hostAttrs,s);return rp(a,i.attrs,s)}(n,i,a)}return void 0!==h&&(a?i.residualClasses=h:i.residualStyles=h),s}(c,h,i,a),function B_(n,i,s,a,c,h){let v=h?i.classBindings:i.styleBindings,w=lu(v),M=hd(v);n[a]=s;let q,U=!1;if(Array.isArray(s)?(q=s[1],(null===q||Fs(s,q)>0)&&(U=!0)):q=s,c)if(0!==M){const Ue=lu(n[w+1]);n[a+1]=pl(Ue,w),0!==Ue&&(n[Ue+1]=Tv(n[Ue+1],a)),n[w+1]=function kE(n,i){return 131071&n|i<<17}(n[w+1],a)}else n[a+1]=pl(w,0),0!==w&&(n[w+1]=Tv(n[w+1],a)),w=a;else n[a+1]=pl(M,0),0===w?w=a:n[M+1]=Tv(n[M+1],a),M=a;U&&(n[a+1]=Vl(n[a+1])),V_(n,q,a,!0),V_(n,q,a,!1),function $E(n,i,s,a,c){const h=c?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof i&&Fs(h,i)>=0&&(s[a+1]=Sv(s[a+1]))}(i,q,n,a,h),v=pl(w,M),h?i.classBindings=v:i.styleBindings=v}(c,h,i,s,v,a)}}(h,n,v,a),i!==yr&&xs(c,v,i)&&function Ph(n,i,s,a,c,h,v,w){if(!(3&i.type))return;const M=n.data,U=M[w+1],q=function FE(n){return 1==(1&n)}(U)?bg(M,i,s,c,hd(U),v):void 0;wg(q)||(wg(h)||function $_(n){return 2==(2&n)}(U)&&(h=bg(M,null,s,c,w,v)),function hy(n,i,s,a,c){if(i)c?n.addClass(s,a):n.removeClass(s,a);else{let h=-1===a.indexOf("-")?void 0:sl.DashCase;null==c?n.removeStyle(s,a,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=sl.Important),n.setStyle(s,a,c,h))}}(a,v,br(L(),s),c,h))}(h,h.data[L()],c,c[$n],n,c[v+1]=function zE(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=Ee(Gc(n)))),n}(i,s),a,v)}(n,i,null,!0),q_}function Ig(n,i,s,a,c){let h=null;const v=s.directiveEnd;let w=s.directiveStylingLast;for(-1===w?w=s.directiveStart:w++;w<v&&(h=i[w],a=rp(a,h.hostAttrs,c),h!==n);)w++;return null!==n&&(s.directiveStylingLast=w),a}function rp(n,i,s){const a=s?1:2;let c=-1;if(null!==i)for(let h=0;h<i.length;h++){const v=i[h];"number"==typeof v?c=v:c===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),po(n,v,!!s||i[++h]))}return void 0===n?null:n}function bg(n,i,s,a,c,h){const v=null===i;let w;for(;c>0;){const M=n[c],U=Array.isArray(M),q=U?M[1]:M,ce=null===q;let Ue=s[c+1];Ue===yr&&(Ue=ce?Wn:void 0);let ot=ce?Ml(Ue,a):q===a?Ue:void 0;if(U&&!wg(ot)&&(ot=Ml(M,a)),wg(ot)&&(w=ot,v))return w;const Ot=n[c+1];c=v?lu(Ot):hd(Ot)}if(null!==i){let M=h?i.residualClasses:i.residualStyles;null!=M&&(w=Ml(M,a))}return w}function wg(n){return void 0!==n}function ip(n,i=""){const s=zt(),a=Br(),c=n+ir,h=a.firstCreatePass?Qc(a,c,1,i,null):a.data[c],v=J_(a,s,h,i,n);s[c]=v,uo()&&pf(a,s,v,h),_n(h,!1)}let J_=(n,i,s,a,c)=>(wr(!0),function p(n,i){return n.createText(i)}(i[$n],a));function ta(n,i,s){const a=zt(),c=function ea(n,i,s,a){return xs(n,_a(),s)?i+Le(s)+a:yr}(a,n,i,s);return c!==yr&&function vc(n,i,s){const a=br(i,n);!function E(n,i,s){n.setValue(i,s)}(n[$n],a,s)}(a,L(),c),ta}const md=void 0;var ps=["en",[["a","p"],["AM","PM"],md],[["AM","PM"],md,md],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],md,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],md,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",md,"{1} 'at' {0}",md],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function f0(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Lh={};function Tg(n){const i=function JE(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=p0(i);if(s)return s;const a=i.split("-")[0];if(s=p0(a),s)return s;if("en"===a)return ps;throw new we(701,!1)}function Uv(n){return Tg(n)[$h.PluralCase]}function p0(n){return n in Lh||(Lh[n]=Rn.ng&&Rn.ng.common&&Rn.ng.common.locales&&Rn.ng.common.locales[n]),Lh[n]}var $h=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}($h||{});const vd="en-US";let Do=vd;function qv(n,i,s,a,c){if(n=De(n),Array.isArray(n))for(let h=0;h<n.length;h++)qv(n[h],i,s,a,c);else{const h=Br(),v=zt(),w=Yr();let M=Ku(n)?n:De(n.provide);const U=eh(n),q=1048575&w.providerIndexes,ce=w.directiveStart,Ue=w.providerIndexes>>20;if(Ku(n)||!n.multi){const ot=new ks(U,c,dl),Ot=Yv(M,i,c?q:q+Ue,ce);-1===Ot?(yu(Dl(w,v),h,M),Ng(h,n,i.length),i.push(M),w.directiveStart++,w.directiveEnd++,c&&(w.providerIndexes+=1048576),s.push(ot),v.push(ot)):(s[Ot]=ot,v[Ot]=ot)}else{const ot=Yv(M,i,q+Ue,ce),Ot=Yv(M,i,q,q+Ue),Cn=Ot>=0&&s[Ot];if(c&&!Cn||!c&&!(ot>=0&&s[ot])){yu(Dl(w,v),h,M);const Kn=function K0(n,i,s,a,c){const h=new ks(n,s,dl);return h.multi=[],h.index=i,h.componentProviders=0,Y0(h,c,a&&!s),h}(c?Db:wb,s.length,c,a,U);!c&&Cn&&(s[Ot].providerFactory=Kn),Ng(h,n,i.length,0),i.push(M),w.directiveStart++,w.directiveEnd++,c&&(w.providerIndexes+=1048576),s.push(Kn),v.push(Kn)}else Ng(h,n,ot>-1?ot:Ot,Y0(s[c?Ot:ot],U,!c&&a));!c&&a&&Cn&&s[Ot].componentProviders++}}}function Ng(n,i,s,a){const c=Ku(i),h=function wy(n){return!!n.useClass}(i);if(c||h){const M=(h?De(i.useClass):i).prototype.ngOnDestroy;if(M){const U=n.destroyHooks||(n.destroyHooks=[]);if(!c&&i.multi){const q=U.indexOf(s);-1===q?U.push(s,[a,M]):U[q+1].push(a,M)}else U.push(s,M)}}}function Y0(n,i,s){return s&&n.componentProviders++,n.multi.push(i)-1}function Yv(n,i,s,a){for(let c=s;c<a;c++)if(i[c]===n)return c;return-1}function wb(n,i,s,a){return kg(this.multi,[])}function Db(n,i,s,a){const c=this.multi;let h;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=Ba(s,s[on],this.providerFactory.index,a);h=w.slice(0,v),kg(c,h);for(let M=v;M<w.length;M++)h.push(w[M])}else h=[],kg(c,h);return h}function kg(n,i){for(let s=0;s<n.length;s++)i.push((0,n[s])());return i}function up(n,i=[]){return s=>{s.providersResolver=(a,c)=>function q0(n,i,s){const a=Br();if(a.firstCreatePass){const c=Pi(n);qv(s,a.data,a.blueprint,c,!0),qv(i,a.data,a.blueprint,c,!1)}}(a,c?c(n):n,i)}}class Ec{}class Z0{}function Cb(n,i){return new Kv(n,null!=i?i:null,[])}class Kv extends Ec{constructor(i,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new u_(this);const c=Qr(i);this._bootstrapComponents=Fl(c.bootstrap),this._r3Injector=td(i,s,[{provide:Ec,useValue:this},{provide:oh,useValue:this.componentFactoryResolver},...a],Ee(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Zv extends Z0{constructor(i){super(),this.moduleType=i}create(i){return new Kv(this.moduleType,i,[])}}class Fg extends Ec{constructor(i){super(),this.componentFactoryResolver=new u_(this),this.instance=null;const s=new Mf([...i.providers,{provide:Ec,useValue:this},{provide:oh,useValue:this.componentFactoryResolver}],i.parent||Af(),i.debugName,new Set(["environment"]));this.injector=s,i.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function X0(n,i,s=null){return new Fg({providers:n,parent:i,debugName:s,runEnvironmentInitializers:!0}).injector}let Hh=(()=>{var n;class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const c=fc(0,a.type),h=c.length>0?X0([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,h)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return(n=i).\u0275prov=St({token:n,providedIn:"environment",factory:()=>new n(dn(kl))}),i})();function Xv(n){n.getStandaloneInjector=i=>i.get(Hh).getOrCreateStandaloneInjector(n)}function aI(n,i,s,a,c,h){const v=i+s;return xs(n,v,c)?function Ma(n,i,s){return n[i]=s}(n,v+1,h?a.call(h,c):a(c)):function zh(n,i){const s=n[i];return s===yr?void 0:s}(n,v+1)}function $b(n,i){const s=Br();let a;const c=n+ir;var h;s.firstCreatePass?(a=function Yw(n,i){if(i)for(let s=i.length-1;s>=0;s--){const a=i[s];if(n===a.name)return a}}(i,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(null!==(h=s.destroyHooks)&&void 0!==h?h:s.destroyHooks=[]).push(c,a.onDestroy)):a=s.data[c];const v=a.factory||(a.factory=Ct(a.type)),M=qn(dl);try{const U=la(!1),q=v();return la(U),function R_(n,i,s,a){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),i[s]=a}(s,zt(),c,q),q}finally{qn(M)}}function lI(n,i,s){const a=n+ir,c=zt(),h=function qr(n,i){return n[i]}(c,a);return function dp(n,i){return n[on].data[i].pure}(c,a)?aI(c,function Fo(){const n=rr.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}(),i,h.transform,s,h):h.transform(s)}function iy(n){return i=>{setTimeout(n,void 0,i)}}const bc=class cI extends g.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,a){let c=i,h=s||(()=>null),v=a;if(i&&"object"==typeof i){var w,M,U;const ce=i;c=null===(w=ce.next)||void 0===w?void 0:w.bind(ce),h=null===(M=ce.error)||void 0===M?void 0:M.bind(ce),v=null===(U=ce.complete)||void 0===U?void 0:U.bind(ce)}this.__isAsync&&(h=iy(h),c&&(c=iy(c)),v&&(v=iy(v)));const q=super.subscribe({next:c,error:h,complete:v});return i instanceof m.w0&&i.add(q),q}};function uI(){return this._results[Symbol.iterator]()}class dI{get changes(){return this._changes||(this._changes=new bc)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=dI.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=uI)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const a=this;a.dirty=!1;const c=function rt(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Xe(n,i,s){if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++){let c=n[a],h=i[a];if(s&&(c=s(c),h=s(h)),h!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Hb(n,i,s,a=!0){const c=i[on];if(function Ln(n,i,s,a){const c=ei+a,h=s.length;a>0&&(s[c-1][zi]=i),a<h-ei?(i[zi]=s[c],bn(s,ei+a,i)):(s.push(i),i[zi]=null),i[Tr]=s;const v=i[ms];null!==v&&s!==v&&function Un(n,i){const s=n[Io];i[di]!==i[Tr][Tr][di]&&(n[xo]=!0),null===s?n[Io]=[i]:s.push(i)}(v,i);const w=i[Jr];null!==w&&w.insertView(n),i[er]|=128}(c,i,n,s),a){const h=nm(s,n),v=i[$n],w=Ga(v,n[Wr]);null!==w&&function ft(n,i,s,a,c,h){a[$r]=c,a[Di]=i,Ud(n,a,s,1,c,h)}(c,n[Di],v,i,w,h)}}let Gh=(()=>{class i{}return i.__NG_ELEMENT_ID__=fI,i})();const hI=Gh,wc=class extends hI{constructor(i,s,a){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=a}get ssrId(){var i;return(null===(i=this._declarationTContainer.tView)||void 0===i?void 0:i.ssrId)||null}createEmbeddedView(i,s){return this.createEmbeddedViewImpl(i,s)}createEmbeddedViewImpl(i,s,a){const c=function Zw(n,i,s,a){var c,h;const v=i.tView,U=hh(n,v,s,4096&n[er]?4096:16,null,i,null,null,null,null!==(c=null==a?void 0:a.injector)&&void 0!==c?c:null,null!==(h=null==a?void 0:a.hydrationInfo)&&void 0!==h?h:null);U[ms]=n[i.index];const ce=n[Jr];return null!==ce&&(U[Jr]=ce.createEmbeddedView(v)),Wf(v,U,s),U}(this._declarationLView,this._declarationTContainer,i,{injector:s,hydrationInfo:a});return new yh(c)}};function fI(){return hp(Yr(),zt())}function hp(n,i){return 4&n.type?new wc(i,n,sh(n,i)):null}let Vg=(()=>{class i{}return i.__NG_ELEMENT_ID__=Yb,i})();function Yb(){return r(Yr(),zt())}const Kb=Vg,Zb=class extends Kb{constructor(i,s,a){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=a}get element(){return sh(this._hostTNode,this._hostLView)}get injector(){return new eo(this._hostTNode,this._hostLView)}get parentInjector(){const i=Ql(this._hostTNode,this._hostLView);if(Po(i)){const s=is(i,this._hostLView),a=Tc(i);return new eo(s[on].data[a+8],s)}return new eo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=vI(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-ei}createEmbeddedView(i,s,a){let c,h;"number"==typeof a?c=a:null!=a&&(c=a.index,h=a.injector);const w=i.createEmbeddedViewImpl(s||{},h,null);return this.insertImpl(w,c,false),w}createComponent(i,s,a,c,h){var v,M;const U=i&&!function ve(n){return"function"==typeof n}(i);let q;if(U)q=s;else{const Wt=s||{};q=Wt.index,a=Wt.injector,c=Wt.projectableNodes,h=Wt.environmentInjector||Wt.ngModuleRef}const ce=U?i:new Jc(nn(i)),Ue=a||this.parentInjector;if(!h&&null==ce.ngModule){const Cr=(U?Ue:this.parentInjector).get(kl,null);Cr&&(h=Cr)}const ot=nn(null!==(v=ce.componentType)&&void 0!==v?v:{}),Ot=(null==ot?void 0:ot.id,null),rn=null!==(M=null==Ot?void 0:Ot.firstChild)&&void 0!==M?M:null,Cn=ce.create(Ue,c,rn,h),Kn=!!Ot&&!us(this._hostTNode);return this.insertImpl(Cn.hostView,q,Kn),Cn}insert(i,s){return this.insertImpl(i,s,!1)}insertImpl(i,s,a){const c=i._lView;if(function Vo(n){return Ci(n[Tr])}(c)){const M=this.indexOf(i);if(-1!==M)this.detach(M);else{const U=c[Tr],q=new Zb(U,U[Di],U[Tr]);q.detach(q.indexOf(i))}}const v=this._adjustIndex(s),w=this._lContainer;return Hb(w,c,v,!a),i.attachToViewContainerRef(),bn(ay(w),v,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=vI(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),a=vr(this._lContainer,s);a&&(un(ay(this._lContainer),s),uc(a[on],a))}detach(i){const s=this._adjustIndex(i,-1),a=vr(this._lContainer,s);return a&&null!=un(ay(this._lContainer),s)?new yh(a):null}_adjustIndex(i,s=0){return null==i?this.length+s:i}};function vI(n){return n[8]}function ay(n){return n[8]||(n[8]=[])}function r(n,i){let s;const a=i[n.index];return Ci(a)?s=a:(s=ig(a,i,null,n),i[n.index]=s,ph(i,s)),t(s,i,n,a),new Zb(s,n,i)}let t=function o(n,i,s,a){if(n[Wr])return;let c;c=8&s.type?xn(a):function e(n,i){const s=n[$n],a=s.createComment(""),c=Gn(i,n);return ll(s,Ga(s,c),a,function Vd(n,i){return n.nextSibling(i)}(s,c),!1),a}(i,s),n[Wr]=c};class f{constructor(i){this.queryList=i,this.matches=null}clone(){return new f(this.queryList)}setDirty(){this.queryList.setDirty()}}class C{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const a=null!==i.contentQueries?i.contentQueries[0]:s.length,c=[];for(let h=0;h<a;h++){const v=s.getByIndex(h);c.push(this.queries[v.indexInDeclarationView].clone())}return new C(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==bd(i,s).matches&&this.queries[s].setDirty()}}class O{constructor(i,s,a=null){this.predicate=i,this.flags=s,this.read=a}}class B{constructor(i=[]){this.queries=i}elementStart(i,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,h=this.getByIndex(a).embeddedTView(i,c);h&&(h.indexInDeclarationView=a,null!==s?s.push(h):s=[h])}return null!==s?new B(s):null}template(i,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Y{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new Y(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=i.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const h=a[c];this.matchTNodeWithReadOption(i,s,Ce(s,h)),this.matchTNodeWithReadOption(i,s,Cl(s,i,h,!1,!1))}else a===Gh?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,Cl(s,i,a,!1,!1))}matchTNodeWithReadOption(i,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===ah||c===Vg||c===Gh&&4&s.type)this.addMatch(s.index,-2);else{const h=Cl(s,i,c,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,a)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function Ce(n,i){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===i)return s[a+1];return null}function yt(n,i,s,a){return-1===s?function it(n,i){return 11&n.type?sh(n,i):4&n.type?hp(n,i):null}(i,n):-2===s?function Ut(n,i,s){return s===ah?sh(i,n):s===Gh?hp(i,n):s===Vg?r(i,n):void 0}(n,i,a):Ba(n,n[on],s,i)}function fn(n,i,s,a){const c=i[Jr].queries[a];if(null===c.matches){const h=n.data,v=s.matches,w=[];for(let M=0;M<v.length;M+=2){const U=v[M];w.push(U<0?null:yt(i,h[U],v[M+1],s.metadata.read))}c.matches=w}return c.matches}function cn(n,i,s,a){const c=n.queries.getByIndex(s),h=c.matches;if(null!==h){const v=fn(n,i,c,s);for(let w=0;w<h.length;w+=2){const M=h[w];if(M>0)a.push(v[w/2]);else{const U=h[w+1],q=i[-M];for(let ce=ei;ce<q.length;ce++){const Ue=q[ce];Ue[ms]===Ue[Tr]&&cn(Ue[on],Ue,U,a)}if(null!==q[Io]){const ce=q[Io];for(let Ue=0;Ue<ce.length;Ue++){const ot=ce[Ue];cn(ot[on],ot,U,a)}}}}}return a}function sr(n){const i=zt(),s=Br(),a=ar();Ea(a+1);const c=bd(s,a);if(n.dirty&&function vi(n){return 4==(4&n[er])}(i)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const h=c.crossesNgTemplate?cn(s,i,a,[]):fn(s,i,c,a);n.reset(h,Up),n.notifyOnChanges()}return!0}return!1}function Sr(n,i,s){const a=Br();a.firstCreatePass&&(ts(a,new O(n,i,s),-1),2==(2&i)&&(a.staticViewQueries=!0)),li(a,zt(),i)}function Xn(n,i,s,a){const c=Br();if(c.firstCreatePass){const h=Yr();ts(c,new O(i,s,a),h.index),function Oa(n,i){const s=n.contentQueries||(n.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,i)}(c,n),2==(2&s)&&(c.staticContentQueries=!0)}li(c,zt(),s)}function Fr(){return function Ii(n,i){return n[Jr].queries[i].queryList}(zt(),ar())}function li(n,i,s){const a=new dI(4==(4&s));(function nE(n,i,s,a){const c=og(i);c.push(s),n.firstCreatePass&&r_(n).push(a,c.length-1)})(n,i,a,a.destroy),null===i[Jr]&&(i[Jr]=new C),i[Jr].queries.push(new f(a))}function ts(n,i,s){null===n.queries&&(n.queries=new B),n.queries.track(new Y(i,s))}function bd(n,i){return n.queries.getByIndex(i)}function Xb(n){return!!Qr(n)}const pD=new Ai("Application Initializer");let nw=(()=>{var n;class i{constructor(){var a;this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h}),this.appInits=null!==(a=Dn(pD,{optional:!0}))&&void 0!==a?a:[]}runInitializers(){if(this.initialized)return;const a=[];for(const h of this.appInits){const v=h();if(_v(v))a.push(v);else if(N_(v)){const w=new Promise((M,U)=>{v.subscribe({complete:M,error:U})});a.push(w)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}}return(n=i).\u0275fac=function(a){return new(a||n)},n.\u0275prov=St({token:n,factory:n.\u0275fac,providedIn:"root"}),i})(),gD=(()=>{var n;class i{log(a){console.log(a)}warn(a){console.warn(a)}}return(n=i).\u0275fac=function(a){return new(a||n)},n.\u0275prov=St({token:n,factory:n.\u0275fac,providedIn:"platform"}),i})();const _I=new Ai("LocaleId",{providedIn:"root",factory:()=>Dn(_I,Qt.Optional|Qt.SkipSelf)||function wC(){return typeof $localize<"u"&&$localize.locale||vd}()}),DC=new Ai("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let mD=(()=>{var n;class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new K.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(n=i).\u0275fac=function(a){return new(a||n)},n.\u0275prov=St({token:n,factory:n.\u0275fac,providedIn:"root"}),i})();class TC{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let SC=(()=>{var n;class i{compileModuleSync(a){return new Zv(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),v=Fl(Qr(a).declarations).reduce((w,M)=>{const U=nn(M);return U&&w.push(new Jc(U)),w},[]);return new TC(c,v)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return(n=i).\u0275fac=function(a){return new(a||n)},n.\u0275prov=St({token:n,factory:n.\u0275fac,providedIn:"root"}),i})();function ID(...n){}class fa{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bc(!1),this.onMicrotaskEmpty=new bc(!1),this.onStable=new bc(!1),this.onError=new bc(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function qC(){const n="function"==typeof Rn.requestAnimationFrame;let i=Rn[n?"requestAnimationFrame":"setTimeout"],s=Rn[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function ZC(n){const i=()=>{!function KC(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Rn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,sw(n),n.isCheckStableRunning=!0,ow(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),sw(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,h,v,w)=>{try{return ED(n),s.invokeTask(c,h,v,w)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&i(),bD(n)}},onInvoke:(s,a,c,h,v,w,M)=>{try{return ED(n),s.invoke(c,h,v,w,M)}finally{n.shouldCoalesceRunChangeDetection&&i(),bD(n)}},onHasTask:(s,a,c,h)=>{s.hasTask(c,h),a===c&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,sw(n),ow(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,a,c,h)=>(s.handleError(c,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fa.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(fa.isInAngularZone())throw new we(909,!1)}run(i,s,a){return this._inner.run(i,s,a)}runTask(i,s,a,c){const h=this._inner,v=h.scheduleEventTask("NgZoneEvent: "+c,i,YC,ID,ID);try{return h.runTask(v,s,a)}finally{h.cancelTask(v)}}runGuarded(i,s,a){return this._inner.runGuarded(i,s,a)}runOutsideAngular(i){return this._outer.run(i)}}const YC={};function ow(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function sw(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function ED(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function bD(n){n._nesting--,ow(n)}const wD=new Ai("",{providedIn:"root",factory:DD});function DD(){const n=Dn(fa);let i=!0;const s=new re.y(c=>{i=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{c.next(i),c.complete()})}),a=new re.y(c=>{let h;n.runOutsideAngular(()=>{h=n.onStable.subscribe(()=>{fa.assertNotInAngularZone(),queueMicrotask(()=>{!i&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(i=!0,c.next(!0))})})});const v=n.onUnstable.subscribe(()=>{fa.assertInAngularZone(),i&&(i=!1,n.runOutsideAngular(()=>{c.next(!1)}))});return()=>{h.unsubscribe(),v.unsubscribe()}});return(0,Se.T)(s,a.pipe((0,de.B)()))}const CD=new Ai(""),TD=new Ai("");let aw,QC=(()=>{var n;class i{constructor(a,c,h){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,aw||(function JC(n){aw=n}(h),h.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fa.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let v=-1;c&&c>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==v),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:v,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,h){return[]}}return(n=i).\u0275fac=function(a){return new(a||n)(dn(fa),dn(SD),dn(TD))},n.\u0275prov=St({token:n,factory:n.\u0275fac}),i})(),SD=(()=>{var n;class i{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){var h,v;return null!==(h=null===(v=aw)||void 0===v?void 0:v.findTestabilityInTree(this,a,c))&&void 0!==h?h:null}}return(n=i).\u0275fac=function(a){return new(a||n)},n.\u0275prov=St({token:n,factory:n.\u0275fac,providedIn:"platform"}),i})(),Wh=null;const lw=new Ai("PlatformDestroyListeners"),cw=new Ai("appBootstrapListener");function iT(n){try{const{rootComponent:i,appProviders:s,platformProviders:a}=n,c=function rT(n=[]){if(Wh)return Wh;const i=function RD(n=[],i){return Ta.create({name:i,providers:[{provide:Dm,useValue:"platform"},{provide:lw,useValue:new Set([()=>Wh=null])},...n]})}(n);return Wh=i,function MD(){!function Ks(n){oa=n}(()=>{throw new we(600,!1)})}(),function xD(n){const i=n.get(hs,null);null==i||i.forEach(s=>s())}(i),i}(a),h=[cT(),...s||[]],w=new Fg({providers:h,parent:c,debugName:"",runEnvironmentInitializers:!1}).injector,M=w.get(fa);return M.run(()=>{w.resolveInjectorInitializers();const U=w.get(ul,null);let q;M.runOutsideAngular(()=>{q=M.onError.subscribe({next:ot=>{U.handleError(ot)}})});const ce=()=>w.destroy(),Ue=c.get(lw);return Ue.add(ce),w.onDestroy(()=>{q.unsubscribe(),Ue.delete(ce)}),function ND(n,i,s){try{const a=s();return _v(a)?a.catch(c=>{throw i.runOutsideAngular(()=>n.handleError(c)),c}):a}catch(a){throw i.runOutsideAngular(()=>n.handleError(a)),a}}(U,M,()=>{const ot=w.get(nw);return ot.runInitializers(),ot.donePromise.then(()=>{!function Mg(n){kt(n,"Expected localeId to be defined"),"string"==typeof n&&(Do=n.toLowerCase().replace(/_/g,"-"))}(w.get(_I,vd)||vd);const rn=w.get(Hg);return void 0!==i&&rn.bootstrap(i),rn})})})}catch(i){return Promise.reject(i)}}let Hg=(()=>{var n;class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Dn(LD),this.zoneIsStable=Dn(wD),this.componentTypes=[],this.components=[],this.isStable=Dn(mD).hasPendingTasks.pipe((0,He.w)(a=>a?(0,Te.of)(!1):this.zoneIsStable),(0,Ne.x)(),(0,de.B)()),this._injector=Dn(kl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const h=a instanceof Nf;if(!this._injector.get(nw).done)throw!h&&ur(a),new we(405,!1);let w;w=h?a:this._injector.get(oh).resolveComponentFactory(a),this.componentTypes.push(w.componentType);const M=function tT(n){return n.isBoundToModule}(w)?void 0:this._injector.get(Ec),q=w.create(Ta.NULL,[],c||w.selector,M),ce=q.location.nativeElement,Ue=q.injector.get(CD,null);return null==Ue||Ue.registerApplication(ce),q.onDestroy(()=>{this.detachView(q.hostView),EI(this.components,q),null==Ue||Ue.unregisterApplication(ce)}),this._loadComponent(q),q}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;EI(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(cw,[]);c.push(...this._bootstrapListeners),c.forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>EI(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new we(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(n=i).\u0275fac=function(a){return new(a||n)},n.\u0275prov=St({token:n,factory:n.\u0275fac,providedIn:"root"}),i})();function EI(n,i){const s=n.indexOf(i);s>-1&&n.splice(s,1)}const LD=new Ai("",{providedIn:"root",factory:()=>Dn(ul).handleError.bind(void 0)});function aT(){const n=Dn(fa),i=Dn(ul);return s=>n.runOutsideAngular(()=>i.handleError(s))}let lT=(()=>{var n;class i{constructor(){this.zone=Dn(fa),this.applicationRef=Dn(Hg)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var a;null===(a=this._onMicrotaskEmptySubscription)||void 0===a||a.unsubscribe()}}return(n=i).\u0275fac=function(a){return new(a||n)},n.\u0275prov=St({token:n,factory:n.\u0275fac,providedIn:"root"}),i})();function $D(n){return[{provide:fa,useFactory:n},{provide:Yd,multi:!0,useFactory:()=>{const i=Dn(lT,{optional:!0});return()=>i.initialize()}},{provide:LD,useFactory:aT},{provide:wD,useFactory:DD}]}function cT(n){return Zd([[],$D(()=>new fa(function PD(n){var i,s;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(i=null==n?void 0:n.eventCoalescing)&&void 0!==i&&i,shouldCoalesceRunChangeDetection:null!==(s=null==n?void 0:n.runCoalescing)&&void 0!==s&&s}}(n)))])}function uT(){return!1}function dT(){}let hT=(()=>{class i{}return i.__NG_ELEMENT_ID__=fT,i})();function fT(n){return function pT(n,i,s){if(qi(n)&&!s){const a=Ur(n.index,i);return new yh(a,a)}return 47&n.type?new yh(i[di],i):null}(Yr(),zt(),16==(16&n))}class jD{constructor(){}supports(i){return Yf(i)}create(i){return new IT(i)}}const _T=(n,i)=>i;class IT{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||_T}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,a=this._removalsHead,c=0,h=null;for(;s||a;){const v=!a||s&&s.currentIndex<zD(a,c,h)?s:a,w=zD(v,c,h),M=v.currentIndex;if(v===a)c--,a=a._nextRemoved;else if(s=s._next,null==v.previousIndex)c++;else{h||(h=[]);const U=w-c,q=M-c;if(U!=q){for(let Ue=0;Ue<U;Ue++){const ot=Ue<h.length?h[Ue]:h[Ue]=0,Ot=ot+Ue;q<=Ot&&Ot<U&&(h[Ue]=ot+1)}h[v.previousIndex]=q-U}}w!==M&&i(v,w,M)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!Yf(i))throw new we(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,h,v,s=this._itHead,a=!1;if(Array.isArray(i)){this.length=i.length;for(let w=0;w<this.length;w++)h=i[w],v=this._trackByFn(w,h),null!==s&&Object.is(s.trackById,v)?(a&&(s=this._verifyReinsertion(s,h,v,w)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,v,w),a=!0),s=s._next}else c=0,function __(n,i){if(Array.isArray(n))for(let s=0;s<n.length;s++)i(n[s]);else{const s=n[Symbol.iterator]();let a;for(;!(a=s.next()).done;)i(a.value)}}(i,w=>{v=this._trackByFn(c,w),null!==s&&Object.is(s.trackById,v)?(a&&(s=this._verifyReinsertion(s,w,v,c)),Object.is(s.item,w)||this._addIdentityChange(s,w)):(s=this._mismatch(s,w,v,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,a,c){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,h,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,h,c)):i=this._addAfter(new ET(s,a),h,c),i}_verifyReinsertion(i,s,a,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?i=this._reinsertAfter(h,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,h=i._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(i,s,a),this._addToMoves(i,a),i}_moveAfter(i,s,a){return this._unlink(i),this._insertAfter(i,s,a),this._addToMoves(i,a),i}_addAfter(i,s,a){return this._insertAfter(i,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,a){const c=null===s?this._itHead:s._next;return i._next=c,i._prev=s,null===c?this._itTail=i:c._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new HD),this._linkedRecords.put(i),i.currentIndex=a,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,a=i._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new HD),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class ET{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bT{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,i))return a;return null}remove(i){const s=i._prevDup,a=i._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class HD{constructor(){this.map=new Map}put(i){const s=i.trackById;let a=this.map.get(s);a||(a=new bT,this.map.set(s,a)),a.add(i)}get(i,s){const c=this.map.get(i);return c?c.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zD(n,i,s){const a=n.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+i+c}class GD{constructor(){}supports(i){return i instanceof Map||cg(i)}create(){return new wT}}class wT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||cg(i)))throw new we(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const a=i._prev;return s._next=i,s._prev=a,i._prev=s,a&&(a._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,s);const h=c._prev,v=c._next;return h&&(h._next=v),v&&(v._prev=h),c._next=null,c._prev=null,c}const a=new DT(i);return this._records.set(i,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(a=>s(i[a],a))}}class DT{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function WD(){return new gw([new jD])}let gw=(()=>{var n;class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||WD()),deps:[[i,new _i,new Du]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new we(901,!1)}}return(n=i).\u0275prov=St({token:n,providedIn:"root",factory:WD}),i})();function qD(){return new mw([new GD])}let mw=(()=>{var n;class i{constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||qD()),deps:[[i,new _i,new Du]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(c)return c;throw new we(901,!1)}}return(n=i).\u0275prov=St({token:n,providedIn:"root",factory:qD}),i})();function LT(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function BT(n,i){const s=nn(n),a=i.elementInjector||Af();return new Jc(s).create(a,i.projectableNodes,i.hostElement,i.environmentInjector)}function VT(n){const i=nn(n);if(!i)return null;const s=new Jc(i);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}},3399:(Jt,nt,N)=>{"use strict";N.d(nt,{Z:()=>$e});var g=N(9058),m=N(4537),K=N(7592),re=N(7879);class Se{constructor(De,_e){this._delegate=De,this.firebase=_e,(0,K._addComponent)(De,new m.wA("app-compat",()=>this,"PUBLIC")),this.container=De.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(De){this._delegate.automaticDataCollectionEnabled=De}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(De=>{this._delegate.checkDestroyed(),De()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,K.deleteApp)(this._delegate)))}_getService(De,_e=K._DEFAULT_ENTRY_NAME){var et;this._delegate.checkDestroyed();const ut=this._delegate.container.getProvider(De);return!ut.isInitialized()&&"EXPLICIT"===(null===(et=ut.getComponent())||void 0===et?void 0:et.instantiationMode)&&ut.initialize(),ut.getImmediate({identifier:_e})}_removeServiceInstance(De,_e=K._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(De).clearInstance(_e)}_addComponent(De){(0,K._addComponent)(this._delegate,De)}_addOrOverwriteComponent(De){(0,K._addOrOverwriteComponent)(this._delegate,De)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),he=function Ne(){const lt=function He(lt){const De={},_e={__esModule:!0,initializeApp:function Qe(be,Z={}){const me=K.initializeApp(be,Z);if((0,g.r3)(De,me.name))return De[me.name];const Be=new lt(me,_e);return De[me.name]=Be,Be},app:ut,registerVersion:K.registerVersion,setLogLevel:K.setLogLevel,onLog:K.onLog,apps:null,SDK_VERSION:K.SDK_VERSION,INTERNAL:{registerComponent:function ke(be){const Z=be.name,me=Z.replace("-compat","");if(K._registerComponent(be)&&"PUBLIC"===be.type){const Be=(Je=ut())=>{if("function"!=typeof Je[me])throw de.create("invalid-app-argument",{appName:Z});return Je[me]()};void 0!==be.serviceProps&&(0,g.ZB)(Be,be.serviceProps),_e[me]=Be,lt.prototype[me]=function(...Je){return this._getService.bind(this,Z).apply(this,be.multipleInstances?Je:[])}}return"PUBLIC"===be.type?_e[me]:null},removeApp:function et(be){delete De[be]},useAsService:function Le(be,Z){return"serverAuth"===Z?null:Z},modularAPIs:K}};function ut(be){if(!(0,g.r3)(De,be=be||K._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:be});return De[be]}return _e.default=_e,Object.defineProperty(_e,"apps",{get:function we(){return Object.keys(De).map(be=>De[be])}}),ut.App=lt,_e}(Se);return lt.INTERNAL=Object.assign(Object.assign({},lt.INTERNAL),{createFirebaseNamespace:Ne,extendNamespace:function De(_e){(0,g.ZB)(lt,_e)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),lt}(),oe=new re.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){oe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const lt=self.firebase.SDK_VERSION;lt&&lt.indexOf("LITE")>=0&&oe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const $e=he;!function Re(lt){(0,K.registerVersion)("@firebase/app-compat","0.2.13",lt)}()},7592:(Jt,nt,N)=>{"use strict";N.r(nt),N.d(nt,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>Zt,_DEFAULT_ENTRY_NAME:()=>ae,_addComponent:()=>tt,_addOrOverwriteComponent:()=>Ze,_apps:()=>Oe,_clearComponents:()=>pe,_components:()=>ze,_getProvider:()=>kt,_registerComponent:()=>Nt,_removeServiceInstance:()=>It,deleteApp:()=>Tn,getApp:()=>qt,getApps:()=>Pn,initializeApp:()=>In,onLog:()=>Nn,registerVersion:()=>yn,setLogLevel:()=>Zr});var g=N(5861),m=N(4537),K=N(7879),re=N(9058),Se=N(1878);class Te{constructor(Ve){this.container=Ve}getPlatformInfoString(){return this.container.getProviders().map(Et=>{if(function de(Dt){const Ve=Dt.getComponent();return"VERSION"===(null==Ve?void 0:Ve.type)}(Et)){const Yt=Et.getImmediate();return`${Yt.library}/${Yt.version}`}return null}).filter(Et=>Et).join(" ")}}const He="@firebase/app",he=new K.Yd("@firebase/app"),ae="[DEFAULT]",ge={[He]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Oe=new Map,ze=new Map;function tt(Dt,Ve){try{Dt.container.addComponent(Ve)}catch(Et){he.debug(`Component ${Ve.name} failed to register with FirebaseApp ${Dt.name}`,Et)}}function Ze(Dt,Ve){Dt.container.addOrOverwriteComponent(Ve)}function Nt(Dt){const Ve=Dt.name;if(ze.has(Ve))return he.debug(`There were multiple attempts to register component ${Ve}.`),!1;ze.set(Ve,Dt);for(const Et of Oe.values())tt(Et,Dt);return!0}function kt(Dt,Ve){const Et=Dt.container.getProvider("heartbeat").getImmediate({optional:!0});return Et&&Et.triggerHeartbeat(),Dt.container.getProvider(Ve)}function It(Dt,Ve,Et=ae){kt(Dt,Ve).clearInstance(Et)}function pe(){ze.clear()}const mt=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class St{constructor(Ve,Et,Yt){this._isDeleted=!1,this._options=Object.assign({},Ve),this._config=Object.assign({},Et),this._name=Et.name,this._automaticDataCollectionEnabled=Et.automaticDataCollectionEnabled,this._container=Yt,this.container.addComponent(new m.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ve){this._isDeleted=Ve}checkDestroyed(){if(this.isDeleted)throw mt.create("app-deleted",{appName:this._name})}}const Zt="9.23.0";function In(Dt,Ve={}){let Et=Dt;"object"!=typeof Ve&&(Ve={name:Ve});const Yt=Object.assign({name:ae,automaticDataCollectionEnabled:!1},Ve),tn=Yt.name;if("string"!=typeof tn||!tn)throw mt.create("bad-app-name",{appName:String(tn)});if(Et||(Et=(0,re.aH)()),!Et)throw mt.create("no-options");const mn=Oe.get(tn);if(mn){if((0,re.vZ)(Et,mn.options)&&(0,re.vZ)(Yt,mn.config))return mn;throw mt.create("duplicate-app",{appName:tn})}const On=new m.H0(tn);for(const te of ze.values())On.addComponent(te);const Pe=new St(Et,Yt,On);return Oe.set(tn,Pe),Pe}function qt(Dt=ae){const Ve=Oe.get(Dt);if(!Ve&&Dt===ae&&(0,re.aH)())return In();if(!Ve)throw mt.create("no-app",{appName:Dt});return Ve}function Pn(){return Array.from(Oe.values())}function Tn(Dt){return En.apply(this,arguments)}function En(){return(En=(0,g.Z)(function*(Dt){const Ve=Dt.name;Oe.has(Ve)&&(Oe.delete(Ve),yield Promise.all(Dt.container.getProviders().map(Et=>Et.delete())),Dt.isDeleted=!0)})).apply(this,arguments)}function yn(Dt,Ve,Et){var Yt;let tn=null!==(Yt=ge[Dt])&&void 0!==Yt?Yt:Dt;Et&&(tn+=`-${Et}`);const mn=tn.match(/\s|\//),On=Ve.match(/\s|\//);if(mn||On){const Pe=[`Unable to register library "${tn}" with version "${Ve}":`];return mn&&Pe.push(`library name "${tn}" contains illegal characters (whitespace or "/")`),mn&&On&&Pe.push("and"),On&&Pe.push(`version name "${Ve}" contains illegal characters (whitespace or "/")`),void he.warn(Pe.join(" "))}Nt(new m.wA(`${tn}-version`,()=>({library:tn,version:Ve}),"VERSION"))}function Nn(Dt,Ve){if(null!==Dt&&"function"!=typeof Dt)throw mt.create("invalid-log-argument");(0,K.Am)(Dt,Ve)}function Zr(Dt){(0,K.Ub)(Dt)}const _r="firebase-heartbeat-database",Ar=1,Qt="firebase-heartbeat-store";let kn=null;function Mr(){return kn||(kn=(0,Se.X3)(_r,Ar,{upgrade:(Dt,Ve)=>{0===Ve&&Dt.createObjectStore(Qt)}}).catch(Dt=>{throw mt.create("idb-open",{originalErrorMessage:Dt.message})})),kn}function fr(){return(fr=(0,g.Z)(function*(Dt){try{return yield(yield Mr()).transaction(Qt).objectStore(Qt).get(Bt(Dt))}catch(Ve){if(Ve instanceof re.ZR)he.warn(Ve.message);else{const Et=mt.create("idb-get",{originalErrorMessage:null==Ve?void 0:Ve.message});he.warn(Et.message)}}})).apply(this,arguments)}function en(Dt,Ve){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,g.Z)(function*(Dt,Ve){try{const Yt=(yield Mr()).transaction(Qt,"readwrite");yield Yt.objectStore(Qt).put(Ve,Bt(Dt)),yield Yt.done}catch(Et){if(Et instanceof re.ZR)he.warn(Et.message);else{const Yt=mt.create("idb-set",{originalErrorMessage:null==Et?void 0:Et.message});he.warn(Yt.message)}}})).apply(this,arguments)}function Bt(Dt){return`${Dt.name}!${Dt.options.appId}`}class Jn{constructor(Ve){this.container=Ve,this._heartbeatsCache=null;const Et=this.container.getProvider("app").getImmediate();this._storage=new Ei(Et),this._heartbeatsCachePromise=this._storage.read().then(Yt=>(this._heartbeatsCache=Yt,Yt))}triggerHeartbeat(){var Ve=this;return(0,g.Z)(function*(){const Yt=Ve.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),tn=ci();if(null===Ve._heartbeatsCache&&(Ve._heartbeatsCache=yield Ve._heartbeatsCachePromise),Ve._heartbeatsCache.lastSentHeartbeatDate!==tn&&!Ve._heartbeatsCache.heartbeats.some(mn=>mn.date===tn))return Ve._heartbeatsCache.heartbeats.push({date:tn,agent:Yt}),Ve._heartbeatsCache.heartbeats=Ve._heartbeatsCache.heartbeats.filter(mn=>{const On=new Date(mn.date).valueOf();return Date.now()-On<=2592e6}),Ve._storage.overwrite(Ve._heartbeatsCache)})()}getHeartbeatsHeader(){var Ve=this;return(0,g.Z)(function*(){if(null===Ve._heartbeatsCache&&(yield Ve._heartbeatsCachePromise),null===Ve._heartbeatsCache||0===Ve._heartbeatsCache.heartbeats.length)return"";const Et=ci(),{heartbeatsToSend:Yt,unsentEntries:tn}=function Xr(Dt,Ve=1024){const Et=[];let Yt=Dt.slice();for(const tn of Dt){const mn=Et.find(On=>On.agent===tn.agent);if(mn){if(mn.dates.push(tn.date),Ir(Et)>Ve){mn.dates.pop();break}}else if(Et.push({agent:tn.agent,dates:[tn.date]}),Ir(Et)>Ve){Et.pop();break}Yt=Yt.slice(1)}return{heartbeatsToSend:Et,unsentEntries:Yt}}(Ve._heartbeatsCache.heartbeats),mn=(0,re.L)(JSON.stringify({version:2,heartbeats:Yt}));return Ve._heartbeatsCache.lastSentHeartbeatDate=Et,tn.length>0?(Ve._heartbeatsCache.heartbeats=tn,yield Ve._storage.overwrite(Ve._heartbeatsCache)):(Ve._heartbeatsCache.heartbeats=[],Ve._storage.overwrite(Ve._heartbeatsCache)),mn})()}}function ci(){return(new Date).toISOString().substring(0,10)}class Ei{constructor(Ve){this.app=Ve,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ve=this;return(0,g.Z)(function*(){return(yield Ve._canUseIndexedDBPromise)&&(yield function qn(Dt){return fr.apply(this,arguments)}(Ve.app))||{heartbeats:[]}})()}overwrite(Ve){var Et=this;return(0,g.Z)(function*(){var Yt;if(yield Et._canUseIndexedDBPromise){const mn=yield Et.read();return en(Et.app,{lastSentHeartbeatDate:null!==(Yt=Ve.lastSentHeartbeatDate)&&void 0!==Yt?Yt:mn.lastSentHeartbeatDate,heartbeats:Ve.heartbeats})}})()}add(Ve){var Et=this;return(0,g.Z)(function*(){var Yt;if(yield Et._canUseIndexedDBPromise){const mn=yield Et.read();return en(Et.app,{lastSentHeartbeatDate:null!==(Yt=Ve.lastSentHeartbeatDate)&&void 0!==Yt?Yt:mn.lastSentHeartbeatDate,heartbeats:[...mn.heartbeats,...Ve.heartbeats]})}})()}}function Ir(Dt){return(0,re.L)(JSON.stringify({version:2,heartbeats:Dt})).length}!function pi(Dt){Nt(new m.wA("platform-logger",Ve=>new Te(Ve),"PRIVATE")),Nt(new m.wA("heartbeat",Ve=>new Jn(Ve),"PRIVATE")),yn(He,"0.9.13",Dt),yn(He,"0.9.13","esm2017"),yn("fire-js","")}("")},4097:(Jt,nt,N)=>{"use strict";N.d(nt,{C6:()=>g.getApps,Mq:()=>g.getApp});var g=N(7592);(0,g.registerVersion)("firebase","9.23.0","app")},120:(Jt,nt,N)=>{"use strict";N.d(nt,{Z:()=>g.Z});var g=N(3399);g.Z.registerVersion("firebase","9.23.0","app-compat")},8977:(Jt,nt,N)=>{"use strict";N.r(nt);var g=N(5861),m=N(3399),K=N(9058),re=N(7592),Se=N(7582),Te=N(7879),de=N(4537);const Ne={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const $e=function Ee(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},lt=function Re(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},De=new K.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),et=new Te.Yd("@firebase/auth");function Qe(_,...d){et.logLevel<=Te.in.ERROR&&et.error(`Auth (${re.SDK_VERSION}): ${_}`,...d)}function we(_,...d){throw Z(_,...d)}function ke(_,...d){return Z(_,...d)}function Le(_,d,p){const E=Object.assign(Object.assign({},lt()),{[d]:p});return new K.LL("auth","Firebase",E).create(d,{appName:_.name})}function be(_,d,p){if(!(d instanceof p))throw p.name!==d.constructor.name&&we(_,"argument-error"),Le(_,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Z(_,...d){if("string"!=typeof _){const p=d[0],E=[...d.slice(1)];return E[0]&&(E[0].appName=_.name),_._errorFactory.create(p,...E)}return De.create(_,...d)}function me(_,d,...p){if(!_)throw Z(d,...p)}function Be(_){const d="INTERNAL ASSERTION FAILED: "+_;throw Qe(d),new Error(d)}function Je(_,d){_||Be(d)}function je(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function ct(){return"http:"===Pt()||"https:"===Pt()}function Pt(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class We{constructor(d,p){this.shortDelay=d,this.longDelay=p,Je(p>d,"Short delay should be less than long delay!"),this.isMobile=(0,K.uI)()||(0,K.b$)()}get(){return function Tt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ct()||(0,K.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ae(_,d){Je(_.emulator,"Emulator should always be set here");const{url:p}=_.emulator;return d?`${p}${d.startsWith("/")?d.slice(1):d}`:p}class ge{static initialize(d,p,E){this.fetchImpl=d,p&&(this.headersImpl=p),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Be("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Be("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Be("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Oe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ze=new We(3e4,6e4);function tt(_,d){return _.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:_.tenantId}):d}function Ze(_,d,p,E){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,g.Z)(function*(_,d,p,E,H={}){return kt(_,H,(0,g.Z)(function*(){let J={},qe={};E&&("GET"===d?qe=E:J={body:JSON.stringify(E)});const ft=(0,K.xO)(Object.assign({key:_.config.apiKey},qe)).slice(1),Kt=yield _._getAdditionalHeaders();return Kt["Content-Type"]="application/json",_.languageCode&&(Kt["X-Firebase-Locale"]=_.languageCode),ge.fetch()(mt(_,_.config.apiHost,p,ft),Object.assign({method:d,headers:Kt,referrerPolicy:"no-referrer"},J))}))})).apply(this,arguments)}function kt(_,d,p){return It.apply(this,arguments)}function It(){return(It=(0,g.Z)(function*(_,d,p){_._canInitEmulator=!1;const E=Object.assign(Object.assign({},Oe),d);try{const H=new St(_),J=yield Promise.race([p(),H.promise]);H.clearNetworkTimeout();const qe=yield J.json();if("needConfirmation"in qe)throw Zt(_,"account-exists-with-different-credential",qe);if(J.ok&&!("errorMessage"in qe))return qe;{const ft=J.ok?qe.errorMessage:qe.error.message,[Kt,gn]=ft.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Kt)throw Zt(_,"credential-already-in-use",qe);if("EMAIL_EXISTS"===Kt)throw Zt(_,"email-already-in-use",qe);if("USER_DISABLED"===Kt)throw Zt(_,"user-disabled",qe);const Ln=E[Kt]||Kt.toLowerCase().replace(/[_\s]+/g,"-");if(gn)throw Le(_,Ln,gn);we(_,Ln)}}catch(H){if(H instanceof K.ZR)throw H;we(_,"network-request-failed",{message:String(H)})}})).apply(this,arguments)}function pe(_,d,p,E){return dt.apply(this,arguments)}function dt(){return(dt=(0,g.Z)(function*(_,d,p,E,H={}){const J=yield Ze(_,d,p,E,H);return"mfaPendingCredential"in J&&we(_,"multi-factor-auth-required",{_serverResponse:J}),J})).apply(this,arguments)}function mt(_,d,p,E){const H=`${d}${p}?${E}`;return _.config.emulator?ae(_.config,H):`${_.config.apiScheme}://${H}`}class St{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((p,E)=>{this.timer=setTimeout(()=>E(ke(this.auth,"network-request-failed")),ze.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zt(_,d,p){const E={appName:_.name};p.email&&(E.email=p.email),p.phoneNumber&&(E.phoneNumber=p.phoneNumber);const H=ke(_,d,E);return H.customData._tokenResponse=p,H}function qt(){return(qt=(0,g.Z)(function*(_,d){return Ze(_,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Tn(){return(Tn=(0,g.Z)(function*(_,d){return Ze(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function yn(){return(yn=(0,g.Z)(function*(_,d){return Ze(_,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Nn(_){if(_)try{const d=new Date(Number(_));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function Ar(){return(Ar=(0,g.Z)(function*(_,d=!1){const p=(0,K.m9)(_),E=yield p.getIdToken(d),H=kn(E);me(H&&H.exp&&H.auth_time&&H.iat,p.auth,"internal-error");const J="object"==typeof H.firebase?H.firebase:void 0,qe=null==J?void 0:J.sign_in_provider;return{claims:H,token:E,authTime:Nn(Qt(H.auth_time)),issuedAtTime:Nn(Qt(H.iat)),expirationTime:Nn(Qt(H.exp)),signInProvider:qe||null,signInSecondFactor:(null==J?void 0:J.sign_in_second_factor)||null}})).apply(this,arguments)}function Qt(_){return 1e3*Number(_)}function kn(_){const[d,p,E]=_.split(".");if(void 0===d||void 0===p||void 0===E)return Qe("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,K.tV)(p);return H?JSON.parse(H):(Qe("Failed to decode base64 JWT payload"),null)}catch(H){return Qe("Caught error parsing JWT payload as JSON",null==H?void 0:H.toString()),null}}function qn(_,d){return fr.apply(this,arguments)}function fr(){return(fr=(0,g.Z)(function*(_,d,p=!1){if(p)return d;try{return yield d}catch(E){throw E instanceof K.ZR&&function en({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(E)&&_.auth.currentUser===_&&(yield _.auth.signOut()),E}})).apply(this,arguments)}class Rn{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var p;if(d){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const H=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,H)}}schedule(d=!1){var p=this;if(!this.isRunning)return;const E=this.getInterval(d);this.timerId=setTimeout((0,g.Z)(function*(){yield p.iteration()}),E)}iteration(){var d=this;return(0,g.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===(null==p?void 0:p.code)&&d.schedule(!0))}d.schedule()})()}}class Bt{constructor(d,p){this.createdAt=d,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nn(this.lastLoginAt),this.creationTime=Nn(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Qn(_){return Hr.apply(this,arguments)}function Hr(){return Hr=(0,g.Z)(function*(_){var d;const p=_.auth,E=yield _.getIdToken(),H=yield qn(_,function En(_,d){return yn.apply(this,arguments)}(p,{idToken:E}));me(null==H?void 0:H.users.length,p,"internal-error");const J=H.users[0];_._notifyReloadListener(J);const qe=null!==(d=J.providerUserInfo)&&void 0!==d&&d.length?function Ei(_){return _.map(d=>{var{providerId:p}=d,E=(0,Se._T)(d,["providerId"]);return{providerId:p,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(J.providerUserInfo):[],ft=function Xr(_,d){return[..._.filter(E=>!d.some(H=>H.providerId===E.providerId)),...d]}(_.providerData,qe),Ln=!!_.isAnonymous&&!(_.email&&J.passwordHash||null!=ft&&ft.length),Un={uid:J.localId,displayName:J.displayName||null,photoURL:J.photoUrl||null,email:J.email||null,emailVerified:J.emailVerified||!1,phoneNumber:J.phoneNumber||null,tenantId:J.tenantId||null,providerData:ft,metadata:new Bt(J.createdAt,J.lastLoginAt),isAnonymous:Ln};Object.assign(_,Un)}),Hr.apply(this,arguments)}function ci(){return(ci=(0,g.Z)(function*(_){const d=(0,K.m9)(_);yield Qn(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function pi(){return(pi=(0,g.Z)(function*(_,d){const p=yield kt(_,{},(0,g.Z)(function*(){const E=(0,K.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:H,apiKey:J}=_.config,qe=mt(_,H,"/v1/token",`key=${J}`),ft=yield _._getAdditionalHeaders();return ft["Content-Type"]="application/x-www-form-urlencoded",ge.fetch()(qe,{method:"POST",headers:ft,body:E})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Dt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){me(d.idToken,"internal-error"),me(typeof d.idToken<"u","internal-error"),me(typeof d.refreshToken<"u","internal-error");const p="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function Mr(_){const d=kn(_);return me(d,"internal-error"),me(typeof d.exp<"u","internal-error"),me(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,p)}getToken(d,p=!1){var E=this;return(0,g.Z)(function*(){return me(!E.accessToken||E.refreshToken,d,"user-token-expired"),p||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(d,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,p){var E=this;return(0,g.Z)(function*(){const{accessToken:H,refreshToken:J,expiresIn:qe}=yield function Ir(_,d){return pi.apply(this,arguments)}(d,p);E.updateTokensAndExpiration(H,J,Number(qe))})()}updateTokensAndExpiration(d,p,E){this.refreshToken=p||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(d,p){const{refreshToken:E,accessToken:H,expirationTime:J}=p,qe=new Dt;return E&&(me("string"==typeof E,"internal-error",{appName:d}),qe.refreshToken=E),H&&(me("string"==typeof H,"internal-error",{appName:d}),qe.accessToken=H),J&&(me("number"==typeof J,"internal-error",{appName:d}),qe.expirationTime=J),qe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Dt,this.toJSON())}_performRefresh(){return Be("not implemented")}}function Ve(_,d){me("string"==typeof _||typeof _>"u","internal-error",{appName:d})}class Et{constructor(d){var{uid:p,auth:E,stsTokenManager:H}=d,J=(0,Se._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=E,this.stsTokenManager=H,this.accessToken=H.accessToken,this.displayName=J.displayName||null,this.email=J.email||null,this.emailVerified=J.emailVerified||!1,this.phoneNumber=J.phoneNumber||null,this.photoURL=J.photoURL||null,this.isAnonymous=J.isAnonymous||!1,this.tenantId=J.tenantId||null,this.providerData=J.providerData?[...J.providerData]:[],this.metadata=new Bt(J.createdAt||void 0,J.lastLoginAt||void 0)}getIdToken(d){var p=this;return(0,g.Z)(function*(){const E=yield qn(p,p.stsTokenManager.getToken(p.auth,d));return me(E,p.auth,"internal-error"),p.accessToken!==E&&(p.accessToken=E,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),E})()}getIdTokenResult(d){return function _r(_){return Ar.apply(this,arguments)}(this,d)}reload(){return function Jn(_){return ci.apply(this,arguments)}(this)}_assign(d){this!==d&&(me(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(p=>Object.assign({},p)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const p=new Et(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(d){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,p=!1){var E=this;return(0,g.Z)(function*(){let H=!1;d.idToken&&d.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(d),H=!0),p&&(yield Qn(E)),yield E.auth._persistUserIfCurrent(E),H&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var d=this;return(0,g.Z)(function*(){const p=yield d.getIdToken();return yield qn(d,function In(_,d){return qt.apply(this,arguments)}(d.auth,{idToken:p})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,p){var E,H,J,qe,ft,Kt,gn,Ln;const Un=null!==(E=p.displayName)&&void 0!==E?E:void 0,Or=null!==(H=p.email)&&void 0!==H?H:void 0,vr=null!==(J=p.phoneNumber)&&void 0!==J?J:void 0,uc=null!==(qe=p.photoURL)&&void 0!==qe?qe:void 0,$u=null!==(ft=p.tenantId)&&void 0!==ft?ft:void 0,Bu=null!==(Kt=p._redirectEventId)&&void 0!==Kt?Kt:void 0,Vu=null!==(gn=p.createdAt)&&void 0!==gn?gn:void 0,Uu=null!==(Ln=p.lastLoginAt)&&void 0!==Ln?Ln:void 0,{uid:Ld,emailVerified:ll,isAnonymous:$d,providerData:Uc,stsTokenManager:jc}=p;me(Ld&&jc,d,"internal-error");const Bd=Dt.fromJSON(this.name,jc);me("string"==typeof Ld,d,"internal-error"),Ve(Un,d.name),Ve(Or,d.name),me("boolean"==typeof ll,d,"internal-error"),me("boolean"==typeof $d,d,"internal-error"),Ve(vr,d.name),Ve(uc,d.name),Ve($u,d.name),Ve(Bu,d.name),Ve(Vu,d.name),Ve(Uu,d.name);const Ga=new Et({uid:Ld,auth:d,email:Or,emailVerified:ll,displayName:Un,isAnonymous:$d,photoURL:uc,phoneNumber:vr,tenantId:$u,stsTokenManager:Bd,createdAt:Vu,lastLoginAt:Uu});return Uc&&Array.isArray(Uc)&&(Ga.providerData=Uc.map(Vd=>Object.assign({},Vd))),Bu&&(Ga._redirectEventId=Bu),Ga}static _fromIdTokenResponse(d,p,E=!1){return(0,g.Z)(function*(){const H=new Dt;H.updateFromServerResponse(p);const J=new Et({uid:p.localId,auth:d,stsTokenManager:H,isAnonymous:E});return yield Qn(J),J})()}}const Yt=new Map;function tn(_){Je(_ instanceof Function,"Expected a class definition");let d=Yt.get(_);return d?(Je(d instanceof _,"Instance stored in cache mismatched with class"),d):(d=new _,Yt.set(_,d),d)}const On=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(p,E){var H=this;return(0,g.Z)(function*(){H.storage[p]=E})()}_get(p){var E=this;return(0,g.Z)(function*(){const H=E.storage[p];return void 0===H?null:H})()}_remove(p){var E=this;return(0,g.Z)(function*(){delete E.storage[p]})()}_addListener(p,E){}_removeListener(p,E){}}return _.type="NONE",_})();function Pe(_,d,p){return`firebase:${_}:${d}:${p}`}class te{constructor(d,p,E){this.persistence=d,this.auth=p,this.userKey=E;const{config:H,name:J}=this.auth;this.fullUserKey=Pe(this.userKey,H.apiKey,J),this.fullPersistenceKey=Pe("persistence",H.apiKey,J),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,g.Z)(function*(){const p=yield d.persistence._get(d.fullUserKey);return p?Et._fromJSON(d.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var p=this;return(0,g.Z)(function*(){if(p.persistence===d)return;const E=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=d,E?p.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,p,E="authUser"){return(0,g.Z)(function*(){if(!p.length)return new te(tn(On),d,E);const H=(yield Promise.all(p.map(function(){var gn=(0,g.Z)(function*(Ln){if(yield Ln._isAvailable())return Ln});return function(Ln){return gn.apply(this,arguments)}}()))).filter(gn=>gn);let J=H[0]||tn(On);const qe=Pe(E,d.config.apiKey,d.name);let ft=null;for(const gn of p)try{const Ln=yield gn._get(qe);if(Ln){const Un=Et._fromJSON(d,Ln);gn!==J&&(ft=Un),J=gn;break}}catch{}const Kt=H.filter(gn=>gn._shouldAllowMigration);return J._shouldAllowMigration&&Kt.length?(J=Kt[0],ft&&(yield J._set(qe,ft.toJSON())),yield Promise.all(p.map(function(){var gn=(0,g.Z)(function*(Ln){if(Ln!==J)try{yield Ln._remove(qe)}catch{}});return function(Ln){return gn.apply(this,arguments)}}())),new te(J,d,E)):new te(J,d,E)})()}}function X(_){const d=_.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(_t(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Ae(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(dn(d))return"Blackberry";if(jn(d))return"Webos";if(ne(d))return"Safari";if((d.includes("chrome/")||Ye(d))&&!d.includes("edge/"))return"Chrome";if(jt(d))return"Android";{const E=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function Ae(_=(0,K.z$)()){return/firefox\//i.test(_)}function ne(_=(0,K.z$)()){const d=_.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Ye(_=(0,K.z$)()){return/crios\//i.test(_)}function _t(_=(0,K.z$)()){return/iemobile/i.test(_)}function jt(_=(0,K.z$)()){return/android/i.test(_)}function dn(_=(0,K.z$)()){return/blackberry/i.test(_)}function jn(_=(0,K.z$)()){return/webos/i.test(_)}function Dn(_=(0,K.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Ni(_=(0,K.z$)()){return Dn(_)||jt(_)||jn(_)||dn(_)||/windows phone/i.test(_)||_t(_)}function xr(_,d=[]){let p;switch(_){case"Browser":p=X((0,K.z$)());break;case"Worker":p=`${X((0,K.z$)())}-${_}`;break;default:p=_}const E=d.length?d.join(","):"FirebaseCore-web";return`${p}/JsCore/${re.SDK_VERSION}/${E}`}function Nr(){return(Nr=(0,g.Z)(function*(_){return(yield Ze(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function bi(_,d){return ri.apply(this,arguments)}function ri(){return(ri=(0,g.Z)(function*(_,d){return Ze(_,"GET","/v2/recaptchaConfig",tt(_,d))})).apply(this,arguments)}function Wn(_){return void 0!==_&&void 0!==_.getResponse}function xi(_){return void 0!==_&&void 0!==_.enterprise}class Ui{constructor(d){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.emailPasswordEnabled=d.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function ui(_){return new Promise((d,p)=>{const E=document.createElement("script");E.setAttribute("src",_),E.onload=d,E.onerror=H=>{const J=ke("internal-error");J.customData=H,p(J)},E.type="text/javascript",E.charset="UTF-8",function to(){var _,d;return null!==(d=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==d?d:document}().appendChild(E)})}function ii(_){return`__${_}${Math.floor(1e6*Math.random())}`}class so{constructor(d){this.type="recaptcha-enterprise",this.auth=cr(d)}verify(d="verify",p=!1){var E=this;return(0,g.Z)(function*(){function J(){return J=(0,g.Z)(function*(ft){if(!p){if(null==ft.tenantId&&null!=ft._agentRecaptchaConfig)return ft._agentRecaptchaConfig.siteKey;if(null!=ft.tenantId&&void 0!==ft._tenantRecaptchaConfigs[ft.tenantId])return ft._tenantRecaptchaConfigs[ft.tenantId].siteKey}return new Promise(function(){var Kt=(0,g.Z)(function*(gn,Ln){bi(ft,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Un=>{if(void 0!==Un.recaptchaKey){const Or=new Ui(Un);return null==ft.tenantId?ft._agentRecaptchaConfig=Or:ft._tenantRecaptchaConfigs[ft.tenantId]=Or,gn(Or.siteKey)}Ln(new Error("recaptcha Enterprise site key undefined"))}).catch(Un=>{Ln(Un)})});return function(gn,Ln){return Kt.apply(this,arguments)}}())}),J.apply(this,arguments)}function qe(ft,Kt,gn){const Ln=window.grecaptcha;xi(Ln)?Ln.enterprise.ready(()=>{Ln.enterprise.execute(ft,{action:d}).then(Un=>{Kt(Un)}).catch(()=>{Kt("NO_RECAPTCHA")})}):gn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ft,Kt)=>{(function H(ft){return J.apply(this,arguments)})(E.auth).then(gn=>{if(!p&&xi(window.grecaptcha))qe(gn,ft,Kt);else{if(typeof window>"u")return void Kt(new Error("RecaptchaVerifier is only supported in browser"));ui("https://www.google.com/recaptcha/enterprise.js?render="+gn).then(()=>{qe(gn,ft,Kt)}).catch(Ln=>{Kt(Ln)})}}).catch(gn=>{Kt(gn)})})})()}}function Ri(_,d,p){return ao.apply(this,arguments)}function ao(){return(ao=(0,g.Z)(function*(_,d,p,E=!1){const H=new so(_);let J;try{J=yield H.verify(p)}catch{J=yield H.verify(p,!0)}const qe=Object.assign({},d);return Object.assign(qe,E?{captchaResp:J}:{captchaResponse:J}),Object.assign(qe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(qe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),qe})).apply(this,arguments)}class Oi{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,p){const E=J=>new Promise((qe,ft)=>{try{qe(d(J))}catch(Kt){ft(Kt)}});E.onAbort=p,this.queue.push(E);const H=this.queue.length-1;return()=>{this.queue[H]=()=>Promise.resolve()}}runMiddleware(d){var p=this;return(0,g.Z)(function*(){if(p.auth.currentUser===d)return;const E=[];try{for(const H of p.queue)yield H(d),H.onAbort&&E.push(H.onAbort)}catch(H){E.reverse();for(const J of E)try{J()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null==H?void 0:H.message})}})()}}class Zi{constructor(d,p,E,H){this.app=d,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=E,this.config=H,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ji(this),this.idTokenSubscription=new ji(this),this.beforeStateQueue=new Oi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=De,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=H.sdkClientVersion}_initializeWithPersistence(d,p){var E=this;return p&&(this._popupRedirectResolver=tn(p)),this._initializationPromise=this.queue((0,g.Z)(function*(){var H,J;if(!E._deleted&&(E.persistenceManager=yield te.create(E,d),!E._deleted)){if(null!==(H=E._popupRedirectResolver)&&void 0!==H&&H._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(p),E.lastNotifiedUid=(null===(J=E.currentUser)||void 0===J?void 0:J.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,g.Z)(function*(){if(d._deleted)return;const p=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||p){if(d.currentUser&&p&&d.currentUser.uid===p.uid)return d._currentUser._assign(p),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(p,!0)}})()}initializeCurrentUser(d){var p=this;return(0,g.Z)(function*(){var E;const H=yield p.assertedPersistence.getCurrentUser();let J=H,qe=!1;if(d&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const ft=null===(E=p.redirectUser)||void 0===E?void 0:E._redirectEventId,Kt=null==J?void 0:J._redirectEventId,gn=yield p.tryRedirectSignIn(d);(!ft||ft===Kt)&&null!=gn&&gn.user&&(J=gn.user,qe=!0)}if(!J)return p.directlySetCurrentUser(null);if(!J._redirectEventId){if(qe)try{yield p.beforeStateQueue.runMiddleware(J)}catch(ft){J=H,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(ft))}return J?p.reloadAndSetCurrentUserOrClear(J):p.directlySetCurrentUser(null)}return me(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===J._redirectEventId?p.directlySetCurrentUser(J):p.reloadAndSetCurrentUserOrClear(J)})()}tryRedirectSignIn(d){var p=this;return(0,g.Z)(function*(){let E=null;try{E=yield p._popupRedirectResolver._completeRedirectFn(p,d,!0)}catch{yield p._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(d){var p=this;return(0,g.Z)(function*(){try{yield Qn(d)}catch(E){if("auth/network-request-failed"!==(null==E?void 0:E.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function Lt(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var d=this;return(0,g.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var p=this;return(0,g.Z)(function*(){const E=d?(0,K.m9)(d):null;return E&&me(E.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(E&&E._clone(p))})()}_updateCurrentUser(d,p=!1){var E=this;return(0,g.Z)(function*(){if(!E._deleted)return d&&me(E.tenantId===d.tenantId,E,"tenant-id-mismatch"),p||(yield E.beforeStateQueue.runMiddleware(d)),E.queue((0,g.Z)(function*(){yield E.directlySetCurrentUser(d),E.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,g.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var p=this;return this.queue((0,g.Z)(function*(){yield p.assertedPersistence.setPersistence(tn(d))}))}initializeRecaptchaConfig(){var d=this;return(0,g.Z)(function*(){const p=yield bi(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),E=new Ui(p);null==d.tenantId?d._agentRecaptchaConfig=E:d._tenantRecaptchaConfigs[d.tenantId]=E,E.emailPasswordEnabled&&new so(d).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new K.LL("auth","Firebase",d())}onAuthStateChanged(d,p,E){return this.registerStateListener(this.authStateSubscription,d,p,E)}beforeAuthStateChanged(d,p){return this.beforeStateQueue.pushCallback(d,p)}onIdTokenChanged(d,p,E){return this.registerStateListener(this.idTokenSubscription,d,p,E)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,p){var E=this;return(0,g.Z)(function*(){const H=yield E.getOrInitRedirectPersistenceManager(p);return null===d?H.removeCurrentUser():H.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var p=this;return(0,g.Z)(function*(){if(!p.redirectPersistenceManager){const E=d&&tn(d)||p._popupRedirectResolver;me(E,p,"argument-error"),p.redirectPersistenceManager=yield te.create(p,[tn(E._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(d){var p=this;return(0,g.Z)(function*(){var E,H;return p._isInitialized&&(yield p.queue((0,g.Z)(function*(){}))),(null===(E=p._currentUser)||void 0===E?void 0:E._redirectEventId)===d?p._currentUser:(null===(H=p.redirectUser)||void 0===H?void 0:H._redirectEventId)===d?p.redirectUser:null})()}_persistUserIfCurrent(d){var p=this;return(0,g.Z)(function*(){if(d===p.currentUser)return p.queue((0,g.Z)(function*(){return p.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(p=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,p,E,H){if(this._deleted)return()=>{};const J="function"==typeof p?p:p.next.bind(p),qe=this._isInitialized?Promise.resolve():this._initializationPromise;return me(qe,this,"internal-error"),qe.then(()=>J(this.currentUser)),"function"==typeof p?d.addObserver(p,E,H):d.addObserver(p)}directlySetCurrentUser(d){var p=this;return(0,g.Z)(function*(){p.currentUser&&p.currentUser!==d&&p._currentUser._stopProactiveRefresh(),d&&p.isProactiveRefreshEnabled&&d._startProactiveRefresh(),p.currentUser=d,d?yield p.assertedPersistence.setCurrentUser(d):yield p.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=xr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,g.Z)(function*(){var p;const E={"X-Client-Version":d.clientVersion};d.app.options.appId&&(E["X-Firebase-gmpid"]=d.app.options.appId);const H=yield null===(p=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();H&&(E["X-Firebase-Client"]=H);const J=yield d._getAppCheckToken();return J&&(E["X-Firebase-AppCheck"]=J),E})()}_getAppCheckToken(){var d=this;return(0,g.Z)(function*(){var p;const E=yield null===(p=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return null!=E&&E.error&&function ut(_,...d){et.logLevel<=Te.in.WARN&&et.warn(`Auth (${re.SDK_VERSION}): ${_}`,...d)}(`Error while retrieving App Check token: ${E.error}`),null==E?void 0:E.token})()}}function cr(_){return(0,K.m9)(_)}class ji{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,K.ne)(p=>this.observer=p)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Lr(_){const d=_.indexOf(":");return d<0?"":_.substr(0,d+1)}function W(_){if(!_)return null;const d=Number(_);return isNaN(d)?null:d}class xe{constructor(d,p){this.providerId=d,this.signInMethod=p}toJSON(){return Be("not implemented")}_getIdTokenResponse(d){return Be("not implemented")}_linkToIdToken(d,p){return Be("not implemented")}_getReauthenticationResolver(d){return Be("not implemented")}}function pt(_,d){return st.apply(this,arguments)}function st(){return(st=(0,g.Z)(function*(_,d){return Ze(_,"POST","/v1/accounts:resetPassword",tt(_,d))})).apply(this,arguments)}function bt(_,d){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,g.Z)(function*(_,d){return Ze(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function $t(){return($t=(0,g.Z)(function*(_,d){return Ze(_,"POST","/v1/accounts:update",tt(_,d))})).apply(this,arguments)}function sn(_,d){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,g.Z)(function*(_,d){return pe(_,"POST","/v1/accounts:signInWithPassword",tt(_,d))})).apply(this,arguments)}function An(_,d){return gr.apply(this,arguments)}function gr(){return(gr=(0,g.Z)(function*(_,d){return Ze(_,"POST","/v1/accounts:sendOobCode",tt(_,d))})).apply(this,arguments)}function Ge(){return(Ge=(0,g.Z)(function*(_,d){return An(_,d)})).apply(this,arguments)}function at(_,d){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,g.Z)(function*(_,d){return An(_,d)})).apply(this,arguments)}function Gt(_,d){return nn.apply(this,arguments)}function nn(){return(nn=(0,g.Z)(function*(_,d){return An(_,d)})).apply(this,arguments)}function Hn(){return(Hn=(0,g.Z)(function*(_,d){return An(_,d)})).apply(this,arguments)}function Qr(){return(Qr=(0,g.Z)(function*(_,d){return pe(_,"POST","/v1/accounts:signInWithEmailLink",tt(_,d))})).apply(this,arguments)}function zr(){return(zr=(0,g.Z)(function*(_,d){return pe(_,"POST","/v1/accounts:signInWithEmailLink",tt(_,d))})).apply(this,arguments)}class No extends xe{constructor(d,p,E,H=null){super("password",E),this._email=d,this._password=p,this._tenantId=H}static _fromEmailAndPassword(d,p){return new No(d,p,"password")}static _fromEmailAndCode(d,p,E=null){return new No(d,p,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d;if(null!=p&&p.email&&null!=p&&p.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(d){var p=this;return(0,g.Z)(function*(){var E;switch(p.signInMethod){case"password":const H={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=d._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const J=yield Ri(d,H,"signInWithPassword");return sn(d,J)}return sn(d,H).catch(function(){var J=(0,g.Z)(function*(qe){if("auth/missing-recaptcha-token"===qe.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ft=yield Ri(d,H,"signInWithPassword");return sn(d,ft)}return Promise.reject(qe)});return function(qe){return J.apply(this,arguments)}}());case"emailLink":return function ur(_,d){return Qr.apply(this,arguments)}(d,{email:p._email,oobCode:p._password});default:we(d,"internal-error")}})()}_linkToIdToken(d,p){var E=this;return(0,g.Z)(function*(){switch(E.signInMethod){case"password":return bt(d,{idToken:p,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function ns(_,d){return zr.apply(this,arguments)}(d,{idToken:p,email:E._email,oobCode:E._password});default:we(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function To(_,d){return lo.apply(this,arguments)}function lo(){return(lo=(0,g.Z)(function*(_,d){return pe(_,"POST","/v1/accounts:signInWithIdp",tt(_,d))})).apply(this,arguments)}class on extends xe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const p=new on(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(p.idToken=d.idToken),d.accessToken&&(p.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(p.nonce=d.nonce),d.pendingToken&&(p.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(p.accessToken=d.oauthToken,p.secret=d.oauthTokenSecret):we("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d,{providerId:E,signInMethod:H}=p,J=(0,Se._T)(p,["providerId","signInMethod"]);if(!E||!H)return null;const qe=new on(E,H);return qe.idToken=J.idToken||void 0,qe.accessToken=J.accessToken||void 0,qe.secret=J.secret,qe.nonce=J.nonce,qe.pendingToken=J.pendingToken||null,qe}_getIdTokenResponse(d){return To(d,this.buildRequest())}_linkToIdToken(d,p){const E=this.buildRequest();return E.idToken=p,To(d,E)}_getReauthenticationResolver(d){const p=this.buildRequest();return p.autoCreate=!1,To(d,p)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),d.postBody=(0,K.xO)(p)}return d}}function Tr(){return(Tr=(0,g.Z)(function*(_,d){return Ze(_,"POST","/v1/accounts:sendVerificationCode",tt(_,d))})).apply(this,arguments)}function So(){return(So=(0,g.Z)(function*(_,d){return pe(_,"POST","/v1/accounts:signInWithPhoneNumber",tt(_,d))})).apply(this,arguments)}function Ao(){return(Ao=(0,g.Z)(function*(_,d){const p=yield pe(_,"POST","/v1/accounts:signInWithPhoneNumber",tt(_,d));if(p.temporaryProof)throw Zt(_,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Vr={USER_NOT_FOUND:"user-not-found"};function oi(){return(oi=(0,g.Z)(function*(_,d){return pe(_,"POST","/v1/accounts:signInWithPhoneNumber",tt(_,Object.assign(Object.assign({},d),{operation:"REAUTH"})),Vr)})).apply(this,arguments)}class $n extends xe{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,p){return new $n({verificationId:d,verificationCode:p})}static _fromTokenResponse(d,p){return new $n({phoneNumber:d,temporaryProof:p})}_getIdTokenResponse(d){return function zi(_,d){return So.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,p){return function Di(_,d){return Ao.apply(this,arguments)}(d,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function yo(_,d){return oi.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:p,verificationId:E,verificationCode:H}=this.params;return d&&p?{temporaryProof:d,phoneNumber:p}:{sessionInfo:E,code:H}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:p,verificationCode:E,phoneNumber:H,temporaryProof:J}=d;return E||p||H||J?new $n({verificationId:p,verificationCode:E,phoneNumber:H,temporaryProof:J}):null}}class Mo{constructor(d){var p,E,H,J,qe,ft;const Kt=(0,K.zd)((0,K.pd)(d)),gn=null!==(p=Kt.apiKey)&&void 0!==p?p:null,Ln=null!==(E=Kt.oobCode)&&void 0!==E?E:null,Un=function gs(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(H=Kt.mode)&&void 0!==H?H:null);me(gn&&Ln&&Un,"argument-error"),this.apiKey=gn,this.operation=Un,this.code=Ln,this.continueUrl=null!==(J=Kt.continueUrl)&&void 0!==J?J:null,this.languageCode=null!==(qe=Kt.languageCode)&&void 0!==qe?qe:null,this.tenantId=null!==(ft=Kt.tenantId)&&void 0!==ft?ft:null}static parseLink(d){const p=function Rs(_){const d=(0,K.zd)((0,K.pd)(_)).link,p=d?(0,K.zd)((0,K.pd)(d)).deep_link_id:null,E=(0,K.zd)((0,K.pd)(_)).deep_link_id;return(E?(0,K.zd)((0,K.pd)(E)).link:null)||E||p||d||_}(d);try{return new Mo(p)}catch{return null}}}let ms=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(p,E){return No._fromEmailAndPassword(p,E)}static credentialWithLink(p,E){const H=Mo.parseLink(E);return me(H,"argument-error"),No._fromEmailAndCode(p,H.code,H.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class gi{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Jr extends gi{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class ro extends Jr{static credentialFromJSON(d){const p="string"==typeof d?JSON.parse(d):d;return me("providerId"in p&&"signInMethod"in p,"argument-error"),on._fromParams(p)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return me(d.idToken||d.accessToken,"argument-error"),on._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return ro.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return ro.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:E,oauthTokenSecret:H,pendingToken:J,nonce:qe,providerId:ft}=d;if(!E&&!H&&!p&&!J||!ft)return null;try{return new ro(ft)._credential({idToken:p,accessToken:E,nonce:qe,pendingToken:J})}catch{return null}}}let vs=(()=>{class _ extends Jr{constructor(){super("facebook.com")}static credential(p){return on._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),_o=(()=>{class _ extends Jr{constructor(){super("google.com"),this.addScope("profile")}static credential(p,E){return on._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:E})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:E,oauthAccessToken:H}=p;if(!E&&!H)return null;try{return _.credential(E,H)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),pr=(()=>{class _ extends Jr{constructor(){super("github.com")}static credential(p){return on._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Xi extends xe{constructor(d,p){super(d,d),this.pendingToken=p}_getIdTokenResponse(d){return To(d,this.buildRequest())}_linkToIdToken(d,p){const E=this.buildRequest();return E.idToken=p,To(d,E)}_getReauthenticationResolver(d){const p=this.buildRequest();return p.autoCreate=!1,To(d,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d,{providerId:E,signInMethod:H,pendingToken:J}=p;return E&&H&&J&&E===H?new Xi(E,J):null}static _create(d,p){return new Xi(d,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class bs extends gi{constructor(d){me(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return bs.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return bs.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const p=Xi.fromJSON(d);return me(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:p,providerId:E}=d;if(!p||!E)return null;try{return Xi._create(E,p)}catch{return null}}}let os=(()=>{class _ extends Jr{constructor(){super("twitter.com")}static credential(p,E){return on._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:E})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:E,oauthTokenSecret:H}=p;if(!E||!H)return null;try{return _.credential(E,H)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function xo(_,d){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,g.Z)(function*(_,d){return pe(_,"POST","/v1/accounts:signUp",tt(_,d))})).apply(this,arguments)}class Gi{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,p,E,H=!1){return(0,g.Z)(function*(){const J=yield Et._fromIdTokenResponse(d,E,H),qe=Io(E);return new Gi({user:J,providerId:qe,_tokenResponse:E,operationType:p})})()}static _forOperation(d,p,E){return(0,g.Z)(function*(){yield d._updateTokensIfNecessary(E,!0);const H=Io(E);return new Gi({user:d,providerId:H,_tokenResponse:E,operationType:p})})()}}function Io(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function ei(){return(ei=(0,g.Z)(function*(_){var d;const p=cr(_);if(yield p._initializationPromise,null!==(d=p.currentUser)&&void 0!==d&&d.isAnonymous)return new Gi({user:p.currentUser,providerId:null,operationType:"signIn"});const E=yield xo(p,{returnSecureToken:!0}),H=yield Gi._fromIdTokenResponse(p,"signIn",E,!0);return yield p._updateCurrentUser(H.user),H})).apply(this,arguments)}class ys extends K.ZR{constructor(d,p,E,H){var J;super(p.code,p.message),this.operationType=E,this.user=H,Object.setPrototypeOf(this,ys.prototype),this.customData={appName:d.name,tenantId:null!==(J=d.tenantId)&&void 0!==J?J:void 0,_serverResponse:p.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(d,p,E,H){return new ys(d,p,E,H)}}function Wi(_,d,p,E){return("reauthenticate"===d?p._getReauthenticationResolver(_):p._getIdTokenResponse(_)).catch(J=>{throw"auth/multi-factor-auth-required"===J.code?ys._fromErrorAndOperation(_,J,d,E):J})}function Ci(_){return new Set(_.map(({providerId:d})=>d).filter(d=>!!d))}function qi(){return qi=(0,g.Z)(function*(_,d){const p=(0,K.m9)(_);yield _s(!0,p,d);const{providerUserInfo:E}=yield function Pn(_,d){return Tn.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[d]}),H=Ci(E||[]);return p.providerData=p.providerData.filter(J=>H.has(J.providerId)),H.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),qi.apply(this,arguments)}function Ro(_,d){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,g.Z)(function*(_,d,p=!1){const E=yield qn(_,d._linkToIdToken(_.auth,yield _.getIdToken()),p);return Gi._forOperation(_,"link",E)})).apply(this,arguments)}function _s(_,d,p){return js.apply(this,arguments)}function js(){return(js=(0,g.Z)(function*(_,d,p){yield Qn(d);const H=!1===_?"provider-already-linked":"no-such-provider";me(Ci(d.providerData).has(p)===_,d.auth,H)})).apply(this,arguments)}function ws(_,d){return ss.apply(this,arguments)}function ss(){return(ss=(0,g.Z)(function*(_,d,p=!1){const{auth:E}=_,H="reauthenticate";try{const J=yield qn(_,Wi(E,H,d,_),p);me(J.idToken,E,"internal-error");const qe=kn(J.idToken);me(qe,E,"internal-error");const{sub:ft}=qe;return me(_.uid===ft,E,"user-mismatch"),Gi._forOperation(_,H,J)}catch(J){throw"auth/user-not-found"===(null==J?void 0:J.code)&&we(E,"user-mismatch"),J}})).apply(this,arguments)}function Hs(_,d){return zs.apply(this,arguments)}function zs(){return(zs=(0,g.Z)(function*(_,d,p=!1){const E="signIn",H=yield Wi(_,E,d),J=yield Gi._fromIdTokenResponse(_,E,H);return p||(yield _._updateCurrentUser(J.user)),J})).apply(this,arguments)}function Gs(_,d){return Na.apply(this,arguments)}function Na(){return(Na=(0,g.Z)(function*(_,d){return Hs(cr(_),d)})).apply(this,arguments)}function yl(_,d){return hi.apply(this,arguments)}function hi(){return(hi=(0,g.Z)(function*(_,d){const p=(0,K.m9)(_);return yield _s(!1,p,d.providerId),Ro(p,d)})).apply(this,arguments)}function Gl(_,d){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,g.Z)(function*(_,d){return ws((0,K.m9)(_),d)})).apply(this,arguments)}function P(){return(P=(0,g.Z)(function*(_,d){return pe(_,"POST","/v1/accounts:signInWithCustomToken",tt(_,d))})).apply(this,arguments)}function j(){return j=(0,g.Z)(function*(_,d){const p=cr(_),E=yield function z(_,d){return P.apply(this,arguments)}(p,{token:d,returnSecureToken:!0}),H=yield Gi._fromIdTokenResponse(p,"signIn",E);return yield p._updateCurrentUser(H.user),H}),j.apply(this,arguments)}class fe{constructor(d,p){this.factorId=d,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(d,p){return"phoneInfo"in p?Vt._fromServerResponse(d,p):"totpInfo"in p?y._fromServerResponse(d,p):we(d,"internal-error")}}class Vt extends fe{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,p){return new Vt(p)}}class y extends fe{constructor(d){super("totp",d)}static _fromServerResponse(d,p){return new y(p)}}function $(_,d,p){var E;me((null===(E=p.url)||void 0===E?void 0:E.length)>0,_,"invalid-continue-uri"),me(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),d.continueUrl=p.url,d.dynamicLinkDomain=p.dynamicLinkDomain,d.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(me(p.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),d.iOSBundleId=p.iOS.bundleId),p.android&&(me(p.android.packageName.length>0,_,"missing-android-pkg-name"),d.androidInstallApp=p.android.installApp,d.androidMinimumVersionCode=p.android.minimumVersion,d.androidPackageName=p.android.packageName)}function k(){return k=(0,g.Z)(function*(_,d,p){var E;const H=cr(_),J={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=H._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const qe=yield Ri(H,J,"getOobCode",!0);p&&$(H,qe,p),yield at(H,qe)}else p&&$(H,J,p),yield at(H,J).catch(function(){var qe=(0,g.Z)(function*(ft){if("auth/missing-recaptcha-token"!==ft.code)return Promise.reject(ft);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Kt=yield Ri(H,J,"getOobCode",!0);p&&$(H,Kt,p),yield at(H,Kt)}});return function(ft){return qe.apply(this,arguments)}}())}),k.apply(this,arguments)}function Ct(){return(Ct=(0,g.Z)(function*(_,d,p){yield pt((0,K.m9)(_),{oobCode:d,newPassword:p})})).apply(this,arguments)}function vn(){return vn=(0,g.Z)(function*(_,d){yield function Rt(_,d){return $t.apply(this,arguments)}((0,K.m9)(_),{oobCode:d})}),vn.apply(this,arguments)}function tr(_,d){return dr.apply(this,arguments)}function dr(){return(dr=(0,g.Z)(function*(_,d){const p=(0,K.m9)(_),E=yield pt(p,{oobCode:d}),H=E.requestType;switch(me(H,p,"internal-error"),H){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":me(E.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":me(E.mfaInfo,p,"internal-error");default:me(E.email,p,"internal-error")}let J=null;return E.mfaInfo&&(J=fe._fromServerResponse(cr(p),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:J},operation:H}})).apply(this,arguments)}function mi(){return(mi=(0,g.Z)(function*(_,d){const{data:p}=yield tr((0,K.m9)(_),d);return p.email})).apply(this,arguments)}function as(){return as=(0,g.Z)(function*(_,d,p){var E;const H=cr(_),J={returnSecureToken:!0,email:d,password:p,clientType:"CLIENT_TYPE_WEB"};let qe;if(null!==(E=H._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const gn=yield Ri(H,J,"signUpPassword");qe=xo(H,gn)}else qe=xo(H,J).catch(function(){var gn=(0,g.Z)(function*(Ln){if("auth/missing-recaptcha-token"===Ln.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Un=yield Ri(H,J,"signUpPassword");return xo(H,Un)}return Promise.reject(Ln)});return function(Ln){return gn.apply(this,arguments)}}());const ft=yield qe.catch(gn=>Promise.reject(gn)),Kt=yield Gi._fromIdTokenResponse(H,"signIn",ft);return yield H._updateCurrentUser(Kt.user),Kt}),as.apply(this,arguments)}function Zo(){return Zo=(0,g.Z)(function*(_,d,p){var E;const H=cr(_),J={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};function qe(ft,Kt){me(Kt.handleCodeInApp,H,"argument-error"),Kt&&$(H,ft,Kt)}if(null!==(E=H._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const ft=yield Ri(H,J,"getOobCode",!0);qe(ft,p),yield Gt(H,ft)}else qe(J,p),yield Gt(H,J).catch(function(){var ft=(0,g.Z)(function*(Kt){if("auth/missing-recaptcha-token"!==Kt.code)return Promise.reject(Kt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const gn=yield Ri(H,J,"getOobCode",!0);qe(gn,p),yield Gt(H,gn)}});return function(Kt){return ft.apply(this,arguments)}}())}),Zo.apply(this,arguments)}function ka(){return(ka=(0,g.Z)(function*(_,d,p){const E=(0,K.m9)(_),H=ms.credentialWithLink(d,p||je());return me(H._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Gs(E,H)})).apply(this,arguments)}function qs(){return(qs=(0,g.Z)(function*(_,d){return Ze(_,"POST","/v1/accounts:createAuthUri",tt(_,d))})).apply(this,arguments)}function Ys(){return Ys=(0,g.Z)(function*(_,d){const E={identifier:d,continueUri:ct()?je():"http://localhost"},{signinMethods:H}=yield function pa(_,d){return qs.apply(this,arguments)}((0,K.m9)(_),E);return H||[]}),Ys.apply(this,arguments)}function oa(){return oa=(0,g.Z)(function*(_,d){const p=(0,K.m9)(_),H={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};d&&$(p.auth,H,d);const{email:J}=yield function Ke(_,d){return Ge.apply(this,arguments)}(p.auth,H);J!==_.email&&(yield _.reload())}),oa.apply(this,arguments)}function Ks(){return Ks=(0,g.Z)(function*(_,d,p){const E=(0,K.m9)(_),J={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:d};p&&$(E.auth,J,p);const{email:qe}=yield function Mn(_,d){return Hn.apply(this,arguments)}(E.auth,J);qe!==_.email&&(yield _.reload())}),Ks.apply(this,arguments)}function Ka(){return(Ka=(0,g.Z)(function*(_,d){return Ze(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Xa(){return Xa=(0,g.Z)(function*(_,{displayName:d,photoURL:p}){if(void 0===d&&void 0===p)return;const E=(0,K.m9)(_),J={idToken:yield E.getIdToken(),displayName:d,photoUrl:p,returnSecureToken:!0},qe=yield qn(E,function aa(_,d){return Ka.apply(this,arguments)}(E.auth,J));E.displayName=qe.displayName||null,E.photoURL=qe.photoUrl||null;const ft=E.providerData.find(({providerId:Kt})=>"password"===Kt);ft&&(ft.displayName=E.displayName,ft.photoURL=E.photoURL),yield E._updateTokensIfNecessary(qe)}),Xa.apply(this,arguments)}function _l(_,d,p){return ma.apply(this,arguments)}function ma(){return(ma=(0,g.Z)(function*(_,d,p){const{auth:E}=_,J={idToken:yield _.getIdToken(),returnSecureToken:!0};d&&(J.email=d),p&&(J.password=p);const qe=yield qn(_,bt(E,J));yield _._updateTokensIfNecessary(qe,!0)})).apply(this,arguments)}class Ds{constructor(d,p,E={}){this.isNewUser=d,this.providerId=p,this.profile=E}}class Os extends Ds{constructor(d,p,E,H){super(d,p,E),this.username=H}}class Bo extends Ds{constructor(d,p){super(d,"facebook.com",p)}}class T extends Os{constructor(d,p){super(d,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class V extends Ds{constructor(d,p){super(d,"google.com",p)}}class Ie extends Os{constructor(d,p,E){super(d,"twitter.com",p,E)}}function F(_){const{user:d,_tokenResponse:p}=_;return d.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Fa(_){var d,p;if(!_)return null;const{providerId:E}=_,H=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},J=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!E&&null!=_&&_.idToken){const qe=null===(p=null===(d=kn(_.idToken))||void 0===d?void 0:d.firebase)||void 0===p?void 0:p.sign_in_provider;if(qe)return new Ds(J,"anonymous"!==qe&&"custom"!==qe?qe:null)}if(!E)return null;switch(E){case"facebook.com":return new Bo(J,H);case"github.com":return new T(J,H);case"google.com":return new V(J,H);case"twitter.com":return new Ie(J,H,_.screenName||null);case"custom":case"anonymous":return new Ds(J,null);default:return new Ds(J,E,H)}}(p)}class qr{constructor(d,p,E){this.type=d,this.credential=p,this.auth=E}static _fromIdtoken(d,p){return new qr("enroll",d,p)}static _fromMfaPendingCredential(d){return new qr("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var p,E;if(null!=d&&d.multiFactorSession){if(null!==(p=d.multiFactorSession)&&void 0!==p&&p.pendingCredential)return qr._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(E=d.multiFactorSession)&&void 0!==E&&E.idToken)return qr._fromIdtoken(d.multiFactorSession.idToken)}return null}}class Ur{constructor(d,p,E){this.session=d,this.hints=p,this.signInResolver=E}static _fromError(d,p){const E=cr(d),H=p.customData._serverResponse,J=(H.mfaInfo||[]).map(ft=>fe._fromServerResponse(E,ft));me(H.mfaPendingCredential,E,"internal-error");const qe=qr._fromMfaPendingCredential(H.mfaPendingCredential);return new Ur(qe,J,function(){var ft=(0,g.Z)(function*(Kt){const gn=yield Kt._process(E,qe);delete H.mfaInfo,delete H.mfaPendingCredential;const Ln=Object.assign(Object.assign({},H),{idToken:gn.idToken,refreshToken:gn.refreshToken});switch(p.operationType){case"signIn":const Un=yield Gi._fromIdTokenResponse(E,p.operationType,Ln);return yield E._updateCurrentUser(Un.user),Un;case"reauthenticate":return me(p.user,E,"internal-error"),Gi._forOperation(p.user,p.operationType,Ln);default:we(E,"internal-error")}});return function(Kt){return ft.apply(this,arguments)}}())}resolveSignIn(d){var p=this;return(0,g.Z)(function*(){return p.signInResolver(d)})()}}class ko{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(E=>fe._fromServerResponse(d.auth,E)))})}static _fromUser(d){return new ko(d)}getSession(){var d=this;return(0,g.Z)(function*(){return qr._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,p){var E=this;return(0,g.Z)(function*(){const H=d,J=yield E.getSession(),qe=yield qn(E.user,H._process(E.user.auth,J,p));return yield E.user._updateTokensIfNecessary(qe),E.user.reload()})()}unenroll(d){var p=this;return(0,g.Z)(function*(){const E="string"==typeof d?d:d.uid,H=yield p.user.getIdToken();try{const J=yield qn(p.user,function Cs(_,d){return Ze(_,"POST","/v2/accounts/mfaEnrollment:withdraw",tt(_,d))}(p.user.auth,{idToken:H,mfaEnrollmentId:E}));p.enrolledFactors=p.enrolledFactors.filter(({uid:qe})=>qe!==E),yield p.user._updateTokensIfNecessary(J),yield p.user.reload()}catch(J){throw J}})()}}const Ps=new WeakMap,va="__sak";class rr{constructor(d,p){this.storageRetriever=d,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(va,"1"),this.storage.removeItem(va),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,p){return this.storage.setItem(d,JSON.stringify(p)),Promise.resolve()}_get(d){const p=this.storage.getItem(d);return Promise.resolve(p?JSON.parse(p):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Zs=(()=>{class _ extends rr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,E)=>this.onStorageEvent(p,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Dc(){const _=(0,K.z$)();return ne(_)||Dn(_)}()&&function Vi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ni(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const E of Object.keys(this.listeners)){const H=this.storage.getItem(E),J=this.localCache[E];H!==J&&p(E,J,H)}}onStorageEvent(p,E=!1){if(!p.key)return void this.forAllChangedKeys((ft,Kt,gn)=>{this.notifyListeners(ft,gn)});const H=p.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ft=this.storage.getItem(H);if(p.newValue!==ft)null!==p.newValue?this.storage.setItem(H,p.newValue):this.storage.removeItem(H);else if(this.localCache[H]===p.newValue&&!E)return}const J=()=>{const ft=this.storage.getItem(H);!E&&this.localCache[H]===ft||this.notifyListeners(H,ft)},qe=this.storage.getItem(H);!function Dr(){return(0,K.w1)()&&10===document.documentMode}()||qe===p.newValue||p.newValue===p.oldValue?J():setTimeout(J,10)}notifyListeners(p,E){this.localCache[p]=E;const H=this.listeners[p];if(H)for(const J of Array.from(H))J(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,E,H)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:E,newValue:H}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,E){var H=()=>super._set,J=this;return(0,g.Z)(function*(){yield H().call(J,p,E),J.localCache[p]=JSON.stringify(E)})()}_get(p){var E=()=>super._get,H=this;return(0,g.Z)(function*(){const J=yield E().call(H,p);return H.localCache[p]=JSON.stringify(J),J})()}_remove(p){var E=()=>super._remove,H=this;return(0,g.Z)(function*(){yield E().call(H,p),delete H.localCache[p]})()}}return _.type="LOCAL",_})(),ls=(()=>{class _ extends rr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,E){}_removeListener(p,E){}}return _.type="SESSION",_})();let el=(()=>{class _{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const E=this.receivers.find(J=>J.isListeningto(p));if(E)return E;const H=new _(p);return this.receivers.push(H),H}isListeningto(p){return this.eventTarget===p}handleEvent(p){var E=this;return(0,g.Z)(function*(){const H=p,{eventId:J,eventType:qe,data:ft}=H.data,Kt=E.handlersMap[qe];if(null==Kt||!Kt.size)return;H.ports[0].postMessage({status:"ack",eventId:J,eventType:qe});const gn=Array.from(Kt).map(function(){var Un=(0,g.Z)(function*(Or){return Or(H.origin,ft)});return function(Or){return Un.apply(this,arguments)}}()),Ln=yield function Ja(_){return Promise.all(_.map(function(){var d=(0,g.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(E){return{fulfilled:!1,reason:E}}});return function(p){return d.apply(this,arguments)}}()))}(gn);H.ports[0].postMessage({status:"done",eventId:J,eventType:qe,response:Ln})})()}_subscribe(p,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(E)}_unsubscribe(p,E){this.handlersMap[p]&&E&&this.handlersMap[p].delete(E),(!E||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function si(_="",d=10){let p="";for(let E=0;E<d;E++)p+=Math.floor(10*Math.random());return _+p}class tl{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,p,E=50){var H=this;return(0,g.Z)(function*(){const J=typeof MessageChannel<"u"?new MessageChannel:null;if(!J)throw new Error("connection_unavailable");let qe,ft;return new Promise((Kt,gn)=>{const Ln=si("",20);J.port1.start();const Un=setTimeout(()=>{gn(new Error("unsupported_event"))},E);ft={messageChannel:J,onMessage(Or){const vr=Or;if(vr.data.eventId===Ln)switch(vr.data.status){case"ack":clearTimeout(Un),qe=setTimeout(()=>{gn(new Error("timeout"))},3e3);break;case"done":clearTimeout(qe),Kt(vr.data.response);break;default:clearTimeout(Un),clearTimeout(qe),gn(new Error("invalid_response"))}}},H.handlers.add(ft),J.port1.addEventListener("message",ft.onMessage),H.target.postMessage({eventType:d,eventId:Ln,data:p},[J.port2])}).finally(()=>{ft&&H.removeMessageHandler(ft)})})()}}function ai(){return window}function Br(){return typeof ai().WorkerGlobalScope<"u"&&"function"==typeof ai().importScripts}function Li(){return(Li=(0,g.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Sn="firebaseLocalStorageDb",ya="firebaseLocalStorage",wn="fbase_key";class wt{constructor(d){this.request=d}toPromise(){return new Promise((d,p)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Ht(_,d){return _.transaction([ya],d?"readwrite":"readonly").objectStore(ya)}function Fo(){const _=indexedDB.open(Sn,1);return new Promise((d,p)=>{_.addEventListener("error",()=>{p(_.error)}),_.addEventListener("upgradeneeded",()=>{const E=_.result;try{E.createObjectStore(ya,{keyPath:wn})}catch(H){p(H)}}),_.addEventListener("success",(0,g.Z)(function*(){const E=_.result;E.objectStoreNames.contains(ya)?d(E):(E.close(),yield function Eo(){const _=indexedDB.deleteDatabase(Sn);return new wt(_).toPromise()}(),d(yield Fo()))}))})}function Ts(_,d,p){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,g.Z)(function*(_,d,p){const E=Ht(_,!0).put({[wn]:d,value:p});return new wt(E).toPromise()})).apply(this,arguments)}function Ns(){return(Ns=(0,g.Z)(function*(_,d){const p=Ht(_,!1).get(d),E=yield new wt(p).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function fu(_,d){const p=Ht(_,!0).delete(d);return new wt(p).toPromise()}const Ia=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,g.Z)(function*(){return p.db||(p.db=yield Fo()),p.db})()}_withRetries(p){var E=this;return(0,g.Z)(function*(){let H=0;for(;;)try{const J=yield E._openDb();return yield p(J)}catch(J){if(H++>3)throw J;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,g.Z)(function*(){return Br()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,g.Z)(function*(){p.receiver=el._getInstance(function io(){return Br()?self:null}()),p.receiver._subscribe("keyChanged",function(){var E=(0,g.Z)(function*(H,J){return{keyProcessed:(yield p._poll()).includes(J.key)}});return function(H,J){return E.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var E=(0,g.Z)(function*(H,J){return["keyChanged"]});return function(H,J){return E.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,g.Z)(function*(){var E,H;if(p.activeServiceWorker=yield function Xt(){return Li.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new tl(p.activeServiceWorker);const J=yield p.sender._send("ping",{},800);J&&null!==(E=J[0])&&void 0!==E&&E.fulfilled&&null!==(H=J[0])&&void 0!==H&&H.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var E=this;return(0,g.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Yr(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:p},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Fo();return yield Ts(p,va,"1"),yield fu(p,va),!0}catch{}return!1})()}_withPendingWrite(p){var E=this;return(0,g.Z)(function*(){E.pendingWrites++;try{yield p()}finally{E.pendingWrites--}})()}_set(p,E){var H=this;return(0,g.Z)(function*(){return H._withPendingWrite((0,g.Z)(function*(){return yield H._withRetries(J=>Ts(J,p,E)),H.localCache[p]=E,H.notifyServiceWorker(p)}))})()}_get(p){var E=this;return(0,g.Z)(function*(){const H=yield E._withRetries(J=>function _a(_,d){return Ns.apply(this,arguments)}(J,p));return E.localCache[p]=H,H})()}_remove(p){var E=this;return(0,g.Z)(function*(){return E._withPendingWrite((0,g.Z)(function*(){return yield E._withRetries(H=>fu(H,p)),delete E.localCache[p],E.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,g.Z)(function*(){const E=yield p._withRetries(qe=>{const ft=Ht(qe,!1).getAll();return new wt(ft).toPromise()});if(!E)return[];if(0!==p.pendingWrites)return[];const H=[],J=new Set;for(const{fbase_key:qe,value:ft}of E)J.add(qe),JSON.stringify(p.localCache[qe])!==JSON.stringify(ft)&&(p.notifyListeners(qe,ft),H.push(qe));for(const qe of Object.keys(p.localCache))p.localCache[qe]&&!J.has(qe)&&(p.notifyListeners(qe,null),H.push(qe));return H})()}notifyListeners(p,E){this.localCache[p]=E;const H=this.listeners[p];if(H)for(const J of Array.from(H))J(E)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})(),Bn=1e12;class La{constructor(d){this.auth=d,this.counter=Bn,this._widgets=new Map}render(d,p){const E=this.counter;return this._widgets.set(E,new kr(d,this.auth.name,p||{})),this.counter++,E}reset(d){var p;const E=d||Bn;null===(p=this._widgets.get(E))||void 0===p||p.delete(),this._widgets.delete(E)}getResponse(d){var p;return(null===(p=this._widgets.get(d||Bn))||void 0===p?void 0:p.getResponse())||""}execute(d){var p=this;return(0,g.Z)(function*(){var E;return null===(E=p._widgets.get(d||Bn))||void 0===E||E.execute(),""})()}}class kr{constructor(d,p,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const H="string"==typeof d?document.getElementById(d):d;me(H,"argument-error",{appName:p}),this.container=H,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function pu(_){const d=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<_;E++)d.push(p.charAt(Math.floor(62*Math.random())));return d.join("")}(50);const{callback:d,"expired-callback":p}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const b=ii("rcb"),D=new We(3e4,6e4);class A{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=ai().grecaptcha)||void 0===d||!d.render)}load(d,p=""){return me(function L(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(p),d,"argument-error"),this.shouldResolveImmediately(p)&&Wn(ai().grecaptcha)?Promise.resolve(ai().grecaptcha):new Promise((E,H)=>{const J=ai().setTimeout(()=>{H(ke(d,"network-request-failed"))},D.get());ai()[b]=()=>{ai().clearTimeout(J),delete ai()[b];const ft=ai().grecaptcha;if(!ft||!Wn(ft))return void H(ke(d,"internal-error"));const Kt=ft.render;ft.render=(gn,Ln)=>{const Un=Kt(gn,Ln);return this.counter++,Un},this.hostLanguage=p,E(ft)},ui(`https://www.google.com/recaptcha/api.js??${(0,K.xO)({onload:b,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(J),H(ke(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var p;return!(null===(p=ai().grecaptcha)||void 0===p||!p.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ee{load(d){return(0,g.Z)(function*(){return new La(d)})()}clearedOneInstance(){}}const ue="recaptcha",vt={theme:"light",type:"image"};class ln{constructor(d,p=Object.assign({},vt),E){this.parameters=p,this.type=ue,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=cr(E),this.isInvisible="invisible"===this.parameters.size,me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const H="string"==typeof d?document.getElementById(d):d;me(H,this.auth,"argument-error"),this.container=H,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ee:new A,this.validateStartingState()}verify(){var d=this;return(0,g.Z)(function*(){d.assertNotDestroyed();const p=yield d.render(),E=d.getAssertedRecaptcha();return E.getResponse(p)||new Promise(J=>{const qe=ft=>{ft&&(d.tokenChangeListeners.delete(qe),J(ft))};d.tokenChangeListeners.add(qe),d.isInvisible&&E.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){me(!this.parameters.sitekey,this.auth,"argument-error"),me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return p=>{if(this.tokenChangeListeners.forEach(E=>E(p)),"function"==typeof d)d(p);else if("string"==typeof d){const E=ai()[d];"function"==typeof E&&E(p)}}}assertNotDestroyed(){me(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,g.Z)(function*(){if(yield d.init(),!d.widgetId){let p=d.container;if(!d.isInvisible){const E=document.createElement("div");p.appendChild(E),p=E}d.widgetId=d.getAssertedRecaptcha().render(p,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,g.Z)(function*(){me(ct()&&!Br(),d.auth,"internal-error"),yield function xt(){let _=null;return new Promise(d=>{"complete"!==document.readyState?(_=()=>d(),window.addEventListener("load",_)):d()}).catch(d=>{throw _&&window.removeEventListener("load",_),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const p=yield function Zn(_){return Nr.apply(this,arguments)}(d.auth);me(p,d.auth,"internal-error"),d.parameters.sitekey=p})()}getAssertedRecaptcha(){return me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class pn{constructor(d,p){this.verificationId=d,this.onConfirmation=p}confirm(d){const p=$n._fromVerification(this.verificationId,d);return this.onConfirmation(p)}}function Gr(){return(Gr=(0,g.Z)(function*(_,d,p){const E=cr(_),H=yield ht(E,d,(0,K.m9)(p));return new pn(H,J=>Gs(E,J))})).apply(this,arguments)}function wr(){return(wr=(0,g.Z)(function*(_,d,p){const E=(0,K.m9)(_);yield _s(!1,E,"phone");const H=yield ht(E.auth,d,(0,K.m9)(p));return new pn(H,J=>yl(E,J))})).apply(this,arguments)}function Uo(){return(Uo=(0,g.Z)(function*(_,d,p){const E=(0,K.m9)(_),H=yield ht(E.auth,d,(0,K.m9)(p));return new pn(H,J=>Gl(E,J))})).apply(this,arguments)}function ht(_,d,p){return cs.apply(this,arguments)}function cs(){return cs=(0,g.Z)(function*(_,d,p){var E;const H=yield p.verify();try{let J;if(me("string"==typeof H,_,"argument-error"),me(p.type===ue,_,"argument-error"),J="string"==typeof d?{phoneNumber:d}:d,"session"in J){const qe=J.session;if("phoneNumber"in J)return me("enroll"===qe.type,_,"internal-error"),(yield function yi(_,d){return Ze(_,"POST","/v2/accounts/mfaEnrollment:start",tt(_,d))}(_,{idToken:qe.credential,phoneEnrollmentInfo:{phoneNumber:J.phoneNumber,recaptchaToken:H}})).phoneSessionInfo.sessionInfo;{me("signin"===qe.type,_,"internal-error");const ft=(null===(E=J.multiFactorHint)||void 0===E?void 0:E.uid)||J.multiFactorUid;return me(ft,_,"missing-multi-factor-info"),(yield function El(_,d){return Ze(_,"POST","/v2/accounts/mfaSignIn:start",tt(_,d))}(_,{mfaPendingCredential:qe.credential,mfaEnrollmentId:ft,phoneSignInInfo:{recaptchaToken:H}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:qe}=yield function er(_,d){return Tr.apply(this,arguments)}(_,{phoneNumber:J.phoneNumber,recaptchaToken:H});return qe}}finally{p._reset()}}),cs.apply(this,arguments)}function $a(){return($a=(0,g.Z)(function*(_,d){yield Ro((0,K.m9)(_),d)})).apply(this,arguments)}let Xo=(()=>{class _{constructor(p){this.providerId=_.PROVIDER_ID,this.auth=cr(p)}verifyPhoneNumber(p,E){return ht(this.auth,p,(0,K.m9)(E))}static credential(p,E){return $n._fromVerification(p,E)}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:E,temporaryProof:H}=p;return E&&H?$n._fromTokenResponse(E,H):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Es(_,d){return d?tn(d):(me(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Qo extends xe{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return To(d,this._buildIdpRequest())}_linkToIdToken(d,p){return To(d,this._buildIdpRequest(p))}_getReauthenticationResolver(d){return To(d,this._buildIdpRequest())}_buildIdpRequest(d){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(p.idToken=d),p}}function ks(_){return Hs(_.auth,new Qo(_),_.bypassAuthState)}function gu(_){const{auth:d,user:p}=_;return me(p,d,"internal-error"),ws(p,new Qo(_),_.bypassAuthState)}function Zl(_){return bl.apply(this,arguments)}function bl(){return(bl=(0,g.Z)(function*(_){const{auth:d,user:p}=_;return me(p,d,"internal-error"),Ro(p,new Qo(_),_.bypassAuthState)})).apply(this,arguments)}class Dd{constructor(d,p,E,H,J=!1){this.auth=d,this.resolver=E,this.user=H,this.bypassAuthState=J,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var d=this;return new Promise(function(){var p=(0,g.Z)(function*(E,H){d.pendingPromise={resolve:E,reject:H};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(J){d.reject(J)}});return function(E,H){return p.apply(this,arguments)}}())}onAuthEvent(d){var p=this;return(0,g.Z)(function*(){const{urlResponse:E,sessionId:H,postBody:J,tenantId:qe,error:ft,type:Kt}=d;if(ft)return void p.reject(ft);const gn={auth:p.auth,requestUri:E,sessionId:H,tenantId:qe||void 0,postBody:J||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Kt)(gn))}catch(Ln){p.reject(Ln)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return ks;case"linkViaPopup":case"linkViaRedirect":return Zl;case"reauthViaPopup":case"reauthViaRedirect":return gu;default:we(this.auth,"internal-error")}}resolve(d){Je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ho=new We(2e3,1e4);function Xl(){return(Xl=(0,g.Z)(function*(_,d,p){const E=cr(_);be(_,d,gi);const H=Es(E,p);return new is(E,"signInViaPopup",d,H).executeNotNull()})).apply(this,arguments)}function Po(){return(Po=(0,g.Z)(function*(_,d,p){const E=(0,K.m9)(_);be(E.auth,d,gi);const H=Es(E.auth,p);return new is(E.auth,"reauthViaPopup",d,H,E).executeNotNull()})).apply(this,arguments)}function Sc(){return(Sc=(0,g.Z)(function*(_,d,p){const E=(0,K.m9)(_);be(E.auth,d,gi);const H=Es(E.auth,p);return new is(E.auth,"linkViaPopup",d,H,E).executeNotNull()})).apply(this,arguments)}let is=(()=>{class _ extends Dd{constructor(p,E,H,J,qe){super(p,E,J,qe),this.provider=H,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var p=this;return(0,g.Z)(function*(){const E=yield p.execute();return me(E,p.auth,"internal-error"),E})()}onExecution(){var p=this;return(0,g.Z)(function*(){Je(1===p.filter.length,"Popup operations only handle one event");const E=si();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],E),p.authWindow.associatedEvent=E,p.resolver._originValidation(p.auth).catch(H=>{p.reject(H)}),p.resolver._isIframeWebStorageSupported(p.auth,H=>{H||p.reject(ke(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const p=()=>{var E,H;this.pollId=null!==(H=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==H&&H.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ke(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,ho.get())};p()}}return _.currentPopupAction=null,_})();const wl="pendingRedirect",la=new Map;class gp extends Dd{constructor(d,p,E=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,E),this.eventId=null}execute(){var d=()=>super.execute,p=this;return(0,g.Z)(function*(){let E=la.get(p.auth._key());if(!E){try{const J=(yield function Ac(_,d){return mu.apply(this,arguments)}(p.resolver,p.auth))?yield d().call(p):null;E=()=>Promise.resolve(J)}catch(H){E=()=>Promise.reject(H)}la.set(p.auth._key(),E)}return p.bypassAuthState||la.set(p.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(d){var p=()=>super.onAuthEvent,E=this;return(0,g.Z)(function*(){if("signInViaRedirect"===d.type)return p().call(E,d);if("unknown"!==d.type){if(d.eventId){const H=yield E.auth._redirectUserForId(d.eventId);if(H)return E.user=H,p().call(E,d);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function mu(){return(mu=(0,g.Z)(function*(_,d){const p=Mc(d),E=vu(_);if(!(yield E._isAvailable()))return!1;const H="true"===(yield E._get(p));return yield E._remove(p),H})).apply(this,arguments)}function Cd(_,d){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,g.Z)(function*(_,d){return vu(_)._set(Mc(d),"true")})).apply(this,arguments)}function Dl(_,d){la.set(_._key(),d)}function vu(_){return tn(_._redirectPersistence)}function Mc(_){return Pe(wl,_.config.apiKey,_.name)}function Ql(_,d,p){return function yu(_,d,p){return _u.apply(this,arguments)}(_,d,p)}function _u(){return(_u=(0,g.Z)(function*(_,d,p){const E=cr(_);be(_,d,gi),yield E._initializationPromise;const H=Es(E,p);return yield Cd(H,E),H._openRedirect(E,d,"signInViaRedirect")})).apply(this,arguments)}function Td(_,d,p){return function Sd(_,d,p){return xc.apply(this,arguments)}(_,d,p)}function xc(){return(xc=(0,g.Z)(function*(_,d,p){const E=(0,K.m9)(_);be(E.auth,d,gi),yield E.auth._initializationPromise;const H=Es(E.auth,p);yield Cd(H,E.auth);const J=yield Yi(E);return H._openRedirect(E.auth,d,"reauthViaRedirect",J)})).apply(this,arguments)}function Ad(_,d,p){return function Zh(_,d,p){return Cl.apply(this,arguments)}(_,d,p)}function Cl(){return(Cl=(0,g.Z)(function*(_,d,p){const E=(0,K.m9)(_);be(E.auth,d,gi),yield E.auth._initializationPromise;const H=Es(E.auth,p);yield _s(!1,E,d.providerId),yield Cd(H,E.auth);const J=yield Yi(E);return H._openRedirect(E.auth,d,"linkViaRedirect",J)})).apply(this,arguments)}function Jl(){return(Jl=(0,g.Z)(function*(_,d){return yield cr(_)._initializationPromise,ec(_,d,!1)})).apply(this,arguments)}function ec(_,d){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,g.Z)(function*(_,d,p=!1){const E=cr(_),H=Es(E,d),qe=yield new gp(E,H,p).execute();return qe&&!p&&(delete qe.user._redirectEventId,yield E._persistUserIfCurrent(qe.user),yield E._setRedirectUser(null,d)),qe})).apply(this,arguments)}function Yi(_){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,g.Z)(function*(_){const d=si(`${_.uid}:::`);return _._redirectEventId=d,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),d})).apply(this,arguments)}class tc{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let p=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(d,E)&&(p=!0,this.sendToConsumer(d,E),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Lo(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ba(_);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=d,p=!0)),p}sendToConsumer(d,p){var E;if(d.error&&!ba(d)){const H=(null===(E=d.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";p.onError(ke(this.auth,H))}else p.onAuthEvent(d)}isEventForConsumer(d,p){const E=null===p.eventId||!!d.eventId&&d.eventId===p.eventId;return p.filter.includes(d.type)&&E}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fi(d))}saveEventToCache(d){this.cachedEventUids.add(fi(d)),this.lastProcessedEventTime=Date.now()}}function fi(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(d=>d).join("-")}function ba({type:_,error:d}){return"unknown"===_&&"auth/no-auth-event"===(null==d?void 0:d.code)}function Bi(_){return nc.apply(this,arguments)}function nc(){return(nc=(0,g.Z)(function*(_,d={}){return Ze(_,"GET","/v1/projects",d)})).apply(this,arguments)}const ca=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$o=/^https?/;function wa(){return(wa=(0,g.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:d}=yield Bi(_);for(const p of d)try{if(fo(p))return}catch{}we(_,"unauthorized-domain")})).apply(this,arguments)}function fo(_){const d=je(),{protocol:p,hostname:E}=new URL(d);if(_.startsWith("chrome-extension://")){const qe=new URL(_);return""===qe.hostname&&""===E?"chrome-extension:"===p&&_.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===p&&qe.hostname===E}if(!$o.test(p))return!1;if(ca.test(_))return E===_;const H=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+H+"|"+H+")$","i").test(E)}const Al=new We(3e4,6e4);function Va(){const _=ai().___jsl;if(null!=_&&_.H)for(const d of Object.keys(_.H))if(_.H[d].r=_.H[d].r||[],_.H[d].L=_.H[d].L||[],_.H[d].r=[..._.H[d].L],_.CP)for(let p=0;p<_.CP.length;p++)_.CP[p]=null}let Qs=null;const Iu=new We(5e3,15e3),Eu="__/auth/iframe",Xh="emulator/auth/iframe",il={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ss=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bu(_){const d=_.config;me(d.authDomain,_,"auth-domain-config-required");const p=d.emulator?ae(d,Xh):`https://${_.config.authDomain}/${Eu}`,E={apiKey:d.apiKey,appName:_.name,v:re.SDK_VERSION},H=Ss.get(_.config.apiHost);H&&(E.eid=H);const J=_._getFrameworks();return J.length&&(E.fw=J.join(",")),`${p}?${(0,K.xO)(E).slice(1)}`}function x(){return x=(0,g.Z)(function*(_){const d=yield function Da(_){return Qs=Qs||function Si(_){return new Promise((d,p)=>{var E,H,J;function qe(){Va(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Va(),p(ke(_,"network-request-failed"))},timeout:Al.get()})}if(null!==(H=null===(E=ai().gapi)||void 0===E?void 0:E.iframes)&&void 0!==H&&H.Iframe)d(gapi.iframes.getContext());else{if(null===(J=ai().gapi)||void 0===J||!J.load){const ft=ii("iframefcb");return ai()[ft]=()=>{gapi.load?qe():p(ke(_,"network-request-failed"))},ui(`https://apis.google.com/js/api.js?onload=${ft}`).catch(Kt=>p(Kt))}qe()}}).catch(d=>{throw Qs=null,d})}(_),Qs}(_),p=ai().gapi;return me(p,_,"internal-error"),d.open({where:document.body,url:bu(_),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:il,dontclear:!0},E=>new Promise(function(){var H=(0,g.Z)(function*(J,qe){yield E.restyle({setHideOnLeave:!1});const ft=ke(_,"network-request-failed"),Kt=ai().setTimeout(()=>{qe(ft)},Iu.get());function gn(){ai().clearTimeout(Kt),J(E)}E.ping(gn).then(gn,()=>{qe(ft)})});return function(J,qe){return H.apply(this,arguments)}}()))}),x.apply(this,arguments)}const G={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class bn{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const lr="__/auth/handler",mr="emulator/auth/handler",As=encodeURIComponent("fac");function wo(_,d,p,E,H,J){return po.apply(this,arguments)}function po(){return(po=(0,g.Z)(function*(_,d,p,E,H,J){me(_.config.authDomain,_,"auth-domain-config-required"),me(_.config.apiKey,_,"invalid-api-key");const qe={apiKey:_.config.apiKey,appName:_.name,authType:p,redirectUrl:E,v:re.SDK_VERSION,eventId:H};if(d instanceof gi){d.setDefaultLanguage(_.languageCode),qe.providerId=d.providerId||"",(0,K.xb)(d.getCustomParameters())||(qe.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Ln,Un]of Object.entries(J||{}))qe[Ln]=Un}if(d instanceof Jr){const Ln=d.getScopes().filter(Un=>""!==Un);Ln.length>0&&(qe.scopes=Ln.join(","))}_.tenantId&&(qe.tid=_.tenantId);const ft=qe;for(const Ln of Object.keys(ft))void 0===ft[Ln]&&delete ft[Ln];const Kt=yield _._getAppCheckToken(),gn=Kt?`#${As}=${encodeURIComponent(Kt)}`:"";return`${function Ml({config:_}){return _.emulator?ae(_,mr):`https://${_.authDomain}/${lr}`}(_)}?${(0,K.xO)(ft).slice(1)}${gn}`})).apply(this,arguments)}const Fs="webStorageSupport",Js=class ua{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ls,this._completeRedirectFn=ec,this._overrideRedirectResult=Dl}_openPopup(d,p,E,H){var J=this;return(0,g.Z)(function*(){var qe;Je(null===(qe=J.eventManagers[d._key()])||void 0===qe?void 0:qe.manager,"_initialize() not called before _openPopup()");const ft=yield wo(d,p,E,je(),H);return function un(_,d,p,E=500,H=600){const J=Math.max((window.screen.availHeight-H)/2,0).toString(),qe=Math.max((window.screen.availWidth-E)/2,0).toString();let ft="";const Kt=Object.assign(Object.assign({},G),{width:E.toString(),height:H.toString(),top:J,left:qe}),gn=(0,K.z$)().toLowerCase();p&&(ft=Ye(gn)?"_blank":p),Ae(gn)&&(d=d||"http://localhost",Kt.scrollbars="yes");const Ln=Object.entries(Kt).reduce((Or,[vr,uc])=>`${Or}${vr}=${uc},`,"");if(function Pr(_=(0,K.z$)()){var d;return Dn(_)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(gn)&&"_self"!==ft)return function Fn(_,d){const p=document.createElement("a");p.href=_,p.target=d;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(E)}(d||"",ft),new bn(null);const Un=window.open(d||"",ft,Ln);me(Un,_,"popup-blocked");try{Un.focus()}catch{}return new bn(Un)}(d,ft,si())})()}_openRedirect(d,p,E,H){var J=this;return(0,g.Z)(function*(){return yield J._originValidation(d),function zt(_){ai().location.href=_}(yield wo(d,p,E,je(),H)),new Promise(()=>{})})()}_initialize(d){const p=d._key();if(this.eventManagers[p]){const{manager:H,promise:J}=this.eventManagers[p];return H?Promise.resolve(H):(Je(J,"If manager is not set, promise should be"),J)}const E=this.initAndGetManager(d);return this.eventManagers[p]={promise:E},E.catch(()=>{delete this.eventManagers[p]}),E}initAndGetManager(d){var p=this;return(0,g.Z)(function*(){const E=yield function S(_){return x.apply(this,arguments)}(d),H=new tc(d);return E.register("authEvent",J=>(me(null==J?void 0:J.authEvent,d,"invalid-auth-event"),{status:H.onEvent(J.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[d._key()]={manager:H},p.iframes[d._key()]=E,H})()}_isIframeWebStorageSupported(d,p){this.iframes[d._key()].send(Fs,{type:Fs},H=>{var J;const qe=null===(J=null==H?void 0:H[0])||void 0===J?void 0:J[Fs];void 0!==qe&&p(!!qe),we(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function rl(_){return wa.apply(this,arguments)}(d)),this.originValidationPromises[p]}get _shouldInitProactively(){return Ni()||ne()||Dn()}};class wu{constructor(d){this.factorId=d}_process(d,p,E){switch(p.type){case"enroll":return this._finalizeEnroll(d,p.credential,E);case"signin":return this._finalizeSignIn(d,p.credential);default:return Be("unexpected MultiFactorSessionType")}}}class Jo extends wu{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Jo(d)}_finalizeEnroll(d,p,E){return function Vo(_,d){return Ze(_,"POST","/v2/accounts/mfaEnrollment:finalize",tt(_,d))}(d,{idToken:p,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,p){return function ar(_,d){return Ze(_,"POST","/v2/accounts/mfaSignIn:finalize",tt(_,d))}(d,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let vp=(()=>{class _{constructor(){}static assertion(p){return Jo._fromCredential(p)}}return _.FACTOR_ID="phone",_})();var ja="@firebase/auth";class Du{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var p=this;return(0,g.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const p=this.auth.onIdTokenChanged(E=>{d((null==E?void 0:E.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,p),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const p=this.internalListeners.get(d);p&&(this.internalListeners.delete(d),p(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function xl(){return window}(0,K.Pz)("authIdTokenMaxAge"),function _i(_){(0,re._registerComponent)(new de.wA("auth",(d,{options:p})=>{const E=d.getProvider("app").getImmediate(),H=d.getProvider("heartbeat"),J=d.getProvider("app-check-internal"),{apiKey:qe,authDomain:ft}=E.options;me(qe&&!qe.includes(":"),"invalid-api-key",{appName:E.name});const Kt={apiKey:qe,authDomain:ft,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xr(_)},gn=new Zi(E,H,J,Kt);return function no(_,d){const p=(null==d?void 0:d.persistence)||[],E=(Array.isArray(p)?p:[p]).map(tn);null!=d&&d.errorMap&&_._updateErrorMap(d.errorMap),_._initializeWithPersistence(E,null==d?void 0:d.popupRedirectResolver)}(gn,p),gn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,p,E)=>{d.getProvider("auth-internal").initialize()})),(0,re._registerComponent)(new de.wA("auth-internal",d=>{const p=cr(d.getProvider("auth").getImmediate());return new Du(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,re.registerVersion)(ja,"0.23.2",function Kr(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,re.registerVersion)(ja,"0.23.2","esm2017")}("Browser");function oc(){return oc=(0,g.Z)(function*(_,d,p){var E;const{BuildInfo:H}=xl();Je(d.sessionId,"AuthEvent did not contain a session ID");const J=yield function Yg(_){return nf.apply(this,arguments)}(d.sessionId),qe={};return Dn()?qe.ibi=H.packageName:jt()?qe.apn=H.packageName:we(_,"operation-not-supported-in-this-environment"),H.displayName&&(qe.appDisplayName=H.displayName),qe.sessionId=J,wo(_,p,d.type,void 0,null!==(E=d.eventId)&&void 0!==E?E:void 0,qe)}),oc.apply(this,arguments)}function Ip(){return(Ip=(0,g.Z)(function*(_){const{BuildInfo:d}=xl(),p={};Dn()?p.iosBundleId=d.packageName:jt()?p.androidPackageName=d.packageName:we(_,"operation-not-supported-in-this-environment"),yield Bi(_,p)})).apply(this,arguments)}function tf(){return(tf=(0,g.Z)(function*(_,d,p){const{cordova:E}=xl();let H=()=>{};try{yield new Promise((J,qe)=>{let ft=null;function Kt(){var Un;J();const Or=null===(Un=E.plugins.browsertab)||void 0===Un?void 0:Un.close;"function"==typeof Or&&Or(),"function"==typeof(null==p?void 0:p.close)&&p.close()}function gn(){ft||(ft=window.setTimeout(()=>{qe(ke(_,"redirect-cancelled-by-user"))},2e3))}function Ln(){"visible"===(null==document?void 0:document.visibilityState)&&gn()}d.addPassiveListener(Kt),document.addEventListener("resume",gn,!1),jt()&&document.addEventListener("visibilitychange",Ln,!1),H=()=>{d.removePassiveListener(Kt),document.removeEventListener("resume",gn,!1),document.removeEventListener("visibilitychange",Ln,!1),ft&&window.clearTimeout(ft)}})}finally{H()}})).apply(this,arguments)}function nf(){return(nf=(0,g.Z)(function*(_){const d=function Pc(_){if(Je(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const d=new ArrayBuffer(_.length),p=new Uint8Array(d);for(let E=0;E<_.length;E++)p[E]=_.charCodeAt(E);return p}(_),p=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(p)).map(H=>H.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Tu extends tc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(d)),super.onEvent(d)}initialized(){var d=this;return(0,g.Z)(function*(){yield d.initPromise})()}}function xd(_){return sf.apply(this,arguments)}function sf(){return(sf=(0,g.Z)(function*(_){const d=yield Ha()._get(af(_));return d&&(yield Ha()._remove(af(_))),d})).apply(this,arguments)}function Ep(){const _=[];for(let p=0;p<20;p++){const E=Math.floor(62*Math.random());_.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(E))}return _.join("")}function Ha(){return tn(Zs)}function af(_){return Pe("authEvent",_.config.apiKey,_.name)}function Au(_){if(null==_||!_.includes("?"))return{};const[d,...p]=_.split("?");return(0,K.zd)(p.join("?"))}const wp=class Ls{constructor(){this._redirectPersistence=ls,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ec,this._overrideRedirectResult=Dl}_initialize(d){var p=this;return(0,g.Z)(function*(){const E=d._key();let H=p.eventManagers.get(E);return H||(H=new Tu(d),p.eventManagers.set(E,H),p.attachCallbackListeners(d,H)),H})()}_openPopup(d){we(d,"operation-not-supported-in-this-environment")}_openRedirect(d,p,E,H){var J=this;return(0,g.Z)(function*(){!function qg(_){var d,p,E,H,J,qe,ft,Kt,gn,Ln;const Un=xl();me("function"==typeof(null===(d=null==Un?void 0:Un.universalLinks)||void 0===d?void 0:d.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),me(typeof(null===(p=null==Un?void 0:Un.BuildInfo)||void 0===p?void 0:p.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),me("function"==typeof(null===(J=null===(H=null===(E=null==Un?void 0:Un.cordova)||void 0===E?void 0:E.plugins)||void 0===H?void 0:H.browsertab)||void 0===J?void 0:J.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me("function"==typeof(null===(Kt=null===(ft=null===(qe=null==Un?void 0:Un.cordova)||void 0===qe?void 0:qe.plugins)||void 0===ft?void 0:ft.browsertab)||void 0===Kt?void 0:Kt.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me("function"==typeof(null===(Ln=null===(gn=null==Un?void 0:Un.cordova)||void 0===gn?void 0:gn.InAppBrowser)||void 0===Ln?void 0:Ln.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const qe=yield J._initialize(d);yield qe.initialized(),qe.resetRedirect(),function mp(){la.clear()}(),yield J._originValidation(d);const ft=function Su(_,d,p=null){return{type:d,eventId:p,urlResponse:null,sessionId:Ep(),postBody:null,tenantId:_.tenantId,error:ke(_,"no-auth-event")}}(d,E,H);yield function rf(_,d){return Ha()._set(af(_),d)}(d,ft);const Kt=yield function ic(_,d,p){return oc.apply(this,arguments)}(d,ft,p),gn=yield function ef(_){const{cordova:d}=xl();return new Promise(p=>{d.plugins.browsertab.isAvailable(E=>{let H=null;E?d.plugins.browsertab.openUrl(_):H=d.InAppBrowser.open(_,function zn(_=(0,K.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),p(H)})})}(Kt);return function Wg(_,d,p){return tf.apply(this,arguments)}(d,qe,gn)})()}_isIframeWebStorageSupported(d,p){throw new Error("Method not implemented.")}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Gg(_){return Ip.apply(this,arguments)}(d)),this.originValidationPromises[p]}attachCallbackListeners(d,p){const{universalLinks:E,handleOpenURL:H,BuildInfo:J}=xl(),qe=setTimeout((0,g.Z)(function*(){yield xd(d),p.onEvent(Rd())}),500),ft=function(){var Ln=(0,g.Z)(function*(Un){clearTimeout(qe);const Or=yield xd(d);let vr=null;Or&&null!=Un&&Un.url&&(vr=function ol(_,d){var p,E;const H=function Nc(_){const d=Au(_),p=d.link?decodeURIComponent(d.link):void 0,E=Au(p).link,H=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return Au(H).link||H||E||p||_}(d);if(H.includes("/__/auth/callback")){const J=Au(H),qe=J.firebaseError?function bp(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(J.firebaseError)):null,ft=null===(E=null===(p=null==qe?void 0:qe.code)||void 0===p?void 0:p.split("auth/"))||void 0===E?void 0:E[1],Kt=ft?ke(ft):null;return Kt?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Kt,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:H,postBody:null}}return null}(Or,Un.url)),p.onEvent(vr||Rd())});return function(Or){return Ln.apply(this,arguments)}}();typeof E<"u"&&"function"==typeof E.subscribe&&E.subscribe(null,ft);const Kt=H,gn=`${J.packageName.toLowerCase()}://`;xl().handleOpenURL=function(){var Ln=(0,g.Z)(function*(Un){if(Un.toLowerCase().startsWith(gn)&&ft({url:Un}),"function"==typeof Kt)try{Kt(Un)}catch(Or){console.error(Or)}});return function(Un){return Ln.apply(this,arguments)}}()}};function Rd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ke("no-auth-event")}}function sc(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function ac(_=(0,K.z$)()){return!("file:"!==sc()&&"ionic:"!==sc()&&"capacitor:"!==sc()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function sl(){try{const _=self.localStorage,d=si();if(_)return _.setItem(d,"1"),_.removeItem(d),!function Ru(_=(0,K.z$)()){return function Dp(){return(0,K.w1)()&&11===(null==document?void 0:document.documentMode)}()||function us(_=(0,K.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,K.hl)()}catch{return Od()&&(0,K.hl)()}return!1}function Od(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function da(){return(function lf(){return"http:"===sc()||"https:"===sc()}()||(0,K.ru)()||ac())&&!function za(){return(0,K.b$)()||(0,K.UG)()}()&&sl()&&!Od()}function cf(){return ac()&&typeof document<"u"}function Ou(){return(Ou=(0,g.Z)(function*(){return!!cf()&&new Promise(_=>{const d=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),_(!0)})})})).apply(this,arguments)}const or={LOCAL:"local",NONE:"none",SESSION:"session"},Pu=me,Nu="persistence";function Pd(_){return ds.apply(this,arguments)}function ds(){return(ds=(0,g.Z)(function*(_){yield _._initializationPromise;const d=uf(),p=Pe(Nu,_.config.apiKey,_.name);d&&d.setItem(p,_._getPersistence())})).apply(this,arguments)}function uf(){var _;try{return(null===(_=function Kg(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const df=me;class mo{constructor(){this.browserResolver=tn(Js),this.cordovaResolver=tn(wp),this.underlyingResolver=null,this._redirectPersistence=ls,this._completeRedirectFn=ec,this._overrideRedirectResult=Dl}_initialize(d){var p=this;return(0,g.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,p,E,H){var J=this;return(0,g.Z)(function*(){return yield J.selectUnderlyingResolver(),J.assertedUnderlyingResolver._openPopup(d,p,E,H)})()}_openRedirect(d,p,E,H){var J=this;return(0,g.Z)(function*(){return yield J.selectUnderlyingResolver(),J.assertedUnderlyingResolver._openRedirect(d,p,E,H)})()}_isIframeWebStorageSupported(d,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,p)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return cf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return df(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,g.Z)(function*(){if(d.underlyingResolver)return;const p=yield function $c(){return Ou.apply(this,arguments)}();d.underlyingResolver=p?d.cordovaResolver:d.browserResolver})()}}function Ca(_){return _.unwrap()}function hf(_){return Nd(_)}function Nd(_){const{_tokenResponse:d}=_ instanceof K.ZR?_.customData:_;if(!d)return null;if(!(_ instanceof K.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return Xo.credentialFromResult(_);const p=d.providerId;if(!p||p===Ne.PASSWORD)return null;let E;switch(p){case Ne.GOOGLE:E=_o;break;case Ne.FACEBOOK:E=vs;break;case Ne.GITHUB:E=pr;break;case Ne.TWITTER:E=os;break;default:const{oauthIdToken:H,oauthAccessToken:J,oauthTokenSecret:qe,pendingToken:ft,nonce:Kt}=d;return J||qe||H||ft?ft?p.startsWith("saml.")?Xi._create(p,ft):on._fromParams({providerId:p,signInMethod:p,pendingToken:ft,idToken:H,accessToken:J}):new ro(p).credential({idToken:H,accessToken:J,rawNonce:Kt}):null}return _ instanceof K.ZR?E.credentialFromError(_):E.credentialFromResult(_)}function es(_,d){return d.catch(p=>{throw p instanceof K.ZR&&function lc(_,d){var p;const E=null===(p=d.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===(null==d?void 0:d.code))d.resolver=new Vc(_,function vi(_,d){var p;const E=(0,K.m9)(_),H=d;return me(d.customData.operationType,E,"argument-error"),me(null===(p=H.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,E,"argument-error"),Ur._fromError(E,H)}(_,d));else if(E){const H=Nd(d),J=d;H&&(J.credential=H,J.tenantId=E.tenantId||void 0,J.email=E.email||void 0,J.phoneNumber=E.phoneNumber||void 0)}}(_,p),p}).then(p=>{const H=p.user;return{operationType:p.operationType,credential:hf(p),additionalUserInfo:F(p),user:al.getOrCreate(H)}})}function ku(_,d){return kd.apply(this,arguments)}function kd(){return(kd=(0,g.Z)(function*(_,d){const p=yield d;return{verificationId:p.verificationId,confirm:E=>es(_,p.confirm(E))}})).apply(this,arguments)}class Vc{constructor(d,p){this.resolver=p,this.auth=function Ol(_){return _.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return es(Ca(this.auth),this.resolver.resolveSignIn(d))}}class al{constructor(d){this._delegate=d,this.multiFactor=function Il(_){const d=(0,K.m9)(_);return Ps.has(d)||Ps.set(d,ko._fromUser(d)),Ps.get(d)}(d)}static getOrCreate(d){return al.USER_MAP.has(d)||al.USER_MAP.set(d,new al(d)),al.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var p=this;return(0,g.Z)(function*(){return es(p.auth,yl(p._delegate,d))})()}linkWithPhoneNumber(d,p){var E=this;return(0,g.Z)(function*(){return ku(E.auth,function uo(_,d,p){return wr.apply(this,arguments)}(E._delegate,d,p))})()}linkWithPopup(d){var p=this;return(0,g.Z)(function*(){return es(p.auth,function Tc(_,d,p){return Sc.apply(this,arguments)}(p._delegate,d,mo))})()}linkWithRedirect(d){var p=this;return(0,g.Z)(function*(){return yield Pd(cr(p.auth)),Ad(p._delegate,d,mo)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var p=this;return(0,g.Z)(function*(){return es(p.auth,Gl(p._delegate,d))})()}reauthenticateWithPhoneNumber(d,p){return ku(this.auth,function Ti(_,d,p){return Uo.apply(this,arguments)}(this._delegate,d,p))}reauthenticateWithPopup(d){return es(this.auth,function Kh(_,d,p){return Po.apply(this,arguments)}(this._delegate,d,mo))}reauthenticateWithRedirect(d){var p=this;return(0,g.Z)(function*(){return yield Pd(cr(p.auth)),Td(p._delegate,d,mo)})()}sendEmailVerification(d){return function ia(_,d){return oa.apply(this,arguments)}(this._delegate,d)}unlink(d){var p=this;return(0,g.Z)(function*(){return yield function Yo(_,d){return qi.apply(this,arguments)}(p._delegate,d),p})()}updateEmail(d){return function Qa(_,d){return _l((0,K.m9)(_),d,null)}(this._delegate,d)}updatePassword(d){return function Is(_,d){return _l((0,K.m9)(_),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function bo(_,d){return $a.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function Za(_,d){return Xa.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,p){return function sa(_,d,p){return Ks.apply(this,arguments)}(this._delegate,d,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}al.USER_MAP=new WeakMap;const Fu=me;let Ki=(()=>{class _{constructor(p,E){if(this.app=p,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:H}=p.options;Fu(H,"invalid-api-key",{appName:p.name}),Fu(H,"invalid-api-key",{appName:p.name});const J=typeof window<"u"?mo:void 0;this._delegate=E.initialize({options:{persistence:Fd(H,p.name),popupRedirectResolver:J}}),this._delegate._updateErrorMap($e),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?al.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,E){!function Hi(_,d,p){const E=cr(_);me(E._canInitEmulator,E,"emulator-config-failed"),me(/^https?:\/\//.test(d),E,"invalid-emulator-scheme");const H=!(null==p||!p.disableWarnings),J=Lr(d),{host:qe,port:ft}=function Q(_){const d=Lr(_),p=/(\/\/)?([^?#/]+)/.exec(_.substr(d.length));if(!p)return{host:"",port:null};const E=p[2].split("@").pop()||"",H=/^(\[[^\]]+\])(:|$)/.exec(E);if(H){const J=H[1];return{host:J,port:W(E.substr(J.length+1))}}{const[J,qe]=E.split(":");return{host:J,port:W(qe)}}}(d);E.config.emulator={url:`${J}//${qe}${null===ft?"":`:${ft}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:qe,port:ft,protocol:J.replace(":",""),options:Object.freeze({disableWarnings:H})}),H||function ye(){function _(){const d=document.createElement("p"),p=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,p,E)}applyActionCode(p){return function hn(_,d){return vn.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return tr(this._delegate,p)}confirmPasswordReset(p,E){return function se(_,d,p){return Ct.apply(this,arguments)}(this._delegate,p,E)}createUserWithEmailAndPassword(p,E){var H=this;return(0,g.Z)(function*(){return es(H._delegate,function Oo(_,d,p){return as.apply(this,arguments)}(H._delegate,p,E))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function ga(_,d){return Ys.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function Qi(_,d){const p=Mo.parseLink(d);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}(0,p)}getRedirectResult(){var p=this;return(0,g.Z)(function*(){Fu(da(),p._delegate,"operation-not-supported-in-this-environment");const E=yield function Ba(_,d){return Jl.apply(this,arguments)}(p._delegate,mo);return E?es(p._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function Mu(_,d){cr(_)._logFramework(d)}(this._delegate,p)}onAuthStateChanged(p,E,H){const{next:J,error:qe,complete:ft}=cc(p,E,H);return this._delegate.onAuthStateChanged(J,qe,ft)}onIdTokenChanged(p,E,H){const{next:J,error:qe,complete:ft}=cc(p,E,H);return this._delegate.onIdTokenChanged(J,qe,ft)}sendSignInLinkToEmail(p,E){return function Fi(_,d,p){return Zo.apply(this,arguments)}(this._delegate,p,E)}sendPasswordResetEmail(p,E){return function I(_,d,p){return k.apply(this,arguments)}(this._delegate,p,E||void 0)}setPersistence(p){var E=this;return(0,g.Z)(function*(){let H;switch(function Cp(_,d){Pu(Object.values(or).includes(d),_,"invalid-persistence-type"),(0,K.b$)()?Pu(d!==or.SESSION,_,"unsupported-persistence-type"):(0,K.UG)()?Pu(d===or.NONE,_,"unsupported-persistence-type"):Od()?Pu(d===or.NONE||d===or.LOCAL&&(0,K.hl)(),_,"unsupported-persistence-type"):Pu(d===or.NONE||sl(),_,"unsupported-persistence-type")}(E._delegate,p),p){case or.SESSION:H=ls;break;case or.LOCAL:H=(yield tn(Ia)._isAvailable())?Ia:Zs;break;case or.NONE:H=On;break;default:return we("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(H)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return es(this._delegate,function qo(_){return ei.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return es(this._delegate,Gs(this._delegate,p))}signInWithCustomToken(p){return es(this._delegate,function ie(_,d){return j.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,E){return es(this._delegate,function Ko(_,d,p){return Gs((0,K.m9)(_),ms.credential(d,p))}(this._delegate,p,E))}signInWithEmailLink(p,E){return es(this._delegate,function Ji(_,d,p){return ka.apply(this,arguments)}(this._delegate,p,E))}signInWithPhoneNumber(p,E){return ku(this._delegate,function Vn(_,d,p){return Gr.apply(this,arguments)}(this._delegate,p,E))}signInWithPopup(p){var E=this;return(0,g.Z)(function*(){return Fu(da(),E._delegate,"operation-not-supported-in-this-environment"),es(E._delegate,function nl(_,d,p){return Xl.apply(this,arguments)}(E._delegate,p,mo))})()}signInWithRedirect(p){var E=this;return(0,g.Z)(function*(){return Fu(da(),E._delegate,"operation-not-supported-in-this-environment"),yield Pd(E._delegate),Ql(E._delegate,p,mo)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function ki(_,d){return mi.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=or,_})();function cc(_,d,p){let E=_;"function"!=typeof _&&({next:E,error:d,complete:p}=_);const H=E;return{next:qe=>H(qe&&al.getOrCreate(qe)),error:d,complete:p}}function Fd(_,d){const p=function Bc(_,d){const p=uf();if(!p)return[];const E=Pe(Nu,_,d);switch(p.getItem(E)){case or.NONE:return[On];case or.LOCAL:return[Ia,ls];case or.SESSION:return[ls];default:return[]}}(_,d);if(typeof self<"u"&&!p.includes(Ia)&&p.push(Ia),typeof window<"u")for(const E of[Zs,ls])p.includes(E)||p.push(E);return p.includes(On)||p.push(On),p}class Pl{constructor(){this.providerId="phone",this._delegate=new Xo(Ca(m.Z.auth()))}static credential(d,p){return Xo.credential(d,p)}verifyPhoneNumber(d,p){return this._delegate.verifyPhoneNumber(d,p)}unwrap(){return this._delegate}}Pl.PHONE_SIGN_IN_METHOD=Xo.PHONE_SIGN_IN_METHOD,Pl.PROVIDER_ID=Xo.PROVIDER_ID;const Zg=me;class Lu{constructor(d,p,E=m.Z.app()){var H;Zg(null===(H=E.options)||void 0===H?void 0:H.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new ln(d,p,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ff(_){_.INTERNAL.registerComponent(new de.wA("auth-compat",d=>{const p=d.getProvider("app-compat").getImmediate(),E=d.getProvider("auth");return new Ki(p,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ms,FacebookAuthProvider:vs,GithubAuthProvider:pr,GoogleAuthProvider:_o,OAuthProvider:ro,SAMLAuthProvider:bs,PhoneAuthProvider:Pl,PhoneMultiFactorGenerator:vp,RecaptchaVerifier:Lu,TwitterAuthProvider:os,Auth:Ki,AuthCredential:xe,Error:K.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.4.2")}(m.Z)},95:(Jt,nt,N)=>{"use strict";N.d(nt,{Fj:()=>Qe,NI:()=>xe,u:()=>Vr,cw:()=>dn,sg:()=>on,Fd:()=>Xi,qQ:()=>bs,Cf:()=>Le,JU:()=>$e,a5:()=>Nn,JJ:()=>Qt,JL:()=>kn,UX:()=>Ws,Q7:()=>Wr,kI:()=>me,_Y:()=>at});var g=N(5879),m=N(6814),K=N(2459),re=N(5592),Se=N(7453),Te=N(4829),de=N(4564),He=N(8251),Ne=N(7400),he=N(2714),Me=N(7398);let Ee=(()=>{var z;class P{constructor(j,fe){this._renderer=j,this._elementRef=fe,this.onChange=Vt=>{},this.onTouched=()=>{}}setProperty(j,fe){this._renderer.setProperty(this._elementRef.nativeElement,j,fe)}registerOnTouched(j){this.onTouched=j}registerOnChange(j){this.onChange=j}setDisabledState(j){this.setProperty("disabled",j)}}return(z=P).\u0275fac=function(j){return new(j||z)(g.Y36(g.Qsj),g.Y36(g.SBq))},z.\u0275dir=g.lG2({type:z}),P})(),Re=(()=>{var z;class P extends Ee{}return(z=P).\u0275fac=function(){let ie;return function(fe){return(ie||(ie=g.n5z(z)))(fe||z)}}(),z.\u0275dir=g.lG2({type:z,features:[g.qOj]}),P})();const $e=new g.OlP("NgValueAccessor"),_e={provide:$e,useExisting:(0,g.Gpc)(()=>Qe),multi:!0},ut=new g.OlP("CompositionEventMode");let Qe=(()=>{var z;class P extends Ee{constructor(j,fe,Vt){super(j,fe),this._compositionMode=Vt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function et(){const z=(0,m.q)()?(0,m.q)().getUserAgent():"";return/android (\d+)/.test(z.toLowerCase())}())}writeValue(j){this.setProperty("value",null==j?"":j)}_handleInput(j){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(j)}_compositionStart(){this._composing=!0}_compositionEnd(j){this._composing=!1,this._compositionMode&&this.onChange(j)}}return(z=P).\u0275fac=function(j){return new(j||z)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(ut,8))},z.\u0275dir=g.lG2({type:z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(j,fe){1&j&&g.NdJ("input",function(y){return fe._handleInput(y.target.value)})("blur",function(){return fe.onTouched()})("compositionstart",function(){return fe._compositionStart()})("compositionend",function(y){return fe._compositionEnd(y.target.value)})},features:[g._Bn([_e]),g.qOj]}),P})();function we(z){return null==z||("string"==typeof z||Array.isArray(z))&&0===z.length}function ke(z){return null!=z&&"number"==typeof z.length}const Le=new g.OlP("NgValidators"),be=new g.OlP("NgAsyncValidators"),Z=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class me{static min(P){return Be(P)}static max(P){return Je(P)}static required(P){return je(P)}static requiredTrue(P){return function ct(z){return!0===z.value?null:{required:!0}}(P)}static email(P){return function Pt(z){return we(z.value)||Z.test(z.value)?null:{email:!0}}(P)}static minLength(P){return function Tt(z){return P=>we(P.value)||!ke(P.value)?null:P.value.length<z?{minlength:{requiredLength:z,actualLength:P.value.length}}:null}(P)}static maxLength(P){return function Lt(z){return P=>ke(P.value)&&P.value.length>z?{maxlength:{requiredLength:z,actualLength:P.value.length}}:null}(P)}static pattern(P){return function We(z){if(!z)return ae;let P,ie;return"string"==typeof z?(ie="","^"!==z.charAt(0)&&(ie+="^"),ie+=z,"$"!==z.charAt(z.length-1)&&(ie+="$"),P=new RegExp(ie)):(ie=z.toString(),P=z),j=>{if(we(j.value))return null;const fe=j.value;return P.test(fe)?null:{pattern:{requiredPattern:ie,actualValue:fe}}}}(P)}static nullValidator(P){return null}static compose(P){return kt(P)}static composeAsync(P){return pe(P)}}function Be(z){return P=>{if(we(P.value)||we(z))return null;const ie=parseFloat(P.value);return!isNaN(ie)&&ie<z?{min:{min:z,actual:P.value}}:null}}function Je(z){return P=>{if(we(P.value)||we(z))return null;const ie=parseFloat(P.value);return!isNaN(ie)&&ie>z?{max:{max:z,actual:P.value}}:null}}function je(z){return we(z.value)?{required:!0}:null}function ae(z){return null}function ge(z){return null!=z}function Oe(z){return(0,g.QGY)(z)?(0,K.D)(z):z}function ze(z){let P={};return z.forEach(ie=>{P=null!=ie?{...P,...ie}:P}),0===Object.keys(P).length?null:P}function tt(z,P){return P.map(ie=>ie(z))}function Nt(z){return z.map(P=>function Ze(z){return!z.validate}(P)?P:ie=>P.validate(ie))}function kt(z){if(!z)return null;const P=z.filter(ge);return 0==P.length?null:function(ie){return ze(tt(ie,P))}}function It(z){return null!=z?kt(Nt(z)):null}function pe(z){if(!z)return null;const P=z.filter(ge);return 0==P.length?null:function(ie){return function oe(...z){const P=(0,de.jO)(z),{args:ie,keys:j}=(0,Se.D)(z),fe=new re.y(Vt=>{const{length:y}=ie;if(!y)return void Vt.complete();const $=new Array(y);let I=y,k=y;for(let se=0;se<y;se++){let Ct=!1;(0,Te.Xf)(ie[se]).subscribe((0,He.x)(Vt,hn=>{Ct||(Ct=!0,k--),$[se]=hn},()=>I--,void 0,()=>{(!I||!Ct)&&(k||Vt.next(j?(0,he.n)(j,$):$),Vt.complete())}))}});return P?fe.pipe((0,Ne.Z)(P)):fe}(tt(ie,P).map(Oe)).pipe((0,Me.U)(ze))}}function dt(z){return null!=z?pe(Nt(z)):null}function mt(z,P){return null===z?[P]:Array.isArray(z)?[...z,P]:[z,P]}function St(z){return z._rawValidators}function Zt(z){return z._rawAsyncValidators}function In(z){return z?Array.isArray(z)?z:[z]:[]}function qt(z,P){return Array.isArray(z)?z.includes(P):z===P}function Pn(z,P){const ie=In(P);return In(z).forEach(fe=>{qt(ie,fe)||ie.push(fe)}),ie}function Tn(z,P){return In(P).filter(ie=>!qt(z,ie))}class En{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(P){this._rawValidators=P||[],this._composedValidatorFn=It(this._rawValidators)}_setAsyncValidators(P){this._rawAsyncValidators=P||[],this._composedAsyncValidatorFn=dt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(P){this._onDestroyCallbacks.push(P)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(P=>P()),this._onDestroyCallbacks=[]}reset(P=void 0){this.control&&this.control.reset(P)}hasError(P,ie){return!!this.control&&this.control.hasError(P,ie)}getError(P,ie){return this.control?this.control.getError(P,ie):null}}class yn extends En{get formDirective(){return null}get path(){return null}}class Nn extends En{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Zr{constructor(P){this._cd=P}get isTouched(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.touched)}get isUntouched(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.untouched)}get isPristine(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.pristine)}get isDirty(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.dirty)}get isValid(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.valid)}get isInvalid(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.invalid)}get isPending(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.pending)}get isSubmitted(){var P;return!(null===(P=this._cd)||void 0===P||!P.submitted)}}let Qt=(()=>{var z;class P extends Zr{constructor(j){super(j)}}return(z=P).\u0275fac=function(j){return new(j||z)(g.Y36(Nn,2))},z.\u0275dir=g.lG2({type:z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(j,fe){2&j&&g.ekj("ng-untouched",fe.isUntouched)("ng-touched",fe.isTouched)("ng-pristine",fe.isPristine)("ng-dirty",fe.isDirty)("ng-valid",fe.isValid)("ng-invalid",fe.isInvalid)("ng-pending",fe.isPending)},features:[g.qOj]}),P})(),kn=(()=>{var z;class P extends Zr{constructor(j){super(j)}}return(z=P).\u0275fac=function(j){return new(j||z)(g.Y36(yn,10))},z.\u0275dir=g.lG2({type:z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(j,fe){2&j&&g.ekj("ng-untouched",fe.isUntouched)("ng-touched",fe.isTouched)("ng-pristine",fe.isPristine)("ng-dirty",fe.isDirty)("ng-valid",fe.isValid)("ng-invalid",fe.isInvalid)("ng-pending",fe.isPending)("ng-submitted",fe.isSubmitted)},features:[g.qOj]}),P})();const Yt="VALID",tn="INVALID",mn="PENDING",On="DISABLED";function Pe(z){return(ne(z)?z.validators:z)||null}function X(z,P){return(ne(P)?P.asyncValidators:z)||null}function ne(z){return null!=z&&!Array.isArray(z)&&"object"==typeof z}class jt{constructor(P,ie){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(P),this._assignAsyncValidators(ie)}get validator(){return this._composedValidatorFn}set validator(P){this._rawValidators=this._composedValidatorFn=P}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(P){this._rawAsyncValidators=this._composedAsyncValidatorFn=P}get parent(){return this._parent}get valid(){return this.status===Yt}get invalid(){return this.status===tn}get pending(){return this.status==mn}get disabled(){return this.status===On}get enabled(){return this.status!==On}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(P){this._assignValidators(P)}setAsyncValidators(P){this._assignAsyncValidators(P)}addValidators(P){this.setValidators(Pn(P,this._rawValidators))}addAsyncValidators(P){this.setAsyncValidators(Pn(P,this._rawAsyncValidators))}removeValidators(P){this.setValidators(Tn(P,this._rawValidators))}removeAsyncValidators(P){this.setAsyncValidators(Tn(P,this._rawAsyncValidators))}hasValidator(P){return qt(this._rawValidators,P)}hasAsyncValidator(P){return qt(this._rawAsyncValidators,P)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(P={}){this.touched=!0,this._parent&&!P.onlySelf&&this._parent.markAsTouched(P)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(P=>P.markAllAsTouched())}markAsUntouched(P={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(ie=>{ie.markAsUntouched({onlySelf:!0})}),this._parent&&!P.onlySelf&&this._parent._updateTouched(P)}markAsDirty(P={}){this.pristine=!1,this._parent&&!P.onlySelf&&this._parent.markAsDirty(P)}markAsPristine(P={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(ie=>{ie.markAsPristine({onlySelf:!0})}),this._parent&&!P.onlySelf&&this._parent._updatePristine(P)}markAsPending(P={}){this.status=mn,!1!==P.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!P.onlySelf&&this._parent.markAsPending(P)}disable(P={}){const ie=this._parentMarkedDirty(P.onlySelf);this.status=On,this.errors=null,this._forEachChild(j=>{j.disable({...P,onlySelf:!0})}),this._updateValue(),!1!==P.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...P,skipPristineCheck:ie}),this._onDisabledChange.forEach(j=>j(!0))}enable(P={}){const ie=this._parentMarkedDirty(P.onlySelf);this.status=Yt,this._forEachChild(j=>{j.enable({...P,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:P.emitEvent}),this._updateAncestors({...P,skipPristineCheck:ie}),this._onDisabledChange.forEach(j=>j(!1))}_updateAncestors(P){this._parent&&!P.onlySelf&&(this._parent.updateValueAndValidity(P),P.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(P){this._parent=P}getRawValue(){return this.value}updateValueAndValidity(P={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yt||this.status===mn)&&this._runAsyncValidator(P.emitEvent)),!1!==P.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!P.onlySelf&&this._parent.updateValueAndValidity(P)}_updateTreeValidity(P={emitEvent:!0}){this._forEachChild(ie=>ie._updateTreeValidity(P)),this.updateValueAndValidity({onlySelf:!0,emitEvent:P.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?On:Yt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(P){if(this.asyncValidator){this.status=mn,this._hasOwnPendingAsyncValidator=!0;const ie=Oe(this.asyncValidator(this));this._asyncValidationSubscription=ie.subscribe(j=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(j,{emitEvent:P})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(P,ie={}){this.errors=P,this._updateControlsErrors(!1!==ie.emitEvent)}get(P){let ie=P;return null==ie||(Array.isArray(ie)||(ie=ie.split(".")),0===ie.length)?null:ie.reduce((j,fe)=>j&&j._find(fe),this)}getError(P,ie){const j=ie?this.get(ie):this;return j&&j.errors?j.errors[P]:null}hasError(P,ie){return!!this.getError(P,ie)}get root(){let P=this;for(;P._parent;)P=P._parent;return P}_updateControlsErrors(P){this.status=this._calculateStatus(),P&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(P)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?On:this.errors?tn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mn)?mn:this._anyControlsHaveStatus(tn)?tn:Yt}_anyControlsHaveStatus(P){return this._anyControls(ie=>ie.status===P)}_anyControlsDirty(){return this._anyControls(P=>P.dirty)}_anyControlsTouched(){return this._anyControls(P=>P.touched)}_updatePristine(P={}){this.pristine=!this._anyControlsDirty(),this._parent&&!P.onlySelf&&this._parent._updatePristine(P)}_updateTouched(P={}){this.touched=this._anyControlsTouched(),this._parent&&!P.onlySelf&&this._parent._updateTouched(P)}_registerOnCollectionChange(P){this._onCollectionChange=P}_setUpdateStrategy(P){ne(P)&&null!=P.updateOn&&(this._updateOn=P.updateOn)}_parentMarkedDirty(P){return!P&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(P){return null}_assignValidators(P){this._rawValidators=Array.isArray(P)?P.slice():P,this._composedValidatorFn=function te(z){return Array.isArray(z)?It(z):z||null}(this._rawValidators)}_assignAsyncValidators(P){this._rawAsyncValidators=Array.isArray(P)?P.slice():P,this._composedAsyncValidatorFn=function Ae(z){return Array.isArray(z)?dt(z):z||null}(this._rawAsyncValidators)}}class dn extends jt{constructor(P,ie,j){super(Pe(ie),X(j,ie)),this.controls=P,this._initObservables(),this._setUpdateStrategy(ie),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(P,ie){return this.controls[P]?this.controls[P]:(this.controls[P]=ie,ie.setParent(this),ie._registerOnCollectionChange(this._onCollectionChange),ie)}addControl(P,ie,j={}){this.registerControl(P,ie),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}removeControl(P,ie={}){this.controls[P]&&this.controls[P]._registerOnCollectionChange(()=>{}),delete this.controls[P],this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}setControl(P,ie,j={}){this.controls[P]&&this.controls[P]._registerOnCollectionChange(()=>{}),delete this.controls[P],ie&&this.registerControl(P,ie),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}contains(P){return this.controls.hasOwnProperty(P)&&this.controls[P].enabled}setValue(P,ie={}){(function _t(z,P,ie){z._forEachChild((j,fe)=>{if(void 0===ie[fe])throw new g.vHH(1002,"")})})(this,0,P),Object.keys(P).forEach(j=>{(function Ye(z,P,ie){const j=z.controls;if(!(P?Object.keys(j):j).length)throw new g.vHH(1e3,"");if(!j[ie])throw new g.vHH(1001,"")})(this,!0,j),this.controls[j].setValue(P[j],{onlySelf:!0,emitEvent:ie.emitEvent})}),this.updateValueAndValidity(ie)}patchValue(P,ie={}){null!=P&&(Object.keys(P).forEach(j=>{const fe=this.controls[j];fe&&fe.patchValue(P[j],{onlySelf:!0,emitEvent:ie.emitEvent})}),this.updateValueAndValidity(ie))}reset(P={},ie={}){this._forEachChild((j,fe)=>{j.reset(P[fe],{onlySelf:!0,emitEvent:ie.emitEvent})}),this._updatePristine(ie),this._updateTouched(ie),this.updateValueAndValidity(ie)}getRawValue(){return this._reduceChildren({},(P,ie,j)=>(P[j]=ie.getRawValue(),P))}_syncPendingControls(){let P=this._reduceChildren(!1,(ie,j)=>!!j._syncPendingControls()||ie);return P&&this.updateValueAndValidity({onlySelf:!0}),P}_forEachChild(P){Object.keys(this.controls).forEach(ie=>{const j=this.controls[ie];j&&P(j,ie)})}_setUpControls(){this._forEachChild(P=>{P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(P){for(const[ie,j]of Object.entries(this.controls))if(this.contains(ie)&&P(j))return!0;return!1}_reduceValue(){return this._reduceChildren({},(ie,j,fe)=>((j.enabled||this.disabled)&&(ie[fe]=j.value),ie))}_reduceChildren(P,ie){let j=P;return this._forEachChild((fe,Vt)=>{j=ie(j,fe,Vt)}),j}_allControlsDisabled(){for(const P of Object.keys(this.controls))if(this.controls[P].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(P){return this.controls.hasOwnProperty(P)?this.controls[P]:null}}const Dr=new g.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ni}),Ni="always";function xr(z,P,ie=Ni){var j,fe;ri(z,P),P.valueAccessor.writeValue(z.value),(z.disabled||"always"===ie)&&(null===(j=(fe=P.valueAccessor).setDisabledState)||void 0===j||j.call(fe,z.disabled)),function xi(z,P){P.valueAccessor.registerOnChange(ie=>{z._pendingValue=ie,z._pendingChange=!0,z._pendingDirty=!0,"change"===z.updateOn&&to(z,P)})}(z,P),function ui(z,P){const ie=(j,fe)=>{P.valueAccessor.writeValue(j),fe&&P.viewToModelUpdate(j)};z.registerOnChange(ie),P._registerOnDestroy(()=>{z._unregisterOnChange(ie)})}(z,P),function Ui(z,P){P.valueAccessor.registerOnTouched(()=>{z._pendingTouched=!0,"blur"===z.updateOn&&z._pendingChange&&to(z,P),"submit"!==z.updateOn&&z.markAsTouched()})}(z,P),function bi(z,P){if(P.valueAccessor.setDisabledState){const ie=j=>{P.valueAccessor.setDisabledState(j)};z.registerOnDisabledChange(ie),P._registerOnDestroy(()=>{z._unregisterOnDisabledChange(ie)})}}(z,P)}function Zn(z,P,ie=!0){const j=()=>{};P.valueAccessor&&(P.valueAccessor.registerOnChange(j),P.valueAccessor.registerOnTouched(j)),Wn(z,P),z&&(P._invokeOnDestroyCallbacks(),z._registerOnCollectionChange(()=>{}))}function Nr(z,P){z.forEach(ie=>{ie.registerOnValidatorChange&&ie.registerOnValidatorChange(P)})}function ri(z,P){const ie=St(z);null!==P.validator?z.setValidators(mt(ie,P.validator)):"function"==typeof ie&&z.setValidators([ie]);const j=Zt(z);null!==P.asyncValidator?z.setAsyncValidators(mt(j,P.asyncValidator)):"function"==typeof j&&z.setAsyncValidators([j]);const fe=()=>z.updateValueAndValidity();Nr(P._rawValidators,fe),Nr(P._rawAsyncValidators,fe)}function Wn(z,P){let ie=!1;if(null!==z){if(null!==P.validator){const fe=St(z);if(Array.isArray(fe)&&fe.length>0){const Vt=fe.filter(y=>y!==P.validator);Vt.length!==fe.length&&(ie=!0,z.setValidators(Vt))}}if(null!==P.asyncValidator){const fe=Zt(z);if(Array.isArray(fe)&&fe.length>0){const Vt=fe.filter(y=>y!==P.asyncValidator);Vt.length!==fe.length&&(ie=!0,z.setAsyncValidators(Vt))}}}const j=()=>{};return Nr(P._rawValidators,j),Nr(P._rawAsyncValidators,j),ie}function to(z,P){z._pendingDirty&&z.markAsDirty(),z.setValue(z._pendingValue,{emitModelToViewChange:!1}),P.viewToModelUpdate(z._pendingValue),z._pendingChange=!1}function W(z,P){const ie=z.indexOf(P);ie>-1&&z.splice(ie,1)}function ye(z){return"object"==typeof z&&null!==z&&2===Object.keys(z).length&&"value"in z&&"disabled"in z}const xe=class extends jt{constructor(P=null,ie,j){super(Pe(ie),X(j,ie)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(P),this._setUpdateStrategy(ie),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ne(ie)&&(ie.nonNullable||ie.initialValueIsDefault)&&(this.defaultValue=ye(P)?P.value:P)}setValue(P,ie={}){this.value=this._pendingValue=P,this._onChange.length&&!1!==ie.emitModelToViewChange&&this._onChange.forEach(j=>j(this.value,!1!==ie.emitViewToModelChange)),this.updateValueAndValidity(ie)}patchValue(P,ie={}){this.setValue(P,ie)}reset(P=this.defaultValue,ie={}){this._applyFormState(P),this.markAsPristine(ie),this.markAsUntouched(ie),this.setValue(this.value,ie),this._pendingChange=!1}_updateValue(){}_anyControls(P){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(P){this._onChange.push(P)}_unregisterOnChange(P){W(this._onChange,P)}registerOnDisabledChange(P){this._onDisabledChange.push(P)}_unregisterOnDisabledChange(P){W(this._onDisabledChange,P)}_forEachChild(P){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(P){ye(P)?(this.value=this._pendingValue=P.value,P.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=P}};let at=(()=>{var z;class P{}return(z=P).\u0275fac=function(j){return new(j||z)},z.\u0275dir=g.lG2({type:z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),P})(),Hn=(()=>{var z;class P{}return(z=P).\u0275fac=function(j){return new(j||z)},z.\u0275mod=g.oAB({type:z}),z.\u0275inj=g.cJS({}),P})();const No=new g.OlP("NgModelWithFormControlWarning"),$r={provide:yn,useExisting:(0,g.Gpc)(()=>on)};let on=(()=>{var z;class P extends yn{constructor(j,fe,Vt){super(),this.callSetDisabledState=Vt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new g.vpe,this._setValidators(j),this._setAsyncValidators(fe)}ngOnChanges(j){this._checkFormPresent(),j.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(j){const fe=this.form.get(j.path);return xr(fe,j,this.callSetDisabledState),fe.updateValueAndValidity({emitEvent:!1}),this.directives.push(j),fe}getControl(j){return this.form.get(j.path)}removeControl(j){Zn(j.control||null,j,!1),function wi(z,P){const ie=z.indexOf(P);ie>-1&&z.splice(ie,1)}(this.directives,j)}addFormGroup(j){this._setUpFormContainer(j)}removeFormGroup(j){this._cleanUpFormContainer(j)}getFormGroup(j){return this.form.get(j.path)}addFormArray(j){this._setUpFormContainer(j)}removeFormArray(j){this._cleanUpFormContainer(j)}getFormArray(j){return this.form.get(j.path)}updateModel(j,fe){this.form.get(j.path).setValue(fe)}onSubmit(j){var fe;return this.submitted=!0,function cr(z,P){z._syncPendingControls(),P.forEach(ie=>{const j=ie.control;"submit"===j.updateOn&&j._pendingChange&&(ie.viewToModelUpdate(j._pendingValue),j._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(j),"dialog"===(null==j||null===(fe=j.target)||void 0===fe?void 0:fe.method)}onReset(){this.resetForm()}resetForm(j=void 0){this.form.reset(j),this.submitted=!1}_updateDomValue(){this.directives.forEach(j=>{const fe=j.control,Vt=this.form.get(j.path);fe!==Vt&&(Zn(fe||null,j),(z=>z instanceof xe)(Vt)&&(xr(Vt,j,this.callSetDisabledState),j.control=Vt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(j){const fe=this.form.get(j.path);(function ii(z,P){ri(z,P)})(fe,j),fe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(j){if(this.form){const fe=this.form.get(j.path);fe&&function Er(z,P){return Wn(z,P)}(fe,j)&&fe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ri(this.form,this),this._oldForm&&Wn(this._oldForm,this)}_checkFormPresent(){}}return(z=P).\u0275fac=function(j){return new(j||z)(g.Y36(Le,10),g.Y36(be,10),g.Y36(Dr,8))},z.\u0275dir=g.lG2({type:z,selectors:[["","formGroup",""]],hostBindings:function(j,fe){1&j&&g.NdJ("submit",function(y){return fe.onSubmit(y)})("reset",function(){return fe.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([$r]),g.qOj,g.TTD]}),P})();const Ao={provide:Nn,useExisting:(0,g.Gpc)(()=>Vr)};let Vr=(()=>{var z;class P extends Nn{set isDisabled(j){}constructor(j,fe,Vt,y,$){super(),this._ngModelWarningConfig=$,this._added=!1,this.name=null,this.update=new g.vpe,this._ngModelWarningSent=!1,this._parent=j,this._setValidators(fe),this._setAsyncValidators(Vt),this.valueAccessor=function ji(z,P){if(!P)return null;let ie,j,fe;return Array.isArray(P),P.forEach(Vt=>{Vt.constructor===Qe?ie=Vt:function Zi(z){return Object.getPrototypeOf(z.constructor)===Re}(Vt)?j=Vt:fe=Vt}),fe||j||ie||null}(0,y)}ngOnChanges(j){this._added||this._setUpControl(),function Oi(z,P){if(!z.hasOwnProperty("model"))return!1;const ie=z.model;return!!ie.isFirstChange()||!Object.is(P,ie.currentValue)}(j,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(j){this.viewModel=j,this.update.emit(j)}get path(){return function Vi(z,P){return[...P.path,z]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(z=P)._ngModelWarningSentOnce=!1,z.\u0275fac=function(j){return new(j||z)(g.Y36(yn,13),g.Y36(Le,10),g.Y36(be,10),g.Y36($e,10),g.Y36(No,8))},z.\u0275dir=g.lG2({type:z,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[g._Bn([Ao]),g.qOj,g.TTD]}),P})();function _o(z){return"number"==typeof z?z:parseFloat(z)}let pr=(()=>{var z;class P{constructor(){this._validator=ae}ngOnChanges(j){if(this.inputName in j){const fe=this.normalizeInput(j[this.inputName].currentValue);this._enabled=this.enabled(fe),this._validator=this._enabled?this.createValidator(fe):ae,this._onChange&&this._onChange()}}validate(j){return this._validator(j)}registerOnValidatorChange(j){this._onChange=j}enabled(j){return null!=j}}return(z=P).\u0275fac=function(j){return new(j||z)},z.\u0275dir=g.lG2({type:z,features:[g.TTD]}),P})();const Wo={provide:Le,useExisting:(0,g.Gpc)(()=>Xi),multi:!0};let Xi=(()=>{var z;class P extends pr{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=j=>_o(j),this.createValidator=j=>Je(j)}}return(z=P).\u0275fac=function(){let ie;return function(fe){return(ie||(ie=g.n5z(z)))(fe||z)}}(),z.\u0275dir=g.lG2({type:z,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(j,fe){2&j&&g.uIk("max",fe._enabled?fe.max:null)},inputs:{max:"max"},features:[g._Bn([Wo]),g.qOj]}),P})();const ir={provide:Le,useExisting:(0,g.Gpc)(()=>bs),multi:!0};let bs=(()=>{var z;class P extends pr{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=j=>_o(j),this.createValidator=j=>Be(j)}}return(z=P).\u0275fac=function(){let ie;return function(fe){return(ie||(ie=g.n5z(z)))(fe||z)}}(),z.\u0275dir=g.lG2({type:z,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(j,fe){2&j&&g.uIk("min",fe._enabled?fe.min:null)},inputs:{min:"min"},features:[g._Bn([ir]),g.qOj]}),P})();const os={provide:Le,useExisting:(0,g.Gpc)(()=>Wr),multi:!0};let Wr=(()=>{var z;class P extends pr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=g.VuI,this.createValidator=j=>je}enabled(j){return j}}return(z=P).\u0275fac=function(){let ie;return function(fe){return(ie||(ie=g.n5z(z)))(fe||z)}}(),z.\u0275dir=g.lG2({type:z,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(j,fe){2&j&&g.uIk("required",fe._enabled?"":null)},inputs:{required:"required"},features:[g._Bn([os]),g.qOj]}),P})(),js=(()=>{var z;class P{}return(z=P).\u0275fac=function(j){return new(j||z)},z.\u0275mod=g.oAB({type:z}),z.\u0275inj=g.cJS({imports:[Hn]}),P})(),Ws=(()=>{var z;class P{static withConfig(j){var fe,Vt;return{ngModule:P,providers:[{provide:No,useValue:null!==(fe=j.warnOnNgModelWithFormControl)&&void 0!==fe?fe:"always"},{provide:Dr,useValue:null!==(Vt=j.callSetDisabledState)&&void 0!==Vt?Vt:Ni}]}}}return(z=P).\u0275fac=function(j){return new(j||z)},z.\u0275mod=g.oAB({type:z}),z.\u0275inj=g.cJS({imports:[js]}),P})()},6593:(Jt,nt,N)=>{"use strict";N.d(nt,{Cg:()=>ze,Dx:()=>Nn});var g=N(5879),m=N(6814);class K extends m.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class re extends K{static makeCurrent(){(0,m.HT)(new re)}onAndCancel(X,Ae,ne){return X.addEventListener(Ae,ne),()=>{X.removeEventListener(Ae,ne)}}dispatchEvent(X,Ae){X.dispatchEvent(Ae)}remove(X){X.parentNode&&X.parentNode.removeChild(X)}createElement(X,Ae){return(Ae=Ae||this.getDefaultDocument()).createElement(X)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(X){return X.nodeType===Node.ELEMENT_NODE}isShadowRoot(X){return X instanceof DocumentFragment}getGlobalEventTarget(X,Ae){return"window"===Ae?window:"document"===Ae?X:"body"===Ae?X.body:null}getBaseHref(X){const Ae=function Te(){return Se=Se||document.querySelector("base"),Se?Se.getAttribute("href"):null}();return null==Ae?null:function He(te){de=de||document.createElement("a"),de.setAttribute("href",te);const X=de.pathname;return"/"===X.charAt(0)?X:`/${X}`}(Ae)}resetBaseElement(){Se=null}getUserAgent(){return window.navigator.userAgent}getCookie(X){return(0,m.Mx)(document.cookie,X)}}let de,Se=null,he=(()=>{var te;class X{build(){return new XMLHttpRequest}}return(te=X).\u0275fac=function(ne){return new(ne||te)},te.\u0275prov=g.Yz7({token:te,factory:te.\u0275fac}),X})();const oe=new g.OlP("EventManagerPlugins");let Me=(()=>{var te;class X{constructor(ne,Ye){this._zone=Ye,this._eventNameToPlugin=new Map,ne.forEach(_t=>{_t.manager=this}),this._plugins=ne.slice().reverse()}addEventListener(ne,Ye,_t){return this._findPluginFor(Ye).addEventListener(ne,Ye,_t)}getZone(){return this._zone}_findPluginFor(ne){let Ye=this._eventNameToPlugin.get(ne);if(Ye)return Ye;if(Ye=this._plugins.find(jt=>jt.supports(ne)),!Ye)throw new g.vHH(5101,!1);return this._eventNameToPlugin.set(ne,Ye),Ye}}return(te=X).\u0275fac=function(ne){return new(ne||te)(g.LFG(oe),g.LFG(g.R0b))},te.\u0275prov=g.Yz7({token:te,factory:te.\u0275fac}),X})();class Ee{constructor(X){this._doc=X}}const Re="ng-app-id";let $e=(()=>{var te;class X{constructor(ne,Ye,_t,jt={}){this.doc=ne,this.appId=Ye,this.nonce=_t,this.platformId=jt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,m.PM)(jt),this.resetHostNodes()}addStyles(ne){for(const Ye of ne)1===this.changeUsageCount(Ye,1)&&this.onStyleAdded(Ye)}removeStyles(ne){for(const Ye of ne)this.changeUsageCount(Ye,-1)<=0&&this.onStyleRemoved(Ye)}ngOnDestroy(){const ne=this.styleNodesInDOM;ne&&(ne.forEach(Ye=>Ye.remove()),ne.clear());for(const Ye of this.getAllStyles())this.onStyleRemoved(Ye);this.resetHostNodes()}addHost(ne){this.hostNodes.add(ne);for(const Ye of this.getAllStyles())this.addStyleToHost(ne,Ye)}removeHost(ne){this.hostNodes.delete(ne)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ne){for(const Ye of this.hostNodes)this.addStyleToHost(Ye,ne)}onStyleRemoved(ne){var Ye;const _t=this.styleRef;null===(Ye=_t.get(ne))||void 0===Ye||null===(Ye=Ye.elements)||void 0===Ye||Ye.forEach(jt=>jt.remove()),_t.delete(ne)}collectServerRenderedStyles(){var ne;const Ye=null===(ne=this.doc.head)||void 0===ne?void 0:ne.querySelectorAll(`style[${Re}="${this.appId}"]`);if(null!=Ye&&Ye.length){const _t=new Map;return Ye.forEach(jt=>{null!=jt.textContent&&_t.set(jt.textContent,jt)}),_t}return null}changeUsageCount(ne,Ye){const _t=this.styleRef;if(_t.has(ne)){const jt=_t.get(ne);return jt.usage+=Ye,jt.usage}return _t.set(ne,{usage:Ye,elements:[]}),Ye}getStyleElement(ne,Ye){const _t=this.styleNodesInDOM,jt=null==_t?void 0:_t.get(Ye);if((null==jt?void 0:jt.parentNode)===ne)return _t.delete(Ye),jt.removeAttribute(Re),jt;{const dn=this.doc.createElement("style");return this.nonce&&dn.setAttribute("nonce",this.nonce),dn.textContent=Ye,this.platformIsServer&&dn.setAttribute(Re,this.appId),dn}}addStyleToHost(ne,Ye){var _t;const jt=this.getStyleElement(ne,Ye);ne.appendChild(jt);const dn=this.styleRef,jn=null===(_t=dn.get(Ye))||void 0===_t?void 0:_t.elements;jn?jn.push(jt):dn.set(Ye,{elements:[jt],usage:1})}resetHostNodes(){const ne=this.hostNodes;ne.clear(),ne.add(this.doc.head)}}return(te=X).\u0275fac=function(ne){return new(ne||te)(g.LFG(m.K0),g.LFG(g.AFp),g.LFG(g.Ojb,8),g.LFG(g.Lbi))},te.\u0275prov=g.Yz7({token:te,factory:te.\u0275fac}),X})();const lt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},De=/%COMP%/g,we=new g.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function be(te,X){return X.map(Ae=>Ae.replace(De,te))}let Z=(()=>{var te;class X{constructor(ne,Ye,_t,jt,dn,jn,Dn,zn=null){this.eventManager=ne,this.sharedStylesHost=Ye,this.appId=_t,this.removeStylesOnCompDestroy=jt,this.doc=dn,this.platformId=jn,this.ngZone=Dn,this.nonce=zn,this.rendererByCompId=new Map,this.platformIsServer=(0,m.PM)(jn),this.defaultRenderer=new me(ne,dn,Dn,this.platformIsServer)}createRenderer(ne,Ye){if(!ne||!Ye)return this.defaultRenderer;this.platformIsServer&&Ye.encapsulation===g.ifc.ShadowDom&&(Ye={...Ye,encapsulation:g.ifc.Emulated});const _t=this.getOrCreateRenderer(ne,Ye);return _t instanceof Tt?_t.applyToHost(ne):_t instanceof Pt&&_t.applyStyles(),_t}getOrCreateRenderer(ne,Ye){const _t=this.rendererByCompId;let jt=_t.get(Ye.id);if(!jt){const dn=this.doc,jn=this.ngZone,Dn=this.eventManager,zn=this.sharedStylesHost,Pr=this.removeStylesOnCompDestroy,Dr=this.platformIsServer;switch(Ye.encapsulation){case g.ifc.Emulated:jt=new Tt(Dn,zn,Ye,this.appId,Pr,dn,jn,Dr);break;case g.ifc.ShadowDom:return new ct(Dn,zn,ne,Ye,dn,jn,this.nonce,Dr);default:jt=new Pt(Dn,zn,Ye,Pr,dn,jn,Dr)}_t.set(Ye.id,jt)}return jt}ngOnDestroy(){this.rendererByCompId.clear()}}return(te=X).\u0275fac=function(ne){return new(ne||te)(g.LFG(Me),g.LFG($e),g.LFG(g.AFp),g.LFG(we),g.LFG(m.K0),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(g.Ojb))},te.\u0275prov=g.Yz7({token:te,factory:te.\u0275fac}),X})();class me{constructor(X,Ae,ne,Ye){this.eventManager=X,this.doc=Ae,this.ngZone=ne,this.platformIsServer=Ye,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(X,Ae){return Ae?this.doc.createElementNS(lt[Ae]||Ae,X):this.doc.createElement(X)}createComment(X){return this.doc.createComment(X)}createText(X){return this.doc.createTextNode(X)}appendChild(X,Ae){(je(X)?X.content:X).appendChild(Ae)}insertBefore(X,Ae,ne){X&&(je(X)?X.content:X).insertBefore(Ae,ne)}removeChild(X,Ae){X&&X.removeChild(Ae)}selectRootElement(X,Ae){let ne="string"==typeof X?this.doc.querySelector(X):X;if(!ne)throw new g.vHH(-5104,!1);return Ae||(ne.textContent=""),ne}parentNode(X){return X.parentNode}nextSibling(X){return X.nextSibling}setAttribute(X,Ae,ne,Ye){if(Ye){Ae=Ye+":"+Ae;const _t=lt[Ye];_t?X.setAttributeNS(_t,Ae,ne):X.setAttribute(Ae,ne)}else X.setAttribute(Ae,ne)}removeAttribute(X,Ae,ne){if(ne){const Ye=lt[ne];Ye?X.removeAttributeNS(Ye,Ae):X.removeAttribute(`${ne}:${Ae}`)}else X.removeAttribute(Ae)}addClass(X,Ae){X.classList.add(Ae)}removeClass(X,Ae){X.classList.remove(Ae)}setStyle(X,Ae,ne,Ye){Ye&(g.JOm.DashCase|g.JOm.Important)?X.style.setProperty(Ae,ne,Ye&g.JOm.Important?"important":""):X.style[Ae]=ne}removeStyle(X,Ae,ne){ne&g.JOm.DashCase?X.style.removeProperty(Ae):X.style[Ae]=""}setProperty(X,Ae,ne){X[Ae]=ne}setValue(X,Ae){X.nodeValue=Ae}listen(X,Ae,ne){if("string"==typeof X&&!(X=(0,m.q)().getGlobalEventTarget(this.doc,X)))throw new Error(`Unsupported event target ${X} for event ${Ae}`);return this.eventManager.addEventListener(X,Ae,this.decoratePreventDefault(ne))}decoratePreventDefault(X){return Ae=>{if("__ngUnwrap__"===Ae)return X;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>X(Ae)):X(Ae))&&Ae.preventDefault()}}}function je(te){return"TEMPLATE"===te.tagName&&void 0!==te.content}class ct extends me{constructor(X,Ae,ne,Ye,_t,jt,dn,jn){super(X,_t,jt,jn),this.sharedStylesHost=Ae,this.hostEl=ne,this.shadowRoot=ne.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Dn=be(Ye.id,Ye.styles);for(const zn of Dn){const Pr=document.createElement("style");dn&&Pr.setAttribute("nonce",dn),Pr.textContent=zn,this.shadowRoot.appendChild(Pr)}}nodeOrShadowRoot(X){return X===this.hostEl?this.shadowRoot:X}appendChild(X,Ae){return super.appendChild(this.nodeOrShadowRoot(X),Ae)}insertBefore(X,Ae,ne){return super.insertBefore(this.nodeOrShadowRoot(X),Ae,ne)}removeChild(X,Ae){return super.removeChild(this.nodeOrShadowRoot(X),Ae)}parentNode(X){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(X)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Pt extends me{constructor(X,Ae,ne,Ye,_t,jt,dn,jn){super(X,_t,jt,dn),this.sharedStylesHost=Ae,this.removeStylesOnCompDestroy=Ye,this.styles=jn?be(jn,ne.styles):ne.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Tt extends Pt{constructor(X,Ae,ne,Ye,_t,jt,dn,jn){const Dn=Ye+"-"+ne.id;super(X,Ae,ne,_t,jt,dn,jn,Dn),this.contentAttr=function ke(te){return"_ngcontent-%COMP%".replace(De,te)}(Dn),this.hostAttr=function Le(te){return"_nghost-%COMP%".replace(De,te)}(Dn)}applyToHost(X){this.applyStyles(),this.setAttribute(X,this.hostAttr,"")}createElement(X,Ae){const ne=super.createElement(X,Ae);return super.setAttribute(ne,this.contentAttr,""),ne}}let Lt=(()=>{var te;class X extends Ee{constructor(ne){super(ne)}supports(ne){return!0}addEventListener(ne,Ye,_t){return ne.addEventListener(Ye,_t,!1),()=>this.removeEventListener(ne,Ye,_t)}removeEventListener(ne,Ye,_t){return ne.removeEventListener(Ye,_t)}}return(te=X).\u0275fac=function(ne){return new(ne||te)(g.LFG(m.K0))},te.\u0275prov=g.Yz7({token:te,factory:te.\u0275fac}),X})();const We=["alt","control","meta","shift"],ae={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ge={alt:te=>te.altKey,control:te=>te.ctrlKey,meta:te=>te.metaKey,shift:te=>te.shiftKey};let Oe=(()=>{var te;class X extends Ee{constructor(ne){super(ne)}supports(ne){return null!=X.parseEventName(ne)}addEventListener(ne,Ye,_t){const jt=X.parseEventName(Ye),dn=X.eventCallback(jt.fullKey,_t,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,m.q)().onAndCancel(ne,jt.domEventName,dn))}static parseEventName(ne){const Ye=ne.toLowerCase().split("."),_t=Ye.shift();if(0===Ye.length||"keydown"!==_t&&"keyup"!==_t)return null;const jt=X._normalizeKey(Ye.pop());let dn="",jn=Ye.indexOf("code");if(jn>-1&&(Ye.splice(jn,1),dn="code."),We.forEach(zn=>{const Pr=Ye.indexOf(zn);Pr>-1&&(Ye.splice(Pr,1),dn+=zn+".")}),dn+=jt,0!=Ye.length||0===jt.length)return null;const Dn={};return Dn.domEventName=_t,Dn.fullKey=dn,Dn}static matchEventFullKeyCode(ne,Ye){let _t=ae[ne.key]||ne.key,jt="";return Ye.indexOf("code.")>-1&&(_t=ne.code,jt="code."),!(null==_t||!_t)&&(_t=_t.toLowerCase()," "===_t?_t="space":"."===_t&&(_t="dot"),We.forEach(dn=>{dn!==_t&&(0,ge[dn])(ne)&&(jt+=dn+".")}),jt+=_t,jt===Ye)}static eventCallback(ne,Ye,_t){return jt=>{X.matchEventFullKeyCode(jt,ne)&&_t.runGuarded(()=>Ye(jt))}}static _normalizeKey(ne){return"esc"===ne?"escape":ne}}return(te=X).\u0275fac=function(ne){return new(ne||te)(g.LFG(m.K0))},te.\u0275prov=g.Yz7({token:te,factory:te.\u0275fac}),X})();function ze(te,X){return(0,g.iPO)({rootComponent:te,...Ze(X)})}function Ze(te){var X;return{appProviders:[...In,...null!==(X=null==te?void 0:te.providers)&&void 0!==X?X:[]],platformProviders:dt}}const dt=[{provide:g.Lbi,useValue:m.bD},{provide:g.g9A,useValue:function kt(){re.makeCurrent()},multi:!0},{provide:m.K0,useFactory:function pe(){return(0,g.RDi)(document),document},deps:[]}],In=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function It(){return new g.qLn},deps:[]},{provide:oe,useClass:Lt,multi:!0,deps:[m.K0,g.R0b,g.Lbi]},{provide:oe,useClass:Oe,multi:!0,deps:[m.K0]},Z,$e,Me,{provide:g.FYo,useExisting:Z},{provide:m.JF,useClass:he,deps:[]},[]];let Nn=(()=>{var te;class X{constructor(ne){this._doc=ne}getTitle(){return this._doc.title}setTitle(ne){this._doc.title=ne||""}}return(te=X).\u0275fac=function(ne){return new(ne||te)(g.LFG(m.K0))},te.\u0275prov=g.Yz7({token:te,factory:function(ne){let Ye=null;return Ye=ne?new ne:function yn(){return new Nn((0,g.LFG)(m.K0))}(),Ye},providedIn:"root"}),X})();typeof window<"u"&&window},4934:(Jt,nt,N)=>{"use strict";N.d(nt,{gz:()=>zr,y6:()=>at,OD:()=>ji,eC:()=>pe,wN:()=>br,F0:()=>ko,rH:()=>va,Hx:()=>Jn,bU:()=>Ja});var g=N(5879),m=N(5592),K=N(4674),Se=N(2459),Te=N(2096),de=N(5619),He=N(6973),Ne=N(2572),he=N(5211),oe=N(4829);function Me(b){return new m.y(D=>{(0,oe.Xf)(b()).subscribe(D)})}var Ee=N(8407);function Re(b,D){const R=(0,K.m)(b)?b:()=>b,A=L=>L.error(R());return new m.y(D?L=>D.schedule(A,0,L):A)}var $e=N(6232),lt=N(7394),De=N(9360),_e=N(8251);function et(){return(0,De.e)((b,D)=>{let R=null;b._refCount++;const A=(0,_e.x)(D,void 0,void 0,void 0,()=>{if(!b||b._refCount<=0||0<--b._refCount)return void(R=null);const L=b._connection,ee=R;R=null,L&&(!ee||L===ee)&&L.unsubscribe(),D.unsubscribe()});b.subscribe(A),A.closed||(R=b.connect())})}class ut extends m.y{constructor(D,R){super(),this.source=D,this.subjectFactory=R,this._subject=null,this._refCount=0,this._connection=null,(0,De.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,null==D||D.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new lt.w0;const R=this.getSubject();D.add(this.source.subscribe((0,_e.x)(R,void 0,()=>{this._teardown(),R.complete()},A=>{this._teardown(),R.error(A)},()=>this._teardown()))),D.closed&&(this._connection=null,D=lt.w0.EMPTY)}return D}refCount(){return et()(this)}}var Qe=N(8645),we=N(6814),ke=N(7398),Le=N(4664),be=N(8180),Z=N(7921),me=N(2181),Be=N(1631),Je=N(1374);function je(b,D){return(0,K.m)(D)?(0,Be.z)(b,D,1):(0,Be.z)(b,1)}var ct=N(9397);function Pt(b){return(0,De.e)((D,R)=>{let ee,A=null,L=!1;A=D.subscribe((0,_e.x)(R,void 0,void 0,ue=>{ee=(0,oe.Xf)(b(ue,Pt(b)(D))),A?(A.unsubscribe(),A=null,ee.subscribe(R)):L=!0})),L&&(A.unsubscribe(),A=null,ee.subscribe(R))})}var Tt=N(6699),Lt=N(3572);function We(b){return b<=0?()=>$e.E:(0,De.e)((D,R)=>{let A=[];D.subscribe((0,_e.x)(R,L=>{A.push(L),b<A.length&&A.shift()},()=>{for(const L of A)R.next(L);R.complete()},void 0,()=>{A=null}))})}var ae=N(3026),ge=N(2737);function tt(b){return(0,De.e)((D,R)=>{try{D.subscribe(R)}finally{R.add(b)}})}var Ze=N(2420);N(7537);var It=N(6593);const pe="primary",dt=Symbol("RouteTitle");class mt{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const R=this.params[D];return Array.isArray(R)?R[0]:R}return null}getAll(D){if(this.has(D)){const R=this.params[D];return Array.isArray(R)?R:[R]}return[]}get keys(){return Object.keys(this.params)}}function St(b){return new mt(b)}function Zt(b,D,R){const A=R.path.split("/");if(A.length>b.length||"full"===R.pathMatch&&(D.hasChildren()||A.length<b.length))return null;const L={};for(let ee=0;ee<A.length;ee++){const ue=A[ee],vt=b[ee];if(ue.startsWith(":"))L[ue.substring(1)]=vt;else if(ue!==vt.path)return null}return{consumed:b.slice(0,A.length),posParams:L}}function qt(b,D){const R=b?Object.keys(b):void 0,A=D?Object.keys(D):void 0;if(!R||!A||R.length!=A.length)return!1;let L;for(let ee=0;ee<R.length;ee++)if(L=R[ee],!Pn(b[L],D[L]))return!1;return!0}function Pn(b,D){if(Array.isArray(b)&&Array.isArray(D)){if(b.length!==D.length)return!1;const R=[...b].sort(),A=[...D].sort();return R.every((L,ee)=>A[ee]===L)}return b===D}function Tn(b){return b.length>0?b[b.length-1]:null}function En(b){return function re(b){return!!b&&(b instanceof m.y||(0,K.m)(b.lift)&&(0,K.m)(b.subscribe))}(b)?b:(0,g.QGY)(b)?(0,Se.D)(Promise.resolve(b)):(0,Te.of)(b)}const yn={exact:function Ar(b,D,R){if(!Qn(b.segments,D.segments)||!qn(b.segments,D.segments,R)||b.numberOfChildren!==D.numberOfChildren)return!1;for(const A in D.children)if(!b.children[A]||!Ar(b.children[A],D.children[A],R))return!1;return!0},subset:kn},Nn={exact:function _r(b,D){return qt(b,D)},subset:function Qt(b,D){return Object.keys(D).length<=Object.keys(b).length&&Object.keys(D).every(R=>Pn(b[R],D[R]))},ignored:()=>!0};function Zr(b,D,R){return yn[R.paths](b.root,D.root,R.matrixParams)&&Nn[R.queryParams](b.queryParams,D.queryParams)&&!("exact"===R.fragment&&b.fragment!==D.fragment)}function kn(b,D,R){return Mr(b,D,D.segments,R)}function Mr(b,D,R,A){if(b.segments.length>R.length){const L=b.segments.slice(0,R.length);return!(!Qn(L,R)||D.hasChildren()||!qn(L,R,A))}if(b.segments.length===R.length){if(!Qn(b.segments,R)||!qn(b.segments,R,A))return!1;for(const L in D.children)if(!b.children[L]||!kn(b.children[L],D.children[L],A))return!1;return!0}{const L=R.slice(0,b.segments.length),ee=R.slice(b.segments.length);return!!(Qn(b.segments,L)&&qn(b.segments,L,A)&&b.children[pe])&&Mr(b.children[pe],D,ee,A)}}function qn(b,D,R){return D.every((A,L)=>Nn[R](b[L].parameters,A.parameters))}class fr{constructor(D=new en([],{}),R={},A=null){this.root=D,this.queryParams=R,this.fragment=A}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=St(this.queryParams)),this._queryParamMap}toString(){return Xr.serialize(this)}}class en{constructor(D,R){this.segments=D,this.children=R,this.parent=null,Object.values(R).forEach(A=>A.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ei(this)}}class Rn{constructor(D,R){this.path=D,this.parameters=R}get parameterMap(){return this._parameterMap||(this._parameterMap=St(this.parameters)),this._parameterMap}toString(){return mn(this)}}function Qn(b,D){return b.length===D.length&&b.every((R,A)=>R.path===D[A].path)}let Jn=(()=>{var b;class D{}return(b=D).\u0275fac=function(A){return new(A||b)},b.\u0275prov=g.Yz7({token:b,factory:function(){return new ci},providedIn:"root"}),D})();class ci{parse(D){const R=new jn(D);return new fr(R.parseRootSegment(),R.parseQueryParams(),R.parseFragment())}serialize(D){const R=`/${Ir(D.root,!0)}`,A=function Pe(b){const D=Object.keys(b).map(R=>{const A=b[R];return Array.isArray(A)?A.map(L=>`${Dt(R)}=${Dt(L)}`).join("&"):`${Dt(R)}=${Dt(A)}`}).filter(R=>!!R);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${R}${A}${"string"==typeof D.fragment?`#${function Ve(b){return encodeURI(b)}(D.fragment)}`:""}`}}const Xr=new ci;function Ei(b){return b.segments.map(D=>mn(D)).join("/")}function Ir(b,D){if(!b.hasChildren())return Ei(b);if(D){const R=b.children[pe]?Ir(b.children[pe],!1):"",A=[];return Object.entries(b.children).forEach(([L,ee])=>{L!==pe&&A.push(`${L}:${Ir(ee,!1)}`)}),A.length>0?`${R}(${A.join("//")})`:R}{const R=function Hr(b,D){let R=[];return Object.entries(b.children).forEach(([A,L])=>{A===pe&&(R=R.concat(D(L,A)))}),Object.entries(b.children).forEach(([A,L])=>{A!==pe&&(R=R.concat(D(L,A)))}),R}(b,(A,L)=>L===pe?[Ir(b.children[pe],!1)]:[`${L}:${Ir(A,!1)}`]);return 1===Object.keys(b.children).length&&null!=b.children[pe]?`${Ei(b)}/${R[0]}`:`${Ei(b)}/(${R.join("//")})`}}function pi(b){return encodeURIComponent(b).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dt(b){return pi(b).replace(/%3B/gi,";")}function Et(b){return pi(b).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yt(b){return decodeURIComponent(b)}function tn(b){return Yt(b.replace(/\+/g,"%20"))}function mn(b){return`${Et(b.path)}${function On(b){return Object.keys(b).map(D=>`;${Et(D)}=${Et(b[D])}`).join("")}(b.parameters)}`}const te=/^[^\/()?;#]+/;function X(b){const D=b.match(te);return D?D[0]:""}const Ae=/^[^\/()?;=#]+/,Ye=/^[^=?&#]+/,jt=/^[^&#]+/;class jn{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new en([],{}):new en([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let R={};this.peekStartsWith("/(")&&(this.capture("/"),R=this.parseParens(!0));let A={};return this.peekStartsWith("(")&&(A=this.parseParens(!1)),(D.length>0||Object.keys(R).length>0)&&(A[pe]=new en(D,R)),A}parseSegment(){const D=X(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new g.vHH(4009,!1);return this.capture(D),new Rn(Yt(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const R=function ne(b){const D=b.match(Ae);return D?D[0]:""}(this.remaining);if(!R)return;this.capture(R);let A="";if(this.consumeOptional("=")){const L=X(this.remaining);L&&(A=L,this.capture(A))}D[Yt(R)]=Yt(A)}parseQueryParam(D){const R=function _t(b){const D=b.match(Ye);return D?D[0]:""}(this.remaining);if(!R)return;this.capture(R);let A="";if(this.consumeOptional("=")){const ue=function dn(b){const D=b.match(jt);return D?D[0]:""}(this.remaining);ue&&(A=ue,this.capture(A))}const L=tn(R),ee=tn(A);if(D.hasOwnProperty(L)){let ue=D[L];Array.isArray(ue)||(ue=[ue],D[L]=ue),ue.push(ee)}else D[L]=ee}parseParens(D){const R={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const A=X(this.remaining),L=this.remaining[A.length];if("/"!==L&&")"!==L&&";"!==L)throw new g.vHH(4010,!1);let ee;A.indexOf(":")>-1?(ee=A.slice(0,A.indexOf(":")),this.capture(ee),this.capture(":")):D&&(ee=pe);const ue=this.parseChildren();R[ee]=1===Object.keys(ue).length?ue[pe]:new en([],ue),this.consumeOptional("//")}return R}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new g.vHH(4011,!1)}}function Dn(b){return b.segments.length>0?new en([],{[pe]:b}):b}function zn(b){const D={};for(const A of Object.keys(b.children)){const ee=zn(b.children[A]);if(A===pe&&0===ee.segments.length&&ee.hasChildren())for(const[ue,vt]of Object.entries(ee.children))D[ue]=vt;else(ee.segments.length>0||ee.hasChildren())&&(D[A]=ee)}return function Pr(b){if(1===b.numberOfChildren&&b.children[pe]){const D=b.children[pe];return new en(b.segments.concat(D.segments),D.children)}return b}(new en(b.segments,D))}function Dr(b){return b instanceof fr}function Vi(b){var D;let R;const ee=Dn(function A(ue){const vt={};for(const xt of ue.children){const pn=A(xt);vt[xt.outlet]=pn}const ln=new en(ue.url,vt);return ue===b&&(R=ln),ln}(b.root));return null!==(D=R)&&void 0!==D?D:ee}function xr(b,D,R,A){let L=b;for(;L.parent;)L=L.parent;if(0===D.length)return bi(L,L,L,R,A);const ee=function xi(b){if("string"==typeof b[0]&&1===b.length&&"/"===b[0])return new Wn(!0,0,b);let D=0,R=!1;const A=b.reduce((L,ee,ue)=>{if("object"==typeof ee&&null!=ee){if(ee.outlets){const vt={};return Object.entries(ee.outlets).forEach(([ln,xt])=>{vt[ln]="string"==typeof xt?xt.split("/"):xt}),[...L,{outlets:vt}]}if(ee.segmentPath)return[...L,ee.segmentPath]}return"string"!=typeof ee?[...L,ee]:0===ue?(ee.split("/").forEach((vt,ln)=>{0==ln&&"."===vt||(0==ln&&""===vt?R=!0:".."===vt?D++:""!=vt&&L.push(vt))}),L):[...L,ee]},[]);return new Wn(R,D,A)}(D);if(ee.toRoot())return bi(L,L,new en([],{}),R,A);const ue=function to(b,D,R){if(b.isAbsolute)return new Ui(D,!0,0);if(!R)return new Ui(D,!1,NaN);if(null===R.parent)return new Ui(R,!0,0);const A=Zn(b.commands[0])?0:1;return function ui(b,D,R){let A=b,L=D,ee=R;for(;ee>L;){if(ee-=L,A=A.parent,!A)throw new g.vHH(4005,!1);L=A.segments.length}return new Ui(A,!1,L-ee)}(R,R.segments.length-1+A,b.numberOfDoubleDots)}(ee,L,b),vt=ue.processChildren?nr(ue.segmentGroup,ue.index,ee.commands):Er(ue.segmentGroup,ue.index,ee.commands);return bi(L,ue.segmentGroup,vt,R,A)}function Zn(b){return"object"==typeof b&&null!=b&&!b.outlets&&!b.segmentPath}function Nr(b){return"object"==typeof b&&null!=b&&b.outlets}function bi(b,D,R,A,L){let ue,ee={};A&&Object.entries(A).forEach(([ln,xt])=>{ee[ln]=Array.isArray(xt)?xt.map(pn=>`${pn}`):`${xt}`}),ue=b===D?R:ri(b,D,R);const vt=Dn(zn(ue));return new fr(vt,ee,L)}function ri(b,D,R){const A={};return Object.entries(b.children).forEach(([L,ee])=>{A[L]=ee===D?R:ri(ee,D,R)}),new en(b.segments,A)}class Wn{constructor(D,R,A){if(this.isAbsolute=D,this.numberOfDoubleDots=R,this.commands=A,D&&A.length>0&&Zn(A[0]))throw new g.vHH(4003,!1);const L=A.find(Nr);if(L&&L!==Tn(A))throw new g.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ui{constructor(D,R,A){this.segmentGroup=D,this.processChildren=R,this.index=A}}function Er(b,D,R){if(b||(b=new en([],{})),0===b.segments.length&&b.hasChildren())return nr(b,D,R);const A=function Co(b,D,R){let A=0,L=D;const ee={match:!1,pathIndex:0,commandIndex:0};for(;L<b.segments.length;){if(A>=R.length)return ee;const ue=b.segments[L],vt=R[A];if(Nr(vt))break;const ln=`${vt}`,xt=A<R.length-1?R[A+1]:null;if(L>0&&void 0===ln)break;if(ln&&xt&&"object"==typeof xt&&void 0===xt.outlets){if(!Oi(ln,xt,ue))return ee;A+=2}else{if(!Oi(ln,{},ue))return ee;A++}L++}return{match:!0,pathIndex:L,commandIndex:A}}(b,D,R),L=R.slice(A.commandIndex);if(A.match&&A.pathIndex<b.segments.length){const ee=new en(b.segments.slice(0,A.pathIndex),{});return ee.children[pe]=new en(b.segments.slice(A.pathIndex),b.children),nr(ee,0,L)}return A.match&&0===L.length?new en(b.segments,{}):A.match&&!b.hasChildren()?so(b,D,R):A.match?nr(b,0,L):so(b,D,R)}function nr(b,D,R){if(0===R.length)return new en(b.segments,{});{const A=function ii(b){return Nr(b[0])?b[0].outlets:{[pe]:b}}(R),L={};if(Object.keys(A).some(ee=>ee!==pe)&&b.children[pe]&&1===b.numberOfChildren&&0===b.children[pe].segments.length){const ee=nr(b.children[pe],D,R);return new en(b.segments,ee.children)}return Object.entries(A).forEach(([ee,ue])=>{"string"==typeof ue&&(ue=[ue]),null!==ue&&(L[ee]=Er(b.children[ee],D,ue))}),Object.entries(b.children).forEach(([ee,ue])=>{void 0===A[ee]&&(L[ee]=ue)}),new en(b.segments,L)}}function so(b,D,R){const A=b.segments.slice(0,D);let L=0;for(;L<R.length;){const ee=R[L];if(Nr(ee)){const ln=Ri(ee.outlets);return new en(A,ln)}if(0===L&&Zn(R[0])){A.push(new Rn(b.segments[D].path,ao(R[0]))),L++;continue}const ue=Nr(ee)?ee.outlets[pe]:`${ee}`,vt=L<R.length-1?R[L+1]:null;ue&&vt&&Zn(vt)?(A.push(new Rn(ue,ao(vt))),L+=2):(A.push(new Rn(ue,{})),L++)}return new en(A,{})}function Ri(b){const D={};return Object.entries(b).forEach(([R,A])=>{"string"==typeof A&&(A=[A]),null!==A&&(D[R]=so(new en([],{}),0,A))}),D}function ao(b){const D={};return Object.entries(b).forEach(([R,A])=>D[R]=`${A}`),D}function Oi(b,D,R){return b==R.path&&qt(D,R.parameters)}const Zi="imperative";class cr{constructor(D,R){this.id=D,this.url=R}}class ji extends cr{constructor(D,R,A="imperative",L=null){super(D,R),this.type=0,this.navigationTrigger=A,this.restoredState=L}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wi extends cr{constructor(D,R,A){super(D,R),this.urlAfterRedirects=A,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class no extends cr{constructor(D,R,A,L){super(D,R),this.reason=A,this.code=L,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Hi extends cr{constructor(D,R,A,L){super(D,R),this.reason=A,this.code=L,this.type=16}}class Lr extends cr{constructor(D,R,A,L){super(D,R),this.error=A,this.target=L,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Q extends cr{constructor(D,R,A,L){super(D,R),this.urlAfterRedirects=A,this.state=L,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class W extends cr{constructor(D,R,A,L){super(D,R),this.urlAfterRedirects=A,this.state=L,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ye extends cr{constructor(D,R,A,L,ee){super(D,R),this.urlAfterRedirects=A,this.state=L,this.shouldActivate=ee,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xe extends cr{constructor(D,R,A,L){super(D,R),this.urlAfterRedirects=A,this.state=L,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pt extends cr{constructor(D,R,A,L){super(D,R),this.urlAfterRedirects=A,this.state=L,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class st{constructor(D){this.route=D,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bt{constructor(D){this.route=D,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ft{constructor(D){this.snapshot=D,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rt{constructor(D){this.snapshot=D,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $t{constructor(D){this.snapshot=D,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sn{constructor(D){this.snapshot=D,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class An{}class gr{constructor(D){this.url=D}}class Ge{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new at,this.attachRef=null}}let at=(()=>{var b;class D{constructor(){this.contexts=new Map}onChildOutletCreated(A,L){const ee=this.getOrCreateContext(A);ee.outlet=L,this.contexts.set(A,ee)}onChildOutletDestroyed(A){const L=this.getContext(A);L&&(L.outlet=null,L.attachRef=null)}onOutletDeactivated(){const A=this.contexts;return this.contexts=new Map,A}onOutletReAttached(A){this.contexts=A}getOrCreateContext(A){let L=this.getContext(A);return L||(L=new Ge,this.contexts.set(A,L)),L}getContext(A){return this.contexts.get(A)||null}}return(b=D).\u0275fac=function(A){return new(A||b)},b.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),D})();class Mt{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const R=this.pathFromRoot(D);return R.length>1?R[R.length-2]:null}children(D){const R=Gt(D,this._root);return R?R.children.map(A=>A.value):[]}firstChild(D){const R=Gt(D,this._root);return R&&R.children.length>0?R.children[0].value:null}siblings(D){const R=nn(D,this._root);return R.length<2?[]:R[R.length-2].children.map(L=>L.value).filter(L=>L!==D)}pathFromRoot(D){return nn(D,this._root).map(R=>R.value)}}function Gt(b,D){if(b===D.value)return D;for(const R of D.children){const A=Gt(b,R);if(A)return A}return null}function nn(b,D){if(b===D.value)return[D];for(const R of D.children){const A=nn(b,R);if(A.length)return A.unshift(D),A}return[]}class Mn{constructor(D,R){this.value=D,this.children=R}toString(){return`TreeNode(${this.value})`}}function Hn(b){const D={};return b&&b.children.forEach(R=>D[R.value.outlet]=R),D}class ur extends Mt{constructor(D,R){super(D),this.snapshot=R,on(this,D)}toString(){return this.snapshot.toString()}}function Qr(b,D){const R=function ns(b,D){const ue=new lo([],{},{},"",{},pe,D,null,{});return new $r("",new Mn(ue,[]))}(0,D),A=new de.X([new Rn("",{})]),L=new de.X({}),ee=new de.X({}),ue=new de.X({}),vt=new de.X(""),ln=new zr(A,L,ue,vt,ee,pe,D,R.root);return ln.snapshot=R.root,new ur(new Mn(ln,[]),R)}class zr{constructor(D,R,A,L,ee,ue,vt,ln){var xt,pn;this.urlSubject=D,this.paramsSubject=R,this.queryParamsSubject=A,this.fragmentSubject=L,this.dataSubject=ee,this.outlet=ue,this.component=vt,this._futureSnapshot=ln,this.title=null!==(xt=null===(pn=this.dataSubject)||void 0===pn?void 0:pn.pipe((0,ke.U)(Vn=>Vn[dt])))&&void 0!==xt?xt:(0,Te.of)(void 0),this.url=D,this.params=R,this.queryParams=A,this.fragment=L,this.data=ee}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ke.U)(D=>St(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ke.U)(D=>St(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function No(b,D="emptyOnly"){const R=b.pathFromRoot;let A=0;if("always"!==D)for(A=R.length-1;A>=1;){const L=R[A],ee=R[A-1];if(L.routeConfig&&""===L.routeConfig.path)A--;else{if(ee.component)break;A--}}return function To(b){return b.reduce((D,R)=>{var A;return{params:{...D.params,...R.params},data:{...D.data,...R.data},resolve:{...R.data,...D.resolve,...null===(A=R.routeConfig)||void 0===A?void 0:A.data,...R._resolvedData}}},{params:{},data:{},resolve:{}})}(R.slice(A))}class lo{get title(){var D;return null===(D=this.data)||void 0===D?void 0:D[dt]}constructor(D,R,A,L,ee,ue,vt,ln,xt){this.url=D,this.params=R,this.queryParams=A,this.fragment=L,this.data=ee,this.outlet=ue,this.component=vt,this.routeConfig=ln,this._resolve=xt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=St(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=St(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(A=>A.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $r extends Mt{constructor(D,R){super(R),this.url=D,on(this,R)}toString(){return er(this._root)}}function on(b,D){D.value._routerState=b,D.children.forEach(R=>on(b,R))}function er(b){const D=b.children.length>0?` { ${b.children.map(er).join(", ")} } `:"";return`${b.value}${D}`}function Tr(b){if(b.snapshot){const D=b.snapshot,R=b._futureSnapshot;b.snapshot=R,qt(D.queryParams,R.queryParams)||b.queryParamsSubject.next(R.queryParams),D.fragment!==R.fragment&&b.fragmentSubject.next(R.fragment),qt(D.params,R.params)||b.paramsSubject.next(R.params),function In(b,D){if(b.length!==D.length)return!1;for(let R=0;R<b.length;++R)if(!qt(b[R],D[R]))return!1;return!0}(D.url,R.url)||b.urlSubject.next(R.url),qt(D.data,R.data)||b.dataSubject.next(R.data)}else b.snapshot=b._futureSnapshot,b.dataSubject.next(b._futureSnapshot.data)}function zi(b,D){const R=qt(b.params,D.params)&&function Bt(b,D){return Qn(b,D)&&b.every((R,A)=>qt(R.parameters,D[A].parameters))}(b.url,D.url);return R&&!(!b.parent!=!D.parent)&&(!b.parent||zi(b.parent,D.parent))}let So=(()=>{var b;class D{constructor(){this.activated=null,this._activatedRoute=null,this.name=pe,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.parentContexts=(0,g.f3M)(at),this.location=(0,g.f3M)(g.s_b),this.changeDetector=(0,g.f3M)(g.sBO),this.environmentInjector=(0,g.f3M)(g.lqb),this.inputBinder=(0,g.f3M)(Ao,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(A){if(A.name){const{firstChange:L,previousValue:ee}=A.name;if(L)return;this.isTrackedInParentContexts(ee)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ee)),this.initializeOutletWithName()}}ngOnDestroy(){var A;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(A=this.inputBinder)||void 0===A||A.unsubscribeFromRouteData(this)}isTrackedInParentContexts(A){var L;return(null===(L=this.parentContexts.getContext(A))||void 0===L?void 0:L.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const A=this.parentContexts.getContext(this.name);null!=A&&A.route&&(A.attachRef?this.attach(A.attachRef,A.route):this.activateWith(A.route,A.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.vHH(4012,!1);this.location.detach();const A=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(A.instance),A}attach(A,L){var ee;this.activated=A,this._activatedRoute=L,this.location.insert(A.hostView),null===(ee=this.inputBinder)||void 0===ee||ee.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(A.instance)}deactivate(){if(this.activated){const A=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(A)}}activateWith(A,L){var ee;if(this.isActivated)throw new g.vHH(4013,!1);this._activatedRoute=A;const ue=this.location,ln=A.snapshot.component,xt=this.parentContexts.getOrCreateContext(this.name).children,pn=new Di(A,xt,ue.injector);this.activated=ue.createComponent(ln,{index:ue.length,injector:pn,environmentInjector:null!=L?L:this.environmentInjector}),this.changeDetector.markForCheck(),null===(ee=this.inputBinder)||void 0===ee||ee.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(b=D).\u0275fac=function(A){return new(A||b)},b.\u0275dir=g.lG2({type:b,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[g.TTD]}),D})();class Di{constructor(D,R,A){this.route=D,this.childContexts=R,this.parent=A}get(D,R){return D===zr?this.route:D===at?this.childContexts:this.parent.get(D,R)}}const Ao=new g.OlP("");function oi(b,D,R){if(R&&b.shouldReuseRoute(D.value,R.value.snapshot)){const A=R.value;A._futureSnapshot=D.value;const L=function $n(b,D,R){return D.children.map(A=>{for(const L of R.children)if(b.shouldReuseRoute(A.value,L.value.snapshot))return oi(b,A,L);return oi(b,A)})}(b,D,R);return new Mn(A,L)}{if(b.shouldAttach(D.value)){const ee=b.retrieve(D.value);if(null!==ee){const ue=ee.route;return ue.value._futureSnapshot=D.value,ue.children=D.children.map(vt=>oi(b,vt)),ue}}const A=function gs(b){return new zr(new de.X(b.url),new de.X(b.params),new de.X(b.queryParams),new de.X(b.fragment),new de.X(b.data),b.outlet,b.component,b)}(D.value),L=D.children.map(ee=>oi(b,ee));return new Mn(A,L)}}const Rs="ngNavigationCancelingError";function Mo(b,D){const{redirectTo:R,navigationBehaviorOptions:A}=Dr(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,L=di(!1,0,D);return L.url=R,L.navigationBehaviorOptions=A,L}function di(b,D,R){const A=new Error("NavigationCancelingError: "+(b||""));return A[Rs]=!0,A.cancellationCode=D,R&&(A.url=R),A}function gi(b){return b&&b[Rs]}let Jr=(()=>{var b;class D{}return(b=D).\u0275fac=function(A){return new(A||b)},b.\u0275cmp=g.Xpm({type:b,selectors:[["ng-component"]],standalone:!0,features:[g.jDz],decls:1,vars:0,template:function(A,L){1&A&&g._UZ(0,"router-outlet")},dependencies:[So],encapsulation:2}),D})();function xo(b){const D=b.children&&b.children.map(xo),R=D?{...b,children:D}:{...b};return!R.component&&!R.loadComponent&&(D||R.loadChildren)&&R.outlet&&R.outlet!==pe&&(R.component=Jr),R}function Wr(b){return b.outlet||pe}function Io(b){var D;if(!b)return null;if(null!==(D=b.routeConfig)&&void 0!==D&&D._injector)return b.routeConfig._injector;for(let R=b.parent;R;R=R.parent){const A=R.routeConfig;if(null!=A&&A._loadedInjector)return A._loadedInjector;if(null!=A&&A._injector)return A._injector}return null}class ys{constructor(D,R,A,L,ee){this.routeReuseStrategy=D,this.futureState=R,this.currState=A,this.forwardEvent=L,this.inputBindingEnabled=ee}activate(D){const R=this.futureState._root,A=this.currState?this.currState._root:null;this.deactivateChildRoutes(R,A,D),Tr(this.futureState.root),this.activateChildRoutes(R,A,D)}deactivateChildRoutes(D,R,A){const L=Hn(R);D.children.forEach(ee=>{const ue=ee.value.outlet;this.deactivateRoutes(ee,L[ue],A),delete L[ue]}),Object.values(L).forEach(ee=>{this.deactivateRouteAndItsChildren(ee,A)})}deactivateRoutes(D,R,A){const L=D.value,ee=R?R.value:null;if(L===ee)if(L.component){const ue=A.getContext(L.outlet);ue&&this.deactivateChildRoutes(D,R,ue.children)}else this.deactivateChildRoutes(D,R,A);else ee&&this.deactivateRouteAndItsChildren(R,A)}deactivateRouteAndItsChildren(D,R){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,R):this.deactivateRouteAndOutlet(D,R)}detachAndStoreRouteSubtree(D,R){const A=R.getContext(D.value.outlet),L=A&&D.value.component?A.children:R,ee=Hn(D);for(const ue of Object.keys(ee))this.deactivateRouteAndItsChildren(ee[ue],L);if(A&&A.outlet){const ue=A.outlet.detach(),vt=A.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:ue,route:D,contexts:vt})}}deactivateRouteAndOutlet(D,R){const A=R.getContext(D.value.outlet),L=A&&D.value.component?A.children:R,ee=Hn(D);for(const ue of Object.keys(ee))this.deactivateRouteAndItsChildren(ee[ue],L);A&&(A.outlet&&(A.outlet.deactivate(),A.children.onOutletDeactivated()),A.attachRef=null,A.route=null)}activateChildRoutes(D,R,A){const L=Hn(R);D.children.forEach(ee=>{this.activateRoutes(ee,L[ee.value.outlet],A),this.forwardEvent(new sn(ee.value.snapshot))}),D.children.length&&this.forwardEvent(new Rt(D.value.snapshot))}activateRoutes(D,R,A){const L=D.value,ee=R?R.value:null;if(Tr(L),L===ee)if(L.component){const ue=A.getOrCreateContext(L.outlet);this.activateChildRoutes(D,R,ue.children)}else this.activateChildRoutes(D,R,A);else if(L.component){const ue=A.getOrCreateContext(L.outlet);if(this.routeReuseStrategy.shouldAttach(L.snapshot)){const vt=this.routeReuseStrategy.retrieve(L.snapshot);this.routeReuseStrategy.store(L.snapshot,null),ue.children.onOutletReAttached(vt.contexts),ue.attachRef=vt.componentRef,ue.route=vt.route.value,ue.outlet&&ue.outlet.attach(vt.componentRef,vt.route.value),Tr(vt.route.value),this.activateChildRoutes(D,null,ue.children)}else{const vt=Io(L.snapshot);ue.attachRef=null,ue.route=L,ue.injector=vt,ue.outlet&&ue.outlet.activateWith(L,ue.injector),this.activateChildRoutes(D,null,ue.children)}}else this.activateChildRoutes(D,null,A)}}class Wi{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class Ci{constructor(D,R){this.component=D,this.route=R}}function Yo(b,D,R){const A=b._root;return Pi(A,D?D._root:null,R,[A.value])}function Ro(b,D){const R=Symbol(),A=D.get(b,R);return A===R?"function"!=typeof b||(0,g.Z0I)(b)?D.get(b):b:A}function Pi(b,D,R,A,L={canDeactivateChecks:[],canActivateChecks:[]}){const ee=Hn(D);return b.children.forEach(ue=>{(function _s(b,D,R,A,L={canDeactivateChecks:[],canActivateChecks:[]}){const ee=b.value,ue=D?D.value:null,vt=R?R.getContext(b.value.outlet):null;if(ue&&ee.routeConfig===ue.routeConfig){const ln=function js(b,D,R){if("function"==typeof R)return R(b,D);switch(R){case"pathParamsChange":return!Qn(b.url,D.url);case"pathParamsOrQueryParamsChange":return!Qn(b.url,D.url)||!qt(b.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zi(b,D)||!qt(b.queryParams,D.queryParams);default:return!zi(b,D)}}(ue,ee,ee.routeConfig.runGuardsAndResolvers);ln?L.canActivateChecks.push(new Wi(A)):(ee.data=ue.data,ee._resolvedData=ue._resolvedData),Pi(b,D,ee.component?vt?vt.children:null:R,A,L),ln&&vt&&vt.outlet&&vt.outlet.isActivated&&L.canDeactivateChecks.push(new Ci(vt.outlet.component,ue))}else ue&&ws(D,vt,L),L.canActivateChecks.push(new Wi(A)),Pi(b,null,ee.component?vt?vt.children:null:R,A,L)})(ue,ee[ue.value.outlet],R,A.concat([ue.value]),L),delete ee[ue.value.outlet]}),Object.entries(ee).forEach(([ue,vt])=>ws(vt,R.getContext(ue),L)),L}function ws(b,D,R){const A=Hn(b),L=b.value;Object.entries(A).forEach(([ee,ue])=>{ws(ue,L.component?D?D.children.getContext(ee):null:D,R)}),R.canDeactivateChecks.push(new Ci(L.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,L))}function ss(b){return"function"==typeof b}function z(b){return b instanceof He.K||"EmptyError"===(null==b?void 0:b.name)}const P=Symbol("INITIAL_VALUE");function ie(){return(0,Le.w)(b=>(0,Ne.a)(b.map(D=>D.pipe((0,be.q)(1),(0,Z.O)(P)))).pipe((0,ke.U)(D=>{for(const R of D)if(!0!==R){if(R===P)return P;if(!1===R||R instanceof fr)return R}return!0}),(0,me.h)(D=>D!==P),(0,be.q)(1)))}function hn(b){return(0,Ee.z)((0,ct.b)(D=>{if(Dr(D))throw Mo(0,D)}),(0,ke.U)(D=>!0===D))}class tr{constructor(D){this.segmentGroup=D||null}}class dr{constructor(D){this.urlTree=D}}function ki(b){return Re(new tr(b))}function mi(b){return Re(new dr(b))}class Ko{constructor(D,R){this.urlSerializer=D,this.urlTree=R}noMatchError(D){return new g.vHH(4002,!1)}lineralizeSegments(D,R){let A=[],L=R.root;for(;;){if(A=A.concat(L.segments),0===L.numberOfChildren)return(0,Te.of)(A);if(L.numberOfChildren>1||!L.children[pe])return Re(new g.vHH(4e3,!1));L=L.children[pe]}}applyRedirectCommands(D,R,A){return this.applyRedirectCreateUrlTree(R,this.urlSerializer.parse(R),D,A)}applyRedirectCreateUrlTree(D,R,A,L){const ee=this.createSegmentGroup(D,R.root,A,L);return new fr(ee,this.createQueryParams(R.queryParams,this.urlTree.queryParams),R.fragment)}createQueryParams(D,R){const A={};return Object.entries(D).forEach(([L,ee])=>{if("string"==typeof ee&&ee.startsWith(":")){const vt=ee.substring(1);A[L]=R[vt]}else A[L]=ee}),A}createSegmentGroup(D,R,A,L){const ee=this.createSegments(D,R.segments,A,L);let ue={};return Object.entries(R.children).forEach(([vt,ln])=>{ue[vt]=this.createSegmentGroup(D,ln,A,L)}),new en(ee,ue)}createSegments(D,R,A,L){return R.map(ee=>ee.path.startsWith(":")?this.findPosParam(D,ee,L):this.findOrReturn(ee,A))}findPosParam(D,R,A){const L=A[R.path.substring(1)];if(!L)throw new g.vHH(4001,!1);return L}findOrReturn(D,R){let A=0;for(const L of R){if(L.path===D.path)return R.splice(A),L;A++}return D}}const Fi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Zo(b,D,R,A,L){const ee=Qi(b,D,R);return ee.matched?(A=function ro(b,D){var R;return b.providers&&!b._injector&&(b._injector=(0,g.MMx)(b.providers,D,`Route: ${b.path}`)),null!==(R=b._injector)&&void 0!==R?R:D}(D,A),function vn(b,D,R,A){const L=D.canMatch;if(!L||0===L.length)return(0,Te.of)(!0);const ee=L.map(ue=>{const vt=Ro(ue,b);return En(function hi(b){return b&&ss(b.canMatch)}(vt)?vt.canMatch(D,R):b.runInContext(()=>vt(D,R)))});return(0,Te.of)(ee).pipe(ie(),hn())}(A,D,R).pipe((0,ke.U)(ue=>!0===ue?ee:{...Fi}))):(0,Te.of)(ee)}function Qi(b,D,R){var A,L;if(""===D.path)return"full"===D.pathMatch&&(b.hasChildren()||R.length>0)?{...Fi}:{matched:!0,consumedSegments:[],remainingSegments:R,parameters:{},positionalParamSegments:{}};const ue=(D.matcher||Zt)(R,b,D);if(!ue)return{...Fi};const vt={};Object.entries(null!==(A=ue.posParams)&&void 0!==A?A:{}).forEach(([xt,pn])=>{vt[xt]=pn.path});const ln=ue.consumed.length>0?{...vt,...ue.consumed[ue.consumed.length-1].parameters}:vt;return{matched:!0,consumedSegments:ue.consumed,remainingSegments:R.slice(ue.consumed.length),parameters:ln,positionalParamSegments:null!==(L=ue.posParams)&&void 0!==L?L:{}}}function Ji(b,D,R,A){return R.length>0&&function qs(b,D,R){return R.some(A=>Ys(b,D,A)&&Wr(A)!==pe)}(b,R,A)?{segmentGroup:new en(D,pa(A,new en(R,b.children))),slicedSegments:[]}:0===R.length&&function ga(b,D,R){return R.some(A=>Ys(b,D,A))}(b,R,A)?{segmentGroup:new en(b.segments,ka(b,0,R,A,b.children)),slicedSegments:R}:{segmentGroup:new en(b.segments,b.children),slicedSegments:R}}function ka(b,D,R,A,L){const ee={};for(const ue of A)if(Ys(b,R,ue)&&!L[Wr(ue)]){const vt=new en([],{});ee[Wr(ue)]=vt}return{...L,...ee}}function pa(b,D){const R={};R[pe]=D;for(const A of b)if(""===A.path&&Wr(A)!==pe){const L=new en([],{});R[Wr(A)]=L}return R}function Ys(b,D,R){return(!(b.hasChildren()||D.length>0)||"full"!==R.pathMatch)&&""===R.path}class Ks{constructor(D,R,A,L,ee,ue,vt){this.injector=D,this.configLoader=R,this.rootComponentType=A,this.config=L,this.urlTree=ee,this.paramsInheritanceStrategy=ue,this.urlSerializer=vt,this.allowRedirects=!0,this.applyRedirects=new Ko(this.urlSerializer,this.urlTree)}noMatchError(D){return new g.vHH(4002,!1)}recognize(){const D=Ji(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,D,pe).pipe(Pt(R=>{if(R instanceof dr)return this.allowRedirects=!1,this.urlTree=R.urlTree,this.match(R.urlTree);throw R instanceof tr?this.noMatchError(R):R}),(0,ke.U)(R=>{const A=new lo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},pe,this.rootComponentType,null,{}),L=new Mn(A,R),ee=new $r("",L),ue=function Ni(b,D,R=null,A=null){return xr(Vi(b),D,R,A)}(A,[],this.urlTree.queryParams,this.urlTree.fragment);return ue.queryParams=this.urlTree.queryParams,ee.url=this.urlSerializer.serialize(ue),this.inheritParamsAndData(ee._root),{state:ee,tree:ue}}))}match(D){return this.processSegmentGroup(this.injector,this.config,D.root,pe).pipe(Pt(A=>{throw A instanceof tr?this.noMatchError(A):A}))}inheritParamsAndData(D){const R=D.value,A=No(R,this.paramsInheritanceStrategy);R.params=Object.freeze(A.params),R.data=Object.freeze(A.data),D.children.forEach(L=>this.inheritParamsAndData(L))}processSegmentGroup(D,R,A,L){return 0===A.segments.length&&A.hasChildren()?this.processChildren(D,R,A):this.processSegment(D,R,A,A.segments,L,!0)}processChildren(D,R,A){const L=[];for(const ee of Object.keys(A.children))"primary"===ee?L.unshift(ee):L.push(ee);return(0,Se.D)(L).pipe(je(ee=>{const ue=A.children[ee],vt=function Gi(b,D){const R=b.filter(A=>Wr(A)===D);return R.push(...b.filter(A=>Wr(A)!==D)),R}(R,ee);return this.processSegmentGroup(D,vt,ue,ee)}),(0,Tt.R)((ee,ue)=>(ee.push(...ue),ee)),(0,Lt.d)(null),function Oe(b,D){const R=arguments.length>=2;return A=>A.pipe(b?(0,me.h)((L,ee)=>b(L,ee,A)):ge.y,We(1),R?(0,Lt.d)(D):(0,ae.T)(()=>new He.K))}(),(0,Be.z)(ee=>{if(null===ee)return ki(A);const ue=Za(ee);return function aa(b){b.sort((D,R)=>D.value.outlet===pe?-1:R.value.outlet===pe?1:D.value.outlet.localeCompare(R.value.outlet))}(ue),(0,Te.of)(ue)}))}processSegment(D,R,A,L,ee,ue){return(0,Se.D)(R).pipe(je(vt=>{var ln;return this.processSegmentAgainstRoute(null!==(ln=vt._injector)&&void 0!==ln?ln:D,R,vt,A,L,ee,ue).pipe(Pt(xt=>{if(xt instanceof tr)return(0,Te.of)(null);throw xt}))}),(0,Je.P)(vt=>!!vt),Pt(vt=>{if(z(vt))return function oa(b,D,R){return 0===D.length&&!b.children[R]}(A,L,ee)?(0,Te.of)([]):ki(A);throw vt}))}processSegmentAgainstRoute(D,R,A,L,ee,ue,vt){return function ia(b,D,R,A){return!!(Wr(b)===A||A!==pe&&Ys(D,R,b))&&("**"===b.path||Qi(D,b,R).matched)}(A,L,ee,ue)?void 0===A.redirectTo?this.matchSegmentAgainstRoute(D,L,A,ee,ue,vt):vt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,L,R,A,ee,ue):ki(L):ki(L)}expandSegmentAgainstRouteUsingRedirect(D,R,A,L,ee,ue){return"**"===L.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,A,L,ue):this.expandRegularSegmentAgainstRouteUsingRedirect(D,R,A,L,ee,ue)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,R,A,L){const ee=this.applyRedirects.applyRedirectCommands([],A.redirectTo,{});return A.redirectTo.startsWith("/")?mi(ee):this.applyRedirects.lineralizeSegments(A,ee).pipe((0,Be.z)(ue=>{const vt=new en(ue,{});return this.processSegment(D,R,vt,ue,L,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,R,A,L,ee,ue){const{matched:vt,consumedSegments:ln,remainingSegments:xt,positionalParamSegments:pn}=Qi(R,L,ee);if(!vt)return ki(R);const Vn=this.applyRedirects.applyRedirectCommands(ln,L.redirectTo,pn);return L.redirectTo.startsWith("/")?mi(Vn):this.applyRedirects.lineralizeSegments(L,Vn).pipe((0,Be.z)(Gr=>this.processSegment(D,A,R,Gr.concat(xt),ue,!1)))}matchSegmentAgainstRoute(D,R,A,L,ee,ue){let vt;if("**"===A.path){var ln,xt;const pn=L.length>0?Tn(L).parameters:{},Vn=new lo(L,pn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Qa(A),Wr(A),null!==(ln=null!==(xt=A.component)&&void 0!==xt?xt:A._loadedComponent)&&void 0!==ln?ln:null,A,Is(A));vt=(0,Te.of)({snapshot:Vn,consumedSegments:[],remainingSegments:[]}),R.children={}}else vt=Zo(R,A,L,D).pipe((0,ke.U)(({matched:pn,consumedSegments:Vn,remainingSegments:Gr,parameters:uo})=>{var wr,Ti;return pn?{snapshot:new lo(Vn,uo,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Qa(A),Wr(A),null!==(wr=null!==(Ti=A.component)&&void 0!==Ti?Ti:A._loadedComponent)&&void 0!==wr?wr:null,A,Is(A)),consumedSegments:Vn,remainingSegments:Gr}:null}));return vt.pipe((0,Le.w)(pn=>{var Vn;return null===pn?ki(R):(D=null!==(Vn=A._injector)&&void 0!==Vn?Vn:D,this.getChildConfig(D,A,L).pipe((0,Le.w)(({routes:Gr})=>{var uo;const wr=null!==(uo=A._loadedInjector)&&void 0!==uo?uo:D,{snapshot:Ti,consumedSegments:Uo,remainingSegments:ht}=pn,{segmentGroup:cs,slicedSegments:bo}=Ji(R,Uo,ht,Gr);if(0===bo.length&&cs.hasChildren())return this.processChildren(wr,Gr,cs).pipe((0,ke.U)(Xo=>null===Xo?null:[new Mn(Ti,Xo)]));if(0===Gr.length&&0===bo.length)return(0,Te.of)([new Mn(Ti,[])]);const $a=Wr(A)===ee;return this.processSegment(wr,Gr,cs,bo,$a?pe:ee,!0).pipe((0,ke.U)(Xo=>[new Mn(Ti,Xo)]))})))}))}getChildConfig(D,R,A){return R.children?(0,Te.of)({routes:R.children,injector:D}):R.loadChildren?void 0!==R._loadedRoutes?(0,Te.of)({routes:R._loadedRoutes,injector:R._loadedInjector}):function Ct(b,D,R,A){const L=D.canLoad;if(void 0===L||0===L.length)return(0,Te.of)(!0);const ee=L.map(ue=>{const vt=Ro(ue,b);return En(function zs(b){return b&&ss(b.canLoad)}(vt)?vt.canLoad(D,R):b.runInContext(()=>vt(D,R)))});return(0,Te.of)(ee).pipe(ie(),hn())}(D,R,A).pipe((0,Be.z)(L=>L?this.configLoader.loadChildren(D,R).pipe((0,ct.b)(ee=>{R._loadedRoutes=ee.routes,R._loadedInjector=ee.injector})):function as(b){return Re(di(!1,3))}())):(0,Te.of)({routes:[],injector:D})}}function Ka(b){const D=b.value.routeConfig;return D&&""===D.path}function Za(b){const D=[],R=new Set;for(const A of b){if(!Ka(A)){D.push(A);continue}const L=D.find(ee=>A.value.routeConfig===ee.value.routeConfig);void 0!==L?(L.children.push(...A.children),R.add(L)):D.push(A)}for(const A of R){const L=Za(A.children);D.push(new Mn(A.value,L))}return D.filter(A=>!R.has(A))}function Qa(b){return b.data||{}}function Is(b){return b.resolve||{}}function T(b){return"string"==typeof b.title||null===b.title}function V(b){return(0,Le.w)(D=>{const R=b(D);return R?(0,Se.D)(R).pipe((0,ke.U)(()=>D)):(0,Te.of)(D)})}const Ie=new g.OlP("ROUTES");let F=(()=>{var b;class D{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,g.f3M)(g.Sil)}loadComponent(A){if(this.componentLoaders.get(A))return this.componentLoaders.get(A);if(A._loadedComponent)return(0,Te.of)(A._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(A);const L=En(A.loadComponent()).pipe((0,ke.U)(Fe),(0,ct.b)(ue=>{this.onLoadEndListener&&this.onLoadEndListener(A),A._loadedComponent=ue}),tt(()=>{this.componentLoaders.delete(A)})),ee=new ut(L,()=>new Qe.x).pipe(et());return this.componentLoaders.set(A,ee),ee}loadChildren(A,L){if(this.childrenLoaders.get(L))return this.childrenLoaders.get(L);if(L._loadedRoutes)return(0,Te.of)({routes:L._loadedRoutes,injector:L._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(L);const ue=this.loadModuleFactoryOrRoutes(L.loadChildren).pipe((0,ke.U)(ln=>{this.onLoadEndListener&&this.onLoadEndListener(L);let xt,pn;return Array.isArray(ln)?pn=ln:(xt=ln.create(A).injector,pn=xt.get(Ie,[],g.XFs.Self|g.XFs.Optional).flat()),{routes:pn.map(xo),injector:xt}}),tt(()=>{this.childrenLoaders.delete(L)})),vt=new ut(ue,()=>new Qe.x).pipe(et());return this.childrenLoaders.set(L,vt),vt}loadModuleFactoryOrRoutes(A){return En(A()).pipe((0,ke.U)(Fe),(0,Be.z)(L=>L instanceof g.YKP||Array.isArray(L)?(0,Te.of)(L):(0,Se.D)(this.compiler.compileModuleAsync(L))))}}return(b=D).\u0275fac=function(A){return new(A||b)},b.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),D})();function Fe(b){return function le(b){return b&&"object"==typeof b&&"default"in b}(b)?b.default:b}let gt=(()=>{var b;class D{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Qe.x,this.transitionAbortSubject=new Qe.x,this.configLoader=(0,g.f3M)(F),this.environmentInjector=(0,g.f3M)(g.lqb),this.urlSerializer=(0,g.f3M)(Jn),this.rootContexts=(0,g.f3M)(at),this.inputBindingEnabled=null!==(0,g.f3M)(Ao,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Te.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ee=>this.events.next(new bt(ee)),this.configLoader.onLoadStartListener=ee=>this.events.next(new st(ee))}complete(){var A;null===(A=this.transitions)||void 0===A||A.complete()}handleNavigationRequest(A){var L;const ee=++this.navigationId;null===(L=this.transitions)||void 0===L||L.next({...this.transitions.value,...A,id:ee})}setupNavigations(A,L,ee){return this.transitions=new de.X({id:0,currentUrlTree:L,currentRawUrl:L,currentBrowserUrl:L,extractedUrl:A.urlHandlingStrategy.extract(L),urlAfterRedirects:A.urlHandlingStrategy.extract(L),rawUrl:L,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Zi,restoredState:null,currentSnapshot:ee.snapshot,targetSnapshot:null,currentRouterState:ee,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,me.h)(ue=>0!==ue.id),(0,ke.U)(ue=>({...ue,extractedUrl:A.urlHandlingStrategy.extract(ue.rawUrl)})),(0,Le.w)(ue=>{this.currentTransition=ue;let vt=!1,ln=!1;return(0,Te.of)(ue).pipe((0,ct.b)(xt=>{this.currentNavigation={id:xt.id,initialUrl:xt.rawUrl,extractedUrl:xt.extractedUrl,trigger:xt.source,extras:xt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Le.w)(xt=>{var pn;const Vn=xt.currentBrowserUrl.toString(),Gr=!A.navigated||xt.extractedUrl.toString()!==Vn||Vn!==xt.currentUrlTree.toString(),uo=null!==(pn=xt.extras.onSameUrlNavigation)&&void 0!==pn?pn:A.onSameUrlNavigation;if(!Gr&&"reload"!==uo){const wr="";return this.events.next(new Hi(xt.id,this.urlSerializer.serialize(xt.rawUrl),wr,0)),xt.resolve(null),$e.E}if(A.urlHandlingStrategy.shouldProcessUrl(xt.rawUrl))return(0,Te.of)(xt).pipe((0,Le.w)(wr=>{var Ti,Uo;const ht=null===(Ti=this.transitions)||void 0===Ti?void 0:Ti.getValue();return this.events.next(new ji(wr.id,this.urlSerializer.serialize(wr.extractedUrl),wr.source,wr.restoredState)),ht!==(null===(Uo=this.transitions)||void 0===Uo?void 0:Uo.getValue())?$e.E:Promise.resolve(wr)}),function _l(b,D,R,A,L,ee){return(0,Be.z)(ue=>function sa(b,D,R,A,L,ee,ue="emptyOnly"){return new Ks(b,D,R,A,L,ue,ee).recognize()}(b,D,R,A,ue.extractedUrl,L,ee).pipe((0,ke.U)(({state:vt,tree:ln})=>({...ue,targetSnapshot:vt,urlAfterRedirects:ln}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,A.config,this.urlSerializer,A.paramsInheritanceStrategy),(0,ct.b)(wr=>{ue.targetSnapshot=wr.targetSnapshot,ue.urlAfterRedirects=wr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:wr.urlAfterRedirects};const Ti=new Q(wr.id,this.urlSerializer.serialize(wr.extractedUrl),this.urlSerializer.serialize(wr.urlAfterRedirects),wr.targetSnapshot);this.events.next(Ti)}));if(Gr&&A.urlHandlingStrategy.shouldProcessUrl(xt.currentRawUrl)){const{id:wr,extractedUrl:Ti,source:Uo,restoredState:ht,extras:cs}=xt,bo=new ji(wr,this.urlSerializer.serialize(Ti),Uo,ht);this.events.next(bo);const $a=Qr(0,this.rootComponentType).snapshot;return this.currentTransition=ue={...xt,targetSnapshot:$a,urlAfterRedirects:Ti,extras:{...cs,skipLocationChange:!1,replaceUrl:!1}},(0,Te.of)(ue)}{const wr="";return this.events.next(new Hi(xt.id,this.urlSerializer.serialize(xt.extractedUrl),wr,1)),xt.resolve(null),$e.E}}),(0,ct.b)(xt=>{const pn=new W(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(xt.urlAfterRedirects),xt.targetSnapshot);this.events.next(pn)}),(0,ke.U)(xt=>(this.currentTransition=ue={...xt,guards:Yo(xt.targetSnapshot,xt.currentSnapshot,this.rootContexts)},ue)),function j(b,D){return(0,Be.z)(R=>{const{targetSnapshot:A,currentSnapshot:L,guards:{canActivateChecks:ee,canDeactivateChecks:ue}}=R;return 0===ue.length&&0===ee.length?(0,Te.of)({...R,guardsResult:!0}):function fe(b,D,R,A){return(0,Se.D)(b).pipe((0,Be.z)(L=>function se(b,D,R,A,L){const ee=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!ee||0===ee.length)return(0,Te.of)(!0);const ue=ee.map(vt=>{var ln;const xt=null!==(ln=Io(D))&&void 0!==ln?ln:L,pn=Ro(vt,xt);return En(function yl(b){return b&&ss(b.canDeactivate)}(pn)?pn.canDeactivate(b,D,R,A):xt.runInContext(()=>pn(b,D,R,A))).pipe((0,Je.P)())});return(0,Te.of)(ue).pipe(ie())}(L.component,L.route,R,D,A)),(0,Je.P)(L=>!0!==L,!0))}(ue,A,L,b).pipe((0,Be.z)(vt=>vt&&function Hs(b){return"boolean"==typeof b}(vt)?function Vt(b,D,R,A){return(0,Se.D)(D).pipe(je(L=>(0,he.z)(function $(b,D){return null!==b&&D&&D(new Ft(b)),(0,Te.of)(!0)}(L.route.parent,A),function y(b,D){return null!==b&&D&&D(new $t(b)),(0,Te.of)(!0)}(L.route,A),function k(b,D,R){const A=D[D.length-1],ee=D.slice(0,D.length-1).reverse().map(ue=>function qi(b){const D=b.routeConfig?b.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:b,guards:D}:null}(ue)).filter(ue=>null!==ue).map(ue=>Me(()=>{const vt=ue.guards.map(ln=>{var xt;const pn=null!==(xt=Io(ue.node))&&void 0!==xt?xt:R,Vn=Ro(ln,pn);return En(function Na(b){return b&&ss(b.canActivateChild)}(Vn)?Vn.canActivateChild(A,b):pn.runInContext(()=>Vn(A,b))).pipe((0,Je.P)())});return(0,Te.of)(vt).pipe(ie())}));return(0,Te.of)(ee).pipe(ie())}(b,L.path,R),function I(b,D,R){const A=D.routeConfig?D.routeConfig.canActivate:null;if(!A||0===A.length)return(0,Te.of)(!0);const L=A.map(ee=>Me(()=>{var ue;const vt=null!==(ue=Io(D))&&void 0!==ue?ue:R,ln=Ro(ee,vt);return En(function Gs(b){return b&&ss(b.canActivate)}(ln)?ln.canActivate(D,b):vt.runInContext(()=>ln(D,b))).pipe((0,Je.P)())}));return(0,Te.of)(L).pipe(ie())}(b,L.route,R))),(0,Je.P)(L=>!0!==L,!0))}(A,ee,b,D):(0,Te.of)(vt)),(0,ke.U)(vt=>({...R,guardsResult:vt})))})}(this.environmentInjector,xt=>this.events.next(xt)),(0,ct.b)(xt=>{if(ue.guardsResult=xt.guardsResult,Dr(xt.guardsResult))throw Mo(0,xt.guardsResult);const pn=new ye(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(xt.urlAfterRedirects),xt.targetSnapshot,!!xt.guardsResult);this.events.next(pn)}),(0,me.h)(xt=>!!xt.guardsResult||(this.cancelNavigationTransition(xt,"",3),!1)),V(xt=>{if(xt.guards.canActivateChecks.length)return(0,Te.of)(xt).pipe((0,ct.b)(pn=>{const Vn=new xe(pn.id,this.urlSerializer.serialize(pn.extractedUrl),this.urlSerializer.serialize(pn.urlAfterRedirects),pn.targetSnapshot);this.events.next(Vn)}),(0,Le.w)(pn=>{let Vn=!1;return(0,Te.of)(pn).pipe(function ma(b,D){return(0,Be.z)(R=>{const{targetSnapshot:A,guards:{canActivateChecks:L}}=R;if(!L.length)return(0,Te.of)(R);let ee=0;return(0,Se.D)(L).pipe(je(ue=>function Fa(b,D,R,A){const L=b.routeConfig,ee=b._resolve;return void 0!==(null==L?void 0:L.title)&&!T(L)&&(ee[dt]=L.title),function Ds(b,D,R,A){const L=function Os(b){return[...Object.keys(b),...Object.getOwnPropertySymbols(b)]}(b);if(0===L.length)return(0,Te.of)({});const ee={};return(0,Se.D)(L).pipe((0,Be.z)(ue=>function Bo(b,D,R,A){var L;const ee=null!==(L=Io(D))&&void 0!==L?L:A,ue=Ro(b,ee);return En(ue.resolve?ue.resolve(D,R):ee.runInContext(()=>ue(D,R)))}(b[ue],D,R,A).pipe((0,Je.P)(),(0,ct.b)(vt=>{ee[ue]=vt}))),We(1),function ze(b){return(0,ke.U)(()=>b)}(ee),Pt(ue=>z(ue)?$e.E:Re(ue)))}(ee,b,D,A).pipe((0,ke.U)(ue=>(b._resolvedData=ue,b.data=No(b,R).resolve,L&&T(L)&&(b.data[dt]=L.title),null)))}(ue.route,A,b,D)),(0,ct.b)(()=>ee++),We(1),(0,Be.z)(ue=>ee===L.length?(0,Te.of)(R):$e.E))})}(A.paramsInheritanceStrategy,this.environmentInjector),(0,ct.b)({next:()=>Vn=!0,complete:()=>{Vn||this.cancelNavigationTransition(pn,"",2)}}))}),(0,ct.b)(pn=>{const Vn=new pt(pn.id,this.urlSerializer.serialize(pn.extractedUrl),this.urlSerializer.serialize(pn.urlAfterRedirects),pn.targetSnapshot);this.events.next(Vn)}))}),V(xt=>{const pn=Vn=>{var Gr;const uo=[];null!==(Gr=Vn.routeConfig)&&void 0!==Gr&&Gr.loadComponent&&!Vn.routeConfig._loadedComponent&&uo.push(this.configLoader.loadComponent(Vn.routeConfig).pipe((0,ct.b)(wr=>{Vn.component=wr}),(0,ke.U)(()=>{})));for(const wr of Vn.children)uo.push(...pn(wr));return uo};return(0,Ne.a)(pn(xt.targetSnapshot.root)).pipe((0,Lt.d)(),(0,be.q)(1))}),V(()=>this.afterPreactivation()),(0,ke.U)(xt=>{const pn=function yo(b,D,R){const A=oi(b,D._root,R?R._root:void 0);return new ur(A,D)}(A.routeReuseStrategy,xt.targetSnapshot,xt.currentRouterState);return this.currentTransition=ue={...xt,targetRouterState:pn},ue}),(0,ct.b)(()=>{this.events.next(new An)}),((b,D,R,A)=>(0,ke.U)(L=>(new ys(D,L.targetRouterState,L.currentRouterState,R,A).activate(b),L)))(this.rootContexts,A.routeReuseStrategy,xt=>this.events.next(xt),this.inputBindingEnabled),(0,be.q)(1),(0,ct.b)({next:xt=>{var pn;vt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new wi(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(xt.urlAfterRedirects))),null===(pn=A.titleStrategy)||void 0===pn||pn.updateTitle(xt.targetRouterState.snapshot),xt.resolve(!0)},complete:()=>{vt=!0}}),function Nt(b){return(0,De.e)((D,R)=>{(0,oe.Xf)(b).subscribe((0,_e.x)(R,()=>R.complete(),Ze.Z)),!R.closed&&D.subscribe(R)})}(this.transitionAbortSubject.pipe((0,ct.b)(xt=>{throw xt}))),tt(()=>{var xt;vt||ln||this.cancelNavigationTransition(ue,"",1),(null===(xt=this.currentNavigation)||void 0===xt?void 0:xt.id)===ue.id&&(this.currentNavigation=null)}),Pt(xt=>{if(ln=!0,gi(xt))this.events.next(new no(ue.id,this.urlSerializer.serialize(ue.extractedUrl),xt.message,xt.cancellationCode)),function ms(b){return gi(b)&&Dr(b.url)}(xt)?this.events.next(new gr(xt.url)):ue.resolve(!1);else{var pn;this.events.next(new Lr(ue.id,this.urlSerializer.serialize(ue.extractedUrl),xt,null!==(pn=ue.targetSnapshot)&&void 0!==pn?pn:void 0));try{ue.resolve(A.errorHandler(xt))}catch(Vn){ue.reject(Vn)}}return $e.E}))}))}cancelNavigationTransition(A,L,ee){const ue=new no(A.id,this.urlSerializer.serialize(A.extractedUrl),L,ee);this.events.next(ue),A.resolve(!1)}}return(b=D).\u0275fac=function(A){return new(A||b)},b.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),D})();function an(b){return b!==Zi}let xn=(()=>{var b;class D{buildTitle(A){let L,ee=A.root;for(;void 0!==ee;){var ue;L=null!==(ue=this.getResolvedTitleForRoute(ee))&&void 0!==ue?ue:L,ee=ee.children.find(vt=>vt.outlet===pe)}return L}getResolvedTitleForRoute(A){return A.data[dt]}}return(b=D).\u0275fac=function(A){return new(A||b)},b.\u0275prov=g.Yz7({token:b,factory:function(){return(0,g.f3M)(hr)},providedIn:"root"}),D})(),hr=(()=>{var b;class D extends xn{constructor(A){super(),this.title=A}updateTitle(A){const L=this.buildTitle(A);void 0!==L&&this.title.setTitle(L)}}return(b=D).\u0275fac=function(A){return new(A||b)(g.LFG(It.Dx))},b.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),D})(),br=(()=>{var b;class D{}return(b=D).\u0275fac=function(A){return new(A||b)},b.\u0275prov=g.Yz7({token:b,factory:function(){return(0,g.f3M)(ti)},providedIn:"root"}),D})();class Gn{shouldDetach(D){return!1}store(D,R){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,R){return D.routeConfig===R.routeConfig}}let ti=(()=>{var b;class D extends Gn{}return(b=D).\u0275fac=function(){let R;return function(L){return(R||(R=g.n5z(b)))(L||b)}}(),b.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),D})();const Rr=new g.OlP("",{providedIn:"root",factory:()=>({})});let qr=(()=>{var b;class D{}return(b=D).\u0275fac=function(A){return new(A||b)},b.\u0275prov=g.Yz7({token:b,factory:function(){return(0,g.f3M)(Ur)},providedIn:"root"}),D})(),Ur=(()=>{var b;class D{shouldProcessUrl(A){return!0}extract(A){return A}merge(A,L){return A}}return(b=D).\u0275fac=function(A){return new(A||b)},b.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),D})();var vi=function(b){return b[b.COMPLETE=0]="COMPLETE",b[b.FAILED=1]="FAILED",b[b.REDIRECTING=2]="REDIRECTING",b}(vi||{});function Vo(b){throw b}function co(b,D,R){return D.parse("/")}const rs={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Cs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ko=(()=>{var b;class D{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var A,L;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(A=null===(L=this.location.getState())||void 0===L?void 0:L.\u0275routerPageId)&&void 0!==A?A:this.currentPageId}get events(){return this._events}constructor(){var A,L;this.disposed=!1,this.currentPageId=0,this.console=(0,g.f3M)(g.c2e),this.isNgZoneEnabled=!1,this._events=new Qe.x,this.options=(0,g.f3M)(Rr,{optional:!0})||{},this.pendingTasks=(0,g.f3M)(g.HDt),this.errorHandler=this.options.errorHandler||Vo,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||co,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,g.f3M)(qr),this.routeReuseStrategy=(0,g.f3M)(br),this.titleStrategy=(0,g.f3M)(xn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=null!==(A=null===(L=(0,g.f3M)(Ie,{optional:!0}))||void 0===L?void 0:L.flat())&&void 0!==A?A:[],this.navigationTransitions=(0,g.f3M)(gt),this.urlSerializer=(0,g.f3M)(Jn),this.location=(0,g.f3M)(we.Ye),this.componentInputBindingEnabled=!!(0,g.f3M)(Ao,{optional:!0}),this.eventsSubscription=new lt.w0,this.isNgZoneEnabled=(0,g.f3M)(g.R0b)instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new fr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Qr(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(ee=>{this.lastSuccessfulId=ee.id,this.currentPageId=this.browserPageId},ee=>{this.console.warn(`Unhandled Navigation Error: ${ee}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const A=this.navigationTransitions.events.subscribe(L=>{try{const{currentTransition:ee}=this.navigationTransitions;if(null===ee)return void(Il(L)&&this._events.next(L));if(L instanceof ji)an(ee.source)&&(this.browserUrlTree=ee.extractedUrl);else if(L instanceof Hi)this.rawUrlTree=ee.rawUrl;else if(L instanceof Q){if("eager"===this.urlUpdateStrategy){if(!ee.extras.skipLocationChange){const ue=this.urlHandlingStrategy.merge(ee.urlAfterRedirects,ee.rawUrl);this.setBrowserUrl(ue,ee)}this.browserUrlTree=ee.urlAfterRedirects}}else if(L instanceof An)this.currentUrlTree=ee.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ee.urlAfterRedirects,ee.rawUrl),this.routerState=ee.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ee.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ee),this.browserUrlTree=ee.urlAfterRedirects);else if(L instanceof no)0!==L.code&&1!==L.code&&(this.navigated=!0),(3===L.code||2===L.code)&&this.restoreHistory(ee);else if(L instanceof gr){const ue=this.urlHandlingStrategy.merge(L.url,ee.currentRawUrl),vt={skipLocationChange:ee.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||an(ee.source)};this.scheduleNavigation(ue,Zi,null,vt,{resolve:ee.resolve,reject:ee.reject,promise:ee.promise})}L instanceof Lr&&this.restoreHistory(ee,!0),L instanceof wi&&(this.navigated=!0),Il(L)&&this._events.next(L)}catch(ee){this.navigationTransitions.transitionAbortSubject.next(ee)}});this.eventsSubscription.add(A)}resetRootComponentType(A){this.routerState.root.component=A,this.navigationTransitions.rootComponentType=A}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const A=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Zi,A)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(A=>{const L="popstate"===A.type?"popstate":"hashchange";"popstate"===L&&setTimeout(()=>{this.navigateToSyncWithBrowser(A.url,L,A.state)},0)}))}navigateToSyncWithBrowser(A,L,ee){const ue={replaceUrl:!0},vt=null!=ee&&ee.navigationId?ee:null;if(ee){const xt={...ee};delete xt.navigationId,delete xt.\u0275routerPageId,0!==Object.keys(xt).length&&(ue.state=xt)}const ln=this.parseUrl(A);this.scheduleNavigation(ln,L,vt,ue)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(A){this.config=A.map(xo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(A,L={}){const{relativeTo:ee,queryParams:ue,fragment:vt,queryParamsHandling:ln,preserveFragment:xt}=L,pn=xt?this.currentUrlTree.fragment:vt;let Gr,Vn=null;switch(ln){case"merge":Vn={...this.currentUrlTree.queryParams,...ue};break;case"preserve":Vn=this.currentUrlTree.queryParams;break;default:Vn=ue||null}null!==Vn&&(Vn=this.removeEmptyProps(Vn));try{Gr=Vi(ee?ee.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof A[0]||!A[0].startsWith("/"))&&(A=[]),Gr=this.currentUrlTree.root}return xr(Gr,A,Vn,null!=pn?pn:null)}navigateByUrl(A,L={skipLocationChange:!1}){const ee=Dr(A)?A:this.parseUrl(A),ue=this.urlHandlingStrategy.merge(ee,this.rawUrlTree);return this.scheduleNavigation(ue,Zi,null,L)}navigate(A,L={skipLocationChange:!1}){return function Ps(b){for(let D=0;D<b.length;D++)if(null==b[D])throw new g.vHH(4008,!1)}(A),this.navigateByUrl(this.createUrlTree(A,L),L)}serializeUrl(A){return this.urlSerializer.serialize(A)}parseUrl(A){let L;try{L=this.urlSerializer.parse(A)}catch(ee){L=this.malformedUriErrorHandler(ee,this.urlSerializer,A)}return L}isActive(A,L){let ee;if(ee=!0===L?{...rs}:!1===L?{...Cs}:L,Dr(A))return Zr(this.currentUrlTree,A,ee);const ue=this.parseUrl(A);return Zr(this.currentUrlTree,ue,ee)}removeEmptyProps(A){return Object.keys(A).reduce((L,ee)=>{const ue=A[ee];return null!=ue&&(L[ee]=ue),L},{})}scheduleNavigation(A,L,ee,ue,vt){if(this.disposed)return Promise.resolve(!1);let ln,xt,pn;vt?(ln=vt.resolve,xt=vt.reject,pn=vt.promise):pn=new Promise((Gr,uo)=>{ln=Gr,xt=uo});const Vn=this.pendingTasks.add();return function yi(b,D){b.events.pipe((0,me.h)(R=>R instanceof wi||R instanceof no||R instanceof Lr||R instanceof Hi),(0,ke.U)(R=>R instanceof wi||R instanceof Hi?vi.COMPLETE:R instanceof no&&(0===R.code||1===R.code)?vi.REDIRECTING:vi.FAILED),(0,me.h)(R=>R!==vi.REDIRECTING),(0,be.q)(1)).subscribe(()=>{D()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Vn))}),this.navigationTransitions.handleNavigationRequest({source:L,restoredState:ee,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:A,extras:ue,resolve:ln,reject:xt,promise:pn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),pn.catch(Gr=>Promise.reject(Gr))}setBrowserUrl(A,L){const ee=this.urlSerializer.serialize(A);if(this.location.isCurrentPathEqualTo(ee)||L.extras.replaceUrl){const vt={...L.extras.state,...this.generateNgRouterState(L.id,this.browserPageId)};this.location.replaceState(ee,"",vt)}else{const ue={...L.extras.state,...this.generateNgRouterState(L.id,this.browserPageId+1)};this.location.go(ee,"",ue)}}restoreHistory(A,L=!1){if("computed"===this.canceledNavigationResolution){var ee;const vt=this.currentPageId-this.browserPageId;0!==vt?this.location.historyGo(vt):this.currentUrlTree===(null===(ee=this.getCurrentNavigation())||void 0===ee?void 0:ee.finalUrl)&&0===vt&&(this.resetState(A),this.browserUrlTree=A.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(L&&this.resetState(A),this.resetUrlToCurrentUrlTree())}resetState(A){this.routerState=A.currentRouterState,this.currentUrlTree=A.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,A.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(A,L){return"computed"===this.canceledNavigationResolution?{navigationId:A,\u0275routerPageId:L}:{navigationId:A}}}return(b=D).\u0275fac=function(A){return new(A||b)},b.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),D})();function Il(b){return!(b instanceof An||b instanceof gr)}let va=(()=>{var b;class D{constructor(A,L,ee,ue,vt,ln){var xt;this.router=A,this.route=L,this.tabIndexAttribute=ee,this.renderer=ue,this.el=vt,this.locationStrategy=ln,this.href=null,this.commands=null,this.onChanges=new Qe.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const pn=null===(xt=vt.nativeElement.tagName)||void 0===xt?void 0:xt.toLowerCase();this.isAnchorElement="a"===pn||"area"===pn,this.isAnchorElement?this.subscription=A.events.subscribe(Vn=>{Vn instanceof wi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(A){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",A)}ngOnChanges(A){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(A){null!=A?(this.commands=Array.isArray(A)?A:[A],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(A,L,ee,ue,vt){return!!(null===this.urlTree||this.isAnchorElement&&(0!==A||L||ee||ue||vt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var A;null===(A=this.subscription)||void 0===A||A.unsubscribe()}updateHref(){var A;this.href=null!==this.urlTree&&this.locationStrategy?null===(A=this.locationStrategy)||void 0===A?void 0:A.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const L=null===this.href?null:(0,g.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",L)}applyAttributeValue(A,L){const ee=this.renderer,ue=this.el.nativeElement;null!==L?ee.setAttribute(ue,A,L):ee.removeAttribute(ue,A)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(b=D).\u0275fac=function(A){return new(A||b)(g.Y36(ko),g.Y36(zr),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(we.S$))},b.\u0275dir=g.lG2({type:b,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(A,L){1&A&&g.NdJ("click",function(ue){return L.onClick(ue.button,ue.ctrlKey,ue.shiftKey,ue.altKey,ue.metaKey)}),2&A&&g.uIk("target",L.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",g.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",g.VuI],replaceUrl:["replaceUrl","replaceUrl",g.VuI],routerLink:"routerLink"},standalone:!0,features:[g.Xq5,g.TTD]}),D})();const ql=new g.OlP("");function Ja(b,...D){return(0,g.MR2)([{provide:Ie,multi:!0,useValue:b},[],{provide:zr,useFactory:el,deps:[ko]},{provide:g.tb,multi:!0,useFactory:Xt},D.map(R=>R.\u0275providers)])}function el(b){return b.routerState.root}function Xt(){const b=(0,g.f3M)(g.zs3);return D=>{var R,A;const L=b.get(g.z2F);if(D!==L.components[0])return;const ee=b.get(ko),ue=b.get(Li);1===b.get(Yr)&&ee.initialNavigation(),null===(R=b.get(ya,null,g.XFs.Optional))||void 0===R||R.setUpPreloading(),null===(A=b.get(ql,null,g.XFs.Optional))||void 0===A||A.init(),ee.resetRootComponentType(L.componentTypes[0]),ue.closed||(ue.next(),ue.complete(),ue.unsubscribe())}}const Li=new g.OlP("",{factory:()=>new Qe.x}),Yr=new g.OlP("",{providedIn:"root",factory:()=>1}),ya=new g.OlP("")},4303:(Jt,nt,N)=>{"use strict";N.r(nt),N.d(nt,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>Zt,_DEFAULT_ENTRY_NAME:()=>ae,_addComponent:()=>tt,_addOrOverwriteComponent:()=>Ze,_apps:()=>Oe,_clearComponents:()=>pe,_components:()=>ze,_getProvider:()=>kt,_registerComponent:()=>Nt,_removeServiceInstance:()=>It,deleteApp:()=>Tn,getApp:()=>qt,getApps:()=>Pn,initializeApp:()=>In,onLog:()=>Nn,registerVersion:()=>yn,setLogLevel:()=>Zr});var g=N(5861),m=N(4537),K=N(7879),re=N(9058),Se=N(1878);class Te{constructor(Ve){this.container=Ve}getPlatformInfoString(){return this.container.getProviders().map(Et=>{if(function de(Dt){const Ve=Dt.getComponent();return"VERSION"===(null==Ve?void 0:Ve.type)}(Et)){const Yt=Et.getImmediate();return`${Yt.library}/${Yt.version}`}return null}).filter(Et=>Et).join(" ")}}const He="@firebase/app",he=new K.Yd("@firebase/app"),ae="[DEFAULT]",ge={[He]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Oe=new Map,ze=new Map;function tt(Dt,Ve){try{Dt.container.addComponent(Ve)}catch(Et){he.debug(`Component ${Ve.name} failed to register with FirebaseApp ${Dt.name}`,Et)}}function Ze(Dt,Ve){Dt.container.addOrOverwriteComponent(Ve)}function Nt(Dt){const Ve=Dt.name;if(ze.has(Ve))return he.debug(`There were multiple attempts to register component ${Ve}.`),!1;ze.set(Ve,Dt);for(const Et of Oe.values())tt(Et,Dt);return!0}function kt(Dt,Ve){const Et=Dt.container.getProvider("heartbeat").getImmediate({optional:!0});return Et&&Et.triggerHeartbeat(),Dt.container.getProvider(Ve)}function It(Dt,Ve,Et=ae){kt(Dt,Ve).clearInstance(Et)}function pe(){ze.clear()}const mt=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class St{constructor(Ve,Et,Yt){this._isDeleted=!1,this._options=Object.assign({},Ve),this._config=Object.assign({},Et),this._name=Et.name,this._automaticDataCollectionEnabled=Et.automaticDataCollectionEnabled,this._container=Yt,this.container.addComponent(new m.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ve){this._isDeleted=Ve}checkDestroyed(){if(this.isDeleted)throw mt.create("app-deleted",{appName:this._name})}}const Zt="10.3.1";function In(Dt,Ve={}){let Et=Dt;"object"!=typeof Ve&&(Ve={name:Ve});const Yt=Object.assign({name:ae,automaticDataCollectionEnabled:!1},Ve),tn=Yt.name;if("string"!=typeof tn||!tn)throw mt.create("bad-app-name",{appName:String(tn)});if(Et||(Et=(0,re.aH)()),!Et)throw mt.create("no-options");const mn=Oe.get(tn);if(mn){if((0,re.vZ)(Et,mn.options)&&(0,re.vZ)(Yt,mn.config))return mn;throw mt.create("duplicate-app",{appName:tn})}const On=new m.H0(tn);for(const te of ze.values())On.addComponent(te);const Pe=new St(Et,Yt,On);return Oe.set(tn,Pe),Pe}function qt(Dt=ae){const Ve=Oe.get(Dt);if(!Ve&&Dt===ae&&(0,re.aH)())return In();if(!Ve)throw mt.create("no-app",{appName:Dt});return Ve}function Pn(){return Array.from(Oe.values())}function Tn(Dt){return En.apply(this,arguments)}function En(){return(En=(0,g.Z)(function*(Dt){const Ve=Dt.name;Oe.has(Ve)&&(Oe.delete(Ve),yield Promise.all(Dt.container.getProviders().map(Et=>Et.delete())),Dt.isDeleted=!0)})).apply(this,arguments)}function yn(Dt,Ve,Et){var Yt;let tn=null!==(Yt=ge[Dt])&&void 0!==Yt?Yt:Dt;Et&&(tn+=`-${Et}`);const mn=tn.match(/\s|\//),On=Ve.match(/\s|\//);if(mn||On){const Pe=[`Unable to register library "${tn}" with version "${Ve}":`];return mn&&Pe.push(`library name "${tn}" contains illegal characters (whitespace or "/")`),mn&&On&&Pe.push("and"),On&&Pe.push(`version name "${Ve}" contains illegal characters (whitespace or "/")`),void he.warn(Pe.join(" "))}Nt(new m.wA(`${tn}-version`,()=>({library:tn,version:Ve}),"VERSION"))}function Nn(Dt,Ve){if(null!==Dt&&"function"!=typeof Dt)throw mt.create("invalid-log-argument");(0,K.Am)(Dt,Ve)}function Zr(Dt){(0,K.Ub)(Dt)}const _r="firebase-heartbeat-database",Ar=1,Qt="firebase-heartbeat-store";let kn=null;function Mr(){return kn||(kn=(0,Se.X3)(_r,Ar,{upgrade:(Dt,Ve)=>{0===Ve&&Dt.createObjectStore(Qt)}}).catch(Dt=>{throw mt.create("idb-open",{originalErrorMessage:Dt.message})})),kn}function fr(){return(fr=(0,g.Z)(function*(Dt){try{return yield(yield Mr()).transaction(Qt).objectStore(Qt).get(Bt(Dt))}catch(Ve){if(Ve instanceof re.ZR)he.warn(Ve.message);else{const Et=mt.create("idb-get",{originalErrorMessage:null==Ve?void 0:Ve.message});he.warn(Et.message)}}})).apply(this,arguments)}function en(Dt,Ve){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,g.Z)(function*(Dt,Ve){try{const Yt=(yield Mr()).transaction(Qt,"readwrite");yield Yt.objectStore(Qt).put(Ve,Bt(Dt)),yield Yt.done}catch(Et){if(Et instanceof re.ZR)he.warn(Et.message);else{const Yt=mt.create("idb-set",{originalErrorMessage:null==Et?void 0:Et.message});he.warn(Yt.message)}}})).apply(this,arguments)}function Bt(Dt){return`${Dt.name}!${Dt.options.appId}`}class Jn{constructor(Ve){this.container=Ve,this._heartbeatsCache=null;const Et=this.container.getProvider("app").getImmediate();this._storage=new Ei(Et),this._heartbeatsCachePromise=this._storage.read().then(Yt=>(this._heartbeatsCache=Yt,Yt))}triggerHeartbeat(){var Ve=this;return(0,g.Z)(function*(){const Yt=Ve.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),tn=ci();if(null===Ve._heartbeatsCache&&(Ve._heartbeatsCache=yield Ve._heartbeatsCachePromise),Ve._heartbeatsCache.lastSentHeartbeatDate!==tn&&!Ve._heartbeatsCache.heartbeats.some(mn=>mn.date===tn))return Ve._heartbeatsCache.heartbeats.push({date:tn,agent:Yt}),Ve._heartbeatsCache.heartbeats=Ve._heartbeatsCache.heartbeats.filter(mn=>{const On=new Date(mn.date).valueOf();return Date.now()-On<=2592e6}),Ve._storage.overwrite(Ve._heartbeatsCache)})()}getHeartbeatsHeader(){var Ve=this;return(0,g.Z)(function*(){if(null===Ve._heartbeatsCache&&(yield Ve._heartbeatsCachePromise),null===Ve._heartbeatsCache||0===Ve._heartbeatsCache.heartbeats.length)return"";const Et=ci(),{heartbeatsToSend:Yt,unsentEntries:tn}=function Xr(Dt,Ve=1024){const Et=[];let Yt=Dt.slice();for(const tn of Dt){const mn=Et.find(On=>On.agent===tn.agent);if(mn){if(mn.dates.push(tn.date),Ir(Et)>Ve){mn.dates.pop();break}}else if(Et.push({agent:tn.agent,dates:[tn.date]}),Ir(Et)>Ve){Et.pop();break}Yt=Yt.slice(1)}return{heartbeatsToSend:Et,unsentEntries:Yt}}(Ve._heartbeatsCache.heartbeats),mn=(0,re.L)(JSON.stringify({version:2,heartbeats:Yt}));return Ve._heartbeatsCache.lastSentHeartbeatDate=Et,tn.length>0?(Ve._heartbeatsCache.heartbeats=tn,yield Ve._storage.overwrite(Ve._heartbeatsCache)):(Ve._heartbeatsCache.heartbeats=[],Ve._storage.overwrite(Ve._heartbeatsCache)),mn})()}}function ci(){return(new Date).toISOString().substring(0,10)}class Ei{constructor(Ve){this.app=Ve,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ve=this;return(0,g.Z)(function*(){return(yield Ve._canUseIndexedDBPromise)&&(yield function qn(Dt){return fr.apply(this,arguments)}(Ve.app))||{heartbeats:[]}})()}overwrite(Ve){var Et=this;return(0,g.Z)(function*(){var Yt;if(yield Et._canUseIndexedDBPromise){const mn=yield Et.read();return en(Et.app,{lastSentHeartbeatDate:null!==(Yt=Ve.lastSentHeartbeatDate)&&void 0!==Yt?Yt:mn.lastSentHeartbeatDate,heartbeats:Ve.heartbeats})}})()}add(Ve){var Et=this;return(0,g.Z)(function*(){var Yt;if(yield Et._canUseIndexedDBPromise){const mn=yield Et.read();return en(Et.app,{lastSentHeartbeatDate:null!==(Yt=Ve.lastSentHeartbeatDate)&&void 0!==Yt?Yt:mn.lastSentHeartbeatDate,heartbeats:[...mn.heartbeats,...Ve.heartbeats]})}})()}}function Ir(Dt){return(0,re.L)(JSON.stringify({version:2,heartbeats:Dt})).length}!function pi(Dt){Nt(new m.wA("platform-logger",Ve=>new Te(Ve),"PRIVATE")),Nt(new m.wA("heartbeat",Ve=>new Jn(Ve),"PRIVATE")),yn(He,"0.9.18",Dt),yn(He,"0.9.18","esm2017"),yn("fire-js","")}("")},4537:(Jt,nt,N)=>{"use strict";N.d(nt,{H0:()=>He,wA:()=>K});var g=N(5861),m=N(9058);class K{constructor(he,oe,Me){this.name=he,this.instanceFactory=oe,this.type=Me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(he){return this.instantiationMode=he,this}setMultipleInstances(he){return this.multipleInstances=he,this}setServiceProps(he){return this.serviceProps=he,this}setInstanceCreatedCallback(he){return this.onInstanceCreated=he,this}}const re="[DEFAULT]";class Se{constructor(he,oe){this.name=he,this.container=oe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(he){const oe=this.normalizeInstanceIdentifier(he);if(!this.instancesDeferred.has(oe)){const Me=new m.BH;if(this.instancesDeferred.set(oe,Me),this.isInitialized(oe)||this.shouldAutoInitialize())try{const Ee=this.getOrInitializeService({instanceIdentifier:oe});Ee&&Me.resolve(Ee)}catch{}}return this.instancesDeferred.get(oe).promise}getImmediate(he){var oe;const Me=this.normalizeInstanceIdentifier(null==he?void 0:he.identifier),Ee=null!==(oe=null==he?void 0:he.optional)&&void 0!==oe&&oe;if(!this.isInitialized(Me)&&!this.shouldAutoInitialize()){if(Ee)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Me})}catch(Re){if(Ee)return null;throw Re}}getComponent(){return this.component}setComponent(he){if(he.name!==this.name)throw Error(`Mismatching Component ${he.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=he,this.shouldAutoInitialize()){if(function de(Ne){return"EAGER"===Ne.instantiationMode}(he))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[oe,Me]of this.instancesDeferred.entries()){const Ee=this.normalizeInstanceIdentifier(oe);try{const Re=this.getOrInitializeService({instanceIdentifier:Ee});Me.resolve(Re)}catch{}}}}clearInstance(he=re){this.instancesDeferred.delete(he),this.instancesOptions.delete(he),this.instances.delete(he)}delete(){var he=this;return(0,g.Z)(function*(){const oe=Array.from(he.instances.values());yield Promise.all([...oe.filter(Me=>"INTERNAL"in Me).map(Me=>Me.INTERNAL.delete()),...oe.filter(Me=>"_delete"in Me).map(Me=>Me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(he=re){return this.instances.has(he)}getOptions(he=re){return this.instancesOptions.get(he)||{}}initialize(he={}){const{options:oe={}}=he,Me=this.normalizeInstanceIdentifier(he.instanceIdentifier);if(this.isInitialized(Me))throw Error(`${this.name}(${Me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ee=this.getOrInitializeService({instanceIdentifier:Me,options:oe});for(const[Re,$e]of this.instancesDeferred.entries())Me===this.normalizeInstanceIdentifier(Re)&&$e.resolve(Ee);return Ee}onInit(he,oe){var Me;const Ee=this.normalizeInstanceIdentifier(oe),Re=null!==(Me=this.onInitCallbacks.get(Ee))&&void 0!==Me?Me:new Set;Re.add(he),this.onInitCallbacks.set(Ee,Re);const $e=this.instances.get(Ee);return $e&&he($e,Ee),()=>{Re.delete(he)}}invokeOnInitCallbacks(he,oe){const Me=this.onInitCallbacks.get(oe);if(Me)for(const Ee of Me)try{Ee(he,oe)}catch{}}getOrInitializeService({instanceIdentifier:he,options:oe={}}){let Me=this.instances.get(he);if(!Me&&this.component&&(Me=this.component.instanceFactory(this.container,{instanceIdentifier:(Ne=he,Ne===re?void 0:Ne),options:oe}),this.instances.set(he,Me),this.instancesOptions.set(he,oe),this.invokeOnInitCallbacks(Me,he),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,he,Me)}catch{}var Ne;return Me||null}normalizeInstanceIdentifier(he=re){return this.component?this.component.multipleInstances?he:re:he}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class He{constructor(he){this.name=he,this.providers=new Map}addComponent(he){const oe=this.getProvider(he.name);if(oe.isComponentSet())throw new Error(`Component ${he.name} has already been registered with ${this.name}`);oe.setComponent(he)}addOrOverwriteComponent(he){this.getProvider(he.name).isComponentSet()&&this.providers.delete(he.name),this.addComponent(he)}getProvider(he){if(this.providers.has(he))return this.providers.get(he);const oe=new Se(he,this);return this.providers.set(he,oe),oe}getProviders(){return Array.from(this.providers.values())}}},7879:(Jt,nt,N)=>{"use strict";N.d(nt,{Am:()=>Ne,Ub:()=>He,Yd:()=>de,in:()=>m});const g=[];var m=function(he){return he[he.DEBUG=0]="DEBUG",he[he.VERBOSE=1]="VERBOSE",he[he.INFO=2]="INFO",he[he.WARN=3]="WARN",he[he.ERROR=4]="ERROR",he[he.SILENT=5]="SILENT",he}(m||{});const K={debug:m.DEBUG,verbose:m.VERBOSE,info:m.INFO,warn:m.WARN,error:m.ERROR,silent:m.SILENT},re=m.INFO,Se={[m.DEBUG]:"log",[m.VERBOSE]:"log",[m.INFO]:"info",[m.WARN]:"warn",[m.ERROR]:"error"},Te=(he,oe,...Me)=>{if(oe<he.logLevel)return;const Ee=(new Date).toISOString(),Re=Se[oe];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${oe})`);console[Re](`[${Ee}]  ${he.name}:`,...Me)};class de{constructor(oe){this.name=oe,this._logLevel=re,this._logHandler=Te,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(oe){if(!(oe in m))throw new TypeError(`Invalid value "${oe}" assigned to \`logLevel\``);this._logLevel=oe}setLogLevel(oe){this._logLevel="string"==typeof oe?K[oe]:oe}get logHandler(){return this._logHandler}set logHandler(oe){if("function"!=typeof oe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=oe}get userLogHandler(){return this._userLogHandler}set userLogHandler(oe){this._userLogHandler=oe}debug(...oe){this._userLogHandler&&this._userLogHandler(this,m.DEBUG,...oe),this._logHandler(this,m.DEBUG,...oe)}log(...oe){this._userLogHandler&&this._userLogHandler(this,m.VERBOSE,...oe),this._logHandler(this,m.VERBOSE,...oe)}info(...oe){this._userLogHandler&&this._userLogHandler(this,m.INFO,...oe),this._logHandler(this,m.INFO,...oe)}warn(...oe){this._userLogHandler&&this._userLogHandler(this,m.WARN,...oe),this._logHandler(this,m.WARN,...oe)}error(...oe){this._userLogHandler&&this._userLogHandler(this,m.ERROR,...oe),this._logHandler(this,m.ERROR,...oe)}}function He(he){g.forEach(oe=>{oe.setLogLevel(he)})}function Ne(he,oe){for(const Me of g){let Ee=null;oe&&oe.level&&(Ee=K[oe.level]),Me.userLogHandler=null===he?null:(Re,$e,...lt)=>{const De=lt.map(_e=>{if(null==_e)return null;if("string"==typeof _e)return _e;if("number"==typeof _e||"boolean"==typeof _e)return _e.toString();if(_e instanceof Error)return _e.message;try{return JSON.stringify(_e)}catch{return null}}).filter(_e=>_e).join(" ");$e>=(null!=Ee?Ee:Re.logLevel)&&he({level:m[$e].toLowerCase(),message:De,args:lt,type:Re.name})}}}},7027:(Jt,nt,N)=>{"use strict";N.d(nt,{dr:()=>Xr,W2:()=>_t,Gu:()=>Ni,jP:()=>ir,sr:()=>ur,Pc:()=>fe,r4:()=>z});var g=N(5861),m=N(5879),K=N(95),re=N(7582),Se=N(4829),Te=N(5592),de=N(1631),He=N(4266),Ne=N(4674),he=N(7400);const oe=["addListener","removeListener"],Me=["addEventListener","removeEventListener"],Ee=["on","off"];function Re(y,$,I,k){if((0,Ne.m)(I)&&(k=I,I=void 0),k)return Re(y,$,I).pipe((0,he.Z)(k));const[se,Ct]=function _e(y){return(0,Ne.m)(y.addEventListener)&&(0,Ne.m)(y.removeEventListener)}(y)?Me.map(hn=>vn=>y[hn]($,vn,I)):function lt(y){return(0,Ne.m)(y.addListener)&&(0,Ne.m)(y.removeListener)}(y)?oe.map($e(y,$)):function De(y){return(0,Ne.m)(y.on)&&(0,Ne.m)(y.off)}(y)?Ee.map($e(y,$)):[];if(!se&&(0,He.z)(y))return(0,de.z)(hn=>Re(hn,$,I))((0,Se.Xf)(y));if(!se)throw new TypeError("Invalid event target");return new Te.y(hn=>{const vn=(...tr)=>hn.next(1<tr.length?tr:tr[0]);return se(vn),()=>Ct(vn)})}function $e(y,$){return I=>k=>y[I]($,k)}var et=N(8645),ut=N(5619),Qe=N(2572),we=N(2096),ke=N(4934),Be=(N(1774),N(2650),N(1904),N(9203),N(2085)),Je=N(839),je=N(3365),ct=N(1651),Tt=(N(5662),N(4988)),ae=(N(6225),N(619),N(1688)),Oe=N(2181),ze=N(4664),tt=N(3997),Ze=N(6814);const kt=Be.i,pe=["*"],Pn=y=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(y):"function"==typeof requestAnimationFrame?requestAnimationFrame(y):setTimeout(y),qn=(y,$)=>{const I=y.prototype;$.forEach(k=>{Object.defineProperty(I,k,{get(){return this.el[k]},set(se){this.z.runOutsideAngular(()=>this.el[k]=se)}})})},fr=(y,$)=>{const I=y.prototype;$.forEach(k=>{I[k]=function(){const se=arguments;return this.z.runOutsideAngular(()=>this.el[k].apply(this.el,se))}})},en=(y,$,I)=>{I.forEach(k=>y[k]=Re($,k))};function Bt(y){return function(I){const{defineCustomElementFn:k,inputs:se,methods:Ct}=y;return void 0!==k&&k(),se&&qn(I,se),Ct&&fr(I,Ct),I}}let Xr=(()=>{let y=class{constructor(I,k,se){this.z=se,I.detach(),this.el=k.nativeElement}};return y.\u0275fac=function(I){return new(I||y)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},y.\u0275cmp=m.Xpm({type:y,selectors:[["ion-app"]],ngContentSelectors:pe,decls:1,vars:0,template:function(I,k){1&I&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,re.gn)([Bt({})],y),y})(),_t=(()=>{let y=class{constructor(I,k,se){this.z=se,I.detach(),this.el=k.nativeElement,en(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return y.\u0275fac=function(I){return new(I||y)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},y.\u0275cmp=m.Xpm({type:y,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:pe,decls:1,vars:0,template:function(I,k){1&I&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,re.gn)([Bt({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],y),y})(),Ni=(()=>{let y=class{constructor(I,k,se){this.z=se,I.detach(),this.el=k.nativeElement}};return y.\u0275fac=function(I){return new(I||y)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},y.\u0275cmp=m.Xpm({type:y,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:pe,decls:1,vars:0,template:function(I,k){1&I&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,re.gn)([Bt({inputs:["collapse","mode","translucent"]})],y),y})(),ur=(()=>{let y=class{constructor(I,k,se){this.z=se,I.detach(),this.el=k.nativeElement}};return y.\u0275fac=function(I){return new(I||y)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},y.\u0275cmp=m.Xpm({type:y,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:pe,decls:1,vars:0,template:function(I,k){1&I&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,re.gn)([Bt({inputs:["color","mode"]})],y),y})(),Qr=(()=>{class y{get(I,k){const se=zr();return se?se.get(I,k):null}getBoolean(I,k){const se=zr();return!!se&&se.getBoolean(I,k)}getNumber(I,k){const se=zr();return se?se.getNumber(I,k):0}}return y.\u0275fac=function(I){return new(I||y)},y.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const ns=new m.OlP("USERCONFIG"),zr=()=>{if(typeof window<"u"){const y=window.Ionic;if(null!=y&&y.config)return y.config}return null};let No=(()=>{class y{constructor(I,k){this.doc=I,this.backButton=new et.x,this.keyboardDidShow=new et.x,this.keyboardDidHide=new et.x,this.pause=new et.x,this.resume=new et.x,this.resize=new et.x,k.run(()=>{var se;let Ct;this.win=I.defaultView,this.backButton.subscribeWithPriority=function(hn,vn){return this.subscribe(tr=>tr.register(hn,dr=>k.run(()=>vn(dr))))},lo(this.pause,I,"pause"),lo(this.resume,I,"resume"),lo(this.backButton,I,"ionBackButton"),lo(this.resize,this.win,"resize"),lo(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),lo(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(hn=>{Ct=hn}),null!==(se=this.win)&&void 0!==se&&se.cordova?I.addEventListener("deviceready",()=>{Ct("cordova")},{once:!0}):Ct("dom")})}is(I){return(0,Be.a)(this.win,I)}platforms(){return(0,Be.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(I){return To(this.win.location.href,I)}isLandscape(){return!this.isPortrait()}isPortrait(){var I,k;return null===(I=(k=this.win).matchMedia)||void 0===I?void 0:I.call(k,"(orientation: portrait)").matches}testUserAgent(I){const k=this.win.navigator;return!!(null!=k&&k.userAgent&&k.userAgent.indexOf(I)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return y.\u0275fac=function(I){return new(I||y)(m.LFG(Ze.K0),m.LFG(m.R0b))},y.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const To=(y,$)=>{$=$.replace(/[[\]\\]/g,"\\$&");const k=new RegExp("[\\?&]"+$+"=([^&#]*)").exec(y);return k?decodeURIComponent(k[1].replace(/\+/g," ")):null},lo=(y,$,I)=>{$&&$.addEventListener(I,k=>{y.next(null!=k?k.detail:void 0)})};let $r=(()=>{class y{constructor(I,k,se,Ct){this.location=k,this.serializer=se,this.router=Ct,this.direction=er,this.animated=Tr,this.guessDirection="forward",this.lastNavId=-1,Ct&&Ct.events.subscribe(hn=>{if(hn instanceof ke.OD){const vn=hn.restoredState?hn.restoredState.navigationId:hn.id;this.guessDirection=vn<this.lastNavId?"back":"forward",this.guessAnimation=hn.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?hn.id:vn}}),I.backButton.subscribeWithPriority(0,hn=>{this.pop(),hn()})}navigateForward(I,k={}){return this.setDirection("forward",k.animated,k.animationDirection,k.animation),this.navigate(I,k)}navigateBack(I,k={}){return this.setDirection("back",k.animated,k.animationDirection,k.animation),this.navigate(I,k)}navigateRoot(I,k={}){return this.setDirection("root",k.animated,k.animationDirection,k.animation),this.navigate(I,k)}back(I={animated:!0,animationDirection:"back"}){return this.setDirection("back",I.animated,I.animationDirection,I.animation),this.location.back()}pop(){var I=this;return(0,g.Z)(function*(){let k=I.topOutlet;for(;k;){if(yield k.pop())return!0;k=k.parentOutlet}return!1})()}setDirection(I,k,se,Ct){this.direction=I,this.animated=on(I,k,se),this.animationBuilder=Ct}setTopOutlet(I){this.topOutlet=I}consumeTransition(){let k,I="root";const se=this.animationBuilder;return"auto"===this.direction?(I=this.guessDirection,k=this.guessAnimation):(k=this.animated,I=this.direction),this.direction=er,this.animated=Tr,this.animationBuilder=void 0,{direction:I,animation:k,animationBuilder:se}}navigate(I,k){if(Array.isArray(I))return this.router.navigate(I,k);{const se=this.serializer.parse(I.toString());return void 0!==k.queryParams&&(se.queryParams={...k.queryParams}),void 0!==k.fragment&&(se.fragment=k.fragment),this.router.navigateByUrl(se,k)}}}return y.\u0275fac=function(I){return new(I||y)(m.LFG(No),m.LFG(Ze.Ye),m.LFG(ke.Hx),m.LFG(ke.F0,8))},y.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const on=(y,$,I)=>{if(!1!==$){if(void 0!==I)return I;if("forward"===y||"back"===y)return y;if("root"===y&&!0===$)return"forward"}},er="auto",Tr=void 0;class zi{constructor($={}){this.data=$}get($){return this.data[$]}}let So=(()=>{class y{constructor(){this.zone=(0,m.f3M)(m.R0b),this.applicationRef=(0,m.f3M)(m.z2F)}create(I,k,se){return new Di(I,k,this.applicationRef,this.zone,se)}}return y.\u0275fac=function(I){return new(I||y)},y.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac}),y})();class Di{constructor($,I,k,se,Ct){this.environmentInjector=$,this.injector=I,this.applicationRef=k,this.zone=se,this.elementReferenceKey=Ct,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom($,I,k,se){return this.zone.run(()=>new Promise(Ct=>{const hn={...k};void 0!==this.elementReferenceKey&&(hn[this.elementReferenceKey]=$),Ct(Ao(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,$,I,hn,se,this.elementReferenceKey))}))}removeViewFromDom($,I){return this.zone.run(()=>new Promise(k=>{const se=this.elRefMap.get(I);if(se){se.destroy(),this.elRefMap.delete(I);const Ct=this.elEventsMap.get(I);Ct&&(Ct(),this.elEventsMap.delete(I))}k()}))}}const Ao=(y,$,I,k,se,Ct,hn,vn,tr,dr,ki)=>{const mi=m.zs3.create({providers:$n(tr),parent:I}),Oo=(0,m.LMc)(vn,{environmentInjector:$,elementInjector:mi}),as=Oo.instance,Ko=Oo.location.nativeElement;if(tr&&(ki&&void 0!==as[ki]&&console.error(`[Ionic Error]: ${ki} is a reserved property when using ${hn.tagName.toLowerCase()}. Rename or remove the "${ki}" property from ${vn.name}.`),Object.assign(as,tr)),dr)for(const Zo of dr)Ko.classList.add(Zo);const Fi=yo(y,as,Ko);return hn.appendChild(Ko),k.attachView(Oo.hostView),se.set(Ko,Oo),Ct.set(Ko,Fi),Ko},Vr=[ct.L,ct.a,ct.b,ct.c,ct.d],yo=(y,$,I)=>y.run(()=>{const k=Vr.filter(se=>"function"==typeof $[se]).map(se=>{const Ct=hn=>$[se](hn.detail);return I.addEventListener(se,Ct),()=>I.removeEventListener(se,Ct)});return()=>k.forEach(se=>se())}),oi=new m.OlP("NavParamsToken"),$n=y=>[{provide:oi,useValue:y},{provide:zi,useFactory:gs,deps:[oi]}],gs=y=>new zi(y),Mo=(y,$)=>((y=y.filter(I=>I.stackId!==$.stackId)).push($),y),gi=(y,$)=>{const I=y.createUrlTree(["."],{relativeTo:$});return y.serializeUrl(I)},Jr=(y,$)=>!$||y.stackId!==$.stackId,ro=(y,$)=>{if(!y)return;const I=vs($);for(let k=0;k<I.length;k++){if(k>=y.length)return I[k];if(I[k]!==y[k])return}},vs=y=>y.split("/").map($=>$.trim()).filter($=>""!==$),_o=y=>{y&&(y.ref.destroy(),y.unlistenEvents())};class pr{constructor($,I,k,se,Ct,hn){this.containerEl=I,this.router=k,this.navCtrl=se,this.zone=Ct,this.location=hn,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==$?vs($):void 0}createView($,I){var k;const se=gi(this.router,I),Ct=null==$||null===(k=$.location)||void 0===k?void 0:k.nativeElement,hn=yo(this.zone,$.instance,Ct);return{id:this.nextId++,stackId:ro(this.tabsPrefix,se),unlistenEvents:hn,element:Ct,ref:$,url:se}}getExistingView($){const I=gi(this.router,$),k=this.views.find(se=>se.url===I);return k&&k.ref.changeDetectorRef.reattach(),k}setActive($){var I,k;const se=this.navCtrl.consumeTransition();let{direction:Ct,animation:hn,animationBuilder:vn}=se;const tr=this.activeView,dr=Jr($,tr);dr&&(Ct="back",hn=void 0);const ki=this.views.slice();let mi;const Oo=this.router;Oo.getCurrentNavigation?mi=Oo.getCurrentNavigation():null!==(I=Oo.navigations)&&void 0!==I&&I.value&&(mi=Oo.navigations.value),null!==(k=mi)&&void 0!==k&&null!==(k=k.extras)&&void 0!==k&&k.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const as=this.views.includes($),Ko=this.insertView($,Ct);as||$.ref.changeDetectorRef.detectChanges();const Fi=$.animationBuilder;return void 0===vn&&"back"===Ct&&!dr&&void 0!==Fi&&(vn=Fi),tr&&(tr.animationBuilder=vn),this.zone.runOutsideAngular(()=>this.wait(()=>(tr&&tr.ref.changeDetectorRef.detach(),$.ref.changeDetectorRef.reattach(),this.transition($,tr,hn,this.canGoBack(1),!1,vn).then(()=>Wo($,Ko,ki,this.location,this.zone)).then(()=>({enteringView:$,direction:Ct,animation:hn,tabSwitch:dr})))))}canGoBack($,I=this.getActiveStackId()){return this.getStack(I).length>$}pop($,I=this.getActiveStackId()){return this.zone.run(()=>{const k=this.getStack(I);if(k.length<=$)return Promise.resolve(!1);const se=k[k.length-$-1];let Ct=se.url;const hn=se.savedData;if(hn){var vn;const dr=hn.get("primary");null!=dr&&null!==(vn=dr.route)&&void 0!==vn&&null!==(vn=vn._routerState)&&void 0!==vn&&vn.snapshot.url&&(Ct=dr.route._routerState.snapshot.url)}const{animationBuilder:tr}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Ct,{...se.savedExtras,animation:tr}).then(()=>!0)})}startBackTransition(){const $=this.activeView;if($){const I=this.getStack($.stackId),k=I[I.length-2],se=k.animationBuilder;return this.wait(()=>this.transition(k,$,"back",this.canGoBack(2),!0,se))}return Promise.resolve()}endBackTransition($){$?(this.skipTransition=!0,this.pop(1)):this.activeView&&Xi(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl($){const I=this.getStack($);return I.length>0?I[I.length-1]:void 0}getRootUrl($){const I=this.getStack($);return I.length>0?I[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(_o),this.activeView=void 0,this.views=[]}getStack($){return this.views.filter(I=>I.stackId===$)}insertView($,I){return this.activeView=$,this.views=((y,$,I)=>"root"===I?Mo(y,$):"forward"===I?((y,$)=>(y.indexOf($)>=0?y=y.filter(k=>k.stackId!==$.stackId||k.id<=$.id):y.push($),y))(y,$):((y,$)=>y.indexOf($)>=0?y.filter(k=>k.stackId!==$.stackId||k.id<=$.id):Mo(y,$))(y,$))(this.views,$,I),this.views.slice()}transition($,I,k,se,Ct,hn){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(I===$)return Promise.resolve(!1);const vn=$?$.element:void 0,tr=I?I.element:void 0,dr=this.containerEl;return vn&&vn!==tr&&(vn.classList.add("ion-page"),vn.classList.add("ion-page-invisible"),vn.parentElement!==dr&&dr.appendChild(vn),dr.commit)?dr.commit(vn,tr,{duration:void 0===k?0:void 0,direction:k,showGoBack:se,progressAnimation:Ct,animationBuilder:hn}):Promise.resolve(!1)}wait($){var I=this;return(0,g.Z)(function*(){void 0!==I.runningTask&&(yield I.runningTask,I.runningTask=void 0);const k=I.runningTask=$();return k.finally(()=>I.runningTask=void 0),k})()}}const Wo=(y,$,I,k,se)=>"function"==typeof requestAnimationFrame?new Promise(Ct=>{requestAnimationFrame(()=>{Xi(y,$,I,k,se),Ct()})}):Promise.resolve(),Xi=(y,$,I,k,se)=>{se.run(()=>I.filter(Ct=>!$.includes(Ct)).forEach(_o)),$.forEach(Ct=>{const vn=k.path().split("?")[0].split("#")[0];if(Ct!==y&&Ct.url!==vn){const tr=Ct.element;tr.setAttribute("aria-hidden","true"),tr.classList.add("ion-page-hidden"),Ct.ref.changeDetectorRef.detach()}})};let ir=(()=>{class y{constructor(I,k,se,Ct,hn,vn,tr,dr){this.parentOutlet=dr,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new ut.X(null),this.activated=null,this._activatedRoute=null,this.name=ke.eC,this.stackWillChange=new m.vpe,this.stackDidChange=new m.vpe,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.parentContexts=(0,m.f3M)(ke.y6),this.location=(0,m.f3M)(m.s_b),this.environmentInjector=(0,m.f3M)(m.lqb),this.inputBinder=(0,m.f3M)(os,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,m.f3M)(Qr),this.navCtrl=(0,m.f3M)($r),this.nativeEl=Ct.nativeElement,this.name=I||ke.eC,this.tabsPrefix="true"===k?gi(hn,tr):void 0,this.stackCtrl=new pr(this.tabsPrefix,this.nativeEl,hn,this.navCtrl,vn,se),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(I){this.nativeEl.animation=I}set animated(I){this.nativeEl.animated=I}set swipeGesture(I){this._swipeGesture=I,this.nativeEl.swipeHandler=I?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:k=>this.stackCtrl.endBackTransition(k)}:void 0}ngOnDestroy(){var I;this.stackCtrl.destroy(),null===(I=this.inputBinder)||void 0===I||I.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const I=this.getContext();null!=I&&I.route&&this.activateWith(I.route,I.injector)}new Promise(I=>(0,Je.c)(this.nativeEl,I)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(I,k){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const k=this.getContext();this.activatedView.savedData=new Map(k.children.contexts);const se=this.activatedView.savedData.get("primary");if(se&&k.route&&(se.route={...k.route}),this.activatedView.savedExtras={},k.route){const Ct=k.route.snapshot;this.activatedView.savedExtras.queryParams=Ct.queryParams,this.activatedView.savedExtras.fragment=Ct.fragment}}const I=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,k){var se;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=I;let Ct,hn=this.stackCtrl.getExistingView(I);if(hn){Ct=this.activated=hn.ref;const dr=hn.savedData;dr&&(this.getContext().children.contexts=dr),this.updateActivatedRouteProxy(Ct.instance,I)}else{var vn;const dr=I._futureSnapshot,ki=this.parentContexts.getOrCreateContext(this.name).children,mi=new ut.X(null),Oo=this.createActivatedRouteProxy(mi,I),as=new bs(Oo,ki,this.location.injector),Ko=null!==(vn=dr.routeConfig.component)&&void 0!==vn?vn:dr.component;Ct=this.activated=this.location.createComponent(Ko,{index:this.location.length,injector:as,environmentInjector:null!=k?k:this.environmentInjector}),mi.next(Ct.instance),hn=this.stackCtrl.createView(this.activated,I),this.proxyMap.set(Ct.instance,Oo),this.currentActivatedRoute$.next({component:Ct.instance,activatedRoute:I})}null===(se=this.inputBinder)||void 0===se||se.bindActivatedRouteToOutletComponent(this),this.activatedView=hn,this.navCtrl.setTopOutlet(this);const tr=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:hn,tabSwitch:Jr(hn,tr)}),this.stackCtrl.setActive(hn).then(dr=>{this.activateEvents.emit(Ct.instance),this.stackDidChange.emit(dr)})}canGoBack(I=1,k){return this.stackCtrl.canGoBack(I,k)}pop(I=1,k){return this.stackCtrl.pop(I,k)}getLastUrl(I){const k=this.stackCtrl.getLastUrl(I);return k?k.url:void 0}getLastRouteView(I){return this.stackCtrl.getLastUrl(I)}getRootView(I){return this.stackCtrl.getRootUrl(I)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(I,k){const se=new ke.gz;return se._futureSnapshot=k._futureSnapshot,se._routerState=k._routerState,se.snapshot=k.snapshot,se.outlet=k.outlet,se.component=k.component,se._paramMap=this.proxyObservable(I,"paramMap"),se._queryParamMap=this.proxyObservable(I,"queryParamMap"),se.url=this.proxyObservable(I,"url"),se.params=this.proxyObservable(I,"params"),se.queryParams=this.proxyObservable(I,"queryParams"),se.fragment=this.proxyObservable(I,"fragment"),se.data=this.proxyObservable(I,"data"),se}proxyObservable(I,k){return I.pipe((0,Oe.h)(se=>!!se),(0,ze.w)(se=>this.currentActivatedRoute$.pipe((0,Oe.h)(Ct=>null!==Ct&&Ct.component===se),(0,ze.w)(Ct=>Ct&&Ct.activatedRoute[k]),(0,tt.x)())))}updateActivatedRouteProxy(I,k){const se=this.proxyMap.get(I);if(!se)throw new Error("Could not find activated route proxy for view");se._futureSnapshot=k._futureSnapshot,se._routerState=k._routerState,se.snapshot=k.snapshot,se.outlet=k.outlet,se.component=k.component,this.currentActivatedRoute$.next({component:I,activatedRoute:k})}}return y.\u0275fac=function(I){return new(I||y)(m.$8M("name"),m.$8M("tabs"),m.Y36(Ze.Ye),m.Y36(m.SBq),m.Y36(ke.F0),m.Y36(m.R0b),m.Y36(ke.gz),m.Y36(y,12))},y.\u0275dir=m.lG2({type:y,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),y})();class bs{constructor($,I,k){this.route=$,this.childContexts=I,this.parent=k}get($,I){return $===ke.gz?this.route:$===ke.y6?this.childContexts:this.parent.get($,I)}}const os=new m.OlP("");let xo=(()=>{class y{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(I){this.unsubscribeFromRouteData(I),this.subscribeToRouteData(I)}unsubscribeFromRouteData(I){var k;null===(k=this.outletDataSubscriptions.get(I))||void 0===k||k.unsubscribe(),this.outletDataSubscriptions.delete(I)}subscribeToRouteData(I){const{activatedRoute:k}=I,se=(0,Qe.a)([k.queryParams,k.params,k.data]).pipe((0,ze.w)(([Ct,hn,vn],tr)=>(vn={...Ct,...hn,...vn},0===tr?(0,we.of)(vn):Promise.resolve(vn)))).subscribe(Ct=>{if(!I.isActivated||!I.activatedComponentRef||I.activatedRoute!==k||null===k.component)return void this.unsubscribeFromRouteData(I);const hn=(0,m.qFp)(k.component);if(hn)for(const{templateName:vn}of hn.inputs)I.activatedComponentRef.setInput(vn,Ct[vn]);else this.unsubscribeFromRouteData(I)});this.outletDataSubscriptions.set(I,se)}}return y.\u0275fac=function(I){return new(I||y)},y.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac}),y})();const Ci={provide:K.Cf,useExisting:(0,m.Gpc)(()=>Yo),multi:!0};let Yo=(()=>{class y extends K.Fd{}return y.\u0275fac=function(){let $;return function(k){return($||($=m.n5z(y)))(k||y)}}(),y.\u0275dir=m.lG2({type:y,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(I,k){2&I&&m.uIk("max",k._enabled?k.max:null)},features:[m._Bn([Ci]),m.qOj]}),y})();const qi={provide:K.Cf,useExisting:(0,m.Gpc)(()=>Ro),multi:!0};let Ro=(()=>{class y extends K.qQ{}return y.\u0275fac=function(){let $;return function(k){return($||($=m.n5z(y)))(k||y)}}(),y.\u0275dir=m.lG2({type:y,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(I,k){2&I&&m.uIk("min",k._enabled?k.min:null)},features:[m._Bn([qi]),m.qOj]}),y})();class Pi{constructor($){this.ctrl=$}create($){return this.ctrl.create($||{})}dismiss($,I,k){return this.ctrl.dismiss($,I,k)}getTop(){return this.ctrl.getTop()}}let zs=(()=>{class y extends Pi{constructor(){super(Tt.m),this.angularDelegate=(0,m.f3M)(So),this.injector=(0,m.f3M)(m.zs3),this.environmentInjector=(0,m.f3M)(m.lqb)}create(I){return super.create({...I,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return y.\u0275fac=function(I){return new(I||y)},y.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac}),y})(),Gs=(()=>{class y extends Pi{constructor(){super(Tt.c),this.angularDelegate=(0,m.f3M)(So),this.injector=(0,m.f3M)(m.zs3),this.environmentInjector=(0,m.f3M)(m.lqb)}create(I){return super.create({...I,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return y.\u0275fac=function(I){return new(I||y)},y.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac}),y})();class z{shouldDetach($){return!1}shouldAttach($){return!1}store($,I){}retrieve($){return null}shouldReuseRoute($,I){if($.routeConfig!==I.routeConfig)return!1;const k=$.params,se=I.params,Ct=Object.keys(k),hn=Object.keys(se);if(Ct.length!==hn.length)return!1;for(const vn of Ct)if(se[vn]!==k[vn])return!1;return!0}}const P=(y,$,I)=>()=>{if($.defaultView&&typeof window<"u"){(0,je.s)({...y,_zoneGate:Ct=>I.run(Ct)});const se="__zone_symbol__addEventListener"in $.body?"__zone_symbol__addEventListener":"addEventListener";return function Nt(){var y=[];if(typeof window<"u"){var $=window;(!$.customElements||$.Element&&(!$.Element.prototype.closest||!$.Element.prototype.matches||!$.Element.prototype.remove||!$.Element.prototype.getRootNode))&&y.push(N.e(6748).then(N.t.bind(N,3342,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||$.NodeList&&!$.NodeList.prototype.forEach||!$.fetch||!function(){try{var k=new URL("b","http://a");return k.pathname="c%20d","http://a/c%20d"===k.href&&k.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&y.push(N.e(2214).then(N.t.bind(N,2668,23)))}return Promise.all(y)}().then(()=>((y,$)=>{if(!(typeof window>"u"))return kt(),(0,ae.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"legacy":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),$)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Pn,jmp:Ct=>I.runOutsideAngular(Ct),ael(Ct,hn,vn,tr){Ct[se](hn,vn,tr)},rel(Ct,hn,vn,tr){Ct.removeEventListener(hn,vn,tr)}}))}};let fe=(()=>{class y{static forRoot(I){return{ngModule:y,providers:[{provide:ns,useValue:I},{provide:m.ip1,useFactory:P,multi:!0,deps:[ns,Ze.K0,m.R0b]},{provide:os,useFactory:Vt,deps:[ke.F0]}]}}}return y.\u0275fac=function(I){return new(I||y)},y.\u0275mod=m.oAB({type:y}),y.\u0275inj=m.cJS({providers:[So,zs,Gs],imports:[Ze.ez]}),y})();function Vt(y){return null!=y&&y.componentInputBindingEnabled?new xo:null}},1878:(Jt,nt,N)=>{"use strict";N.d(nt,{X3:()=>ut});var g=N(5861);const m=(Z,me)=>me.some(Be=>Z instanceof Be);let K,re;const de=new WeakMap,He=new WeakMap,Ne=new WeakMap,he=new WeakMap,oe=new WeakMap;let Re={get(Z,me,Be){if(Z instanceof IDBTransaction){if("done"===me)return He.get(Z);if("objectStoreNames"===me)return Z.objectStoreNames||Ne.get(Z);if("store"===me)return Be.objectStoreNames[1]?void 0:Be.objectStore(Be.objectStoreNames[0])}return _e(Z[me])},set:(Z,me,Be)=>(Z[me]=Be,!0),has:(Z,me)=>Z instanceof IDBTransaction&&("done"===me||"store"===me)||me in Z};function De(Z){return"function"==typeof Z?function lt(Z){return Z!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Te(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Z)?function(...me){return Z.apply(et(this),me),_e(de.get(this))}:function(...me){return _e(Z.apply(et(this),me))}:function(me,...Be){const Je=Z.call(et(this),me,...Be);return Ne.set(Je,me.sort?me.sort():[me]),_e(Je)}}(Z):(Z instanceof IDBTransaction&&function Ee(Z){if(He.has(Z))return;const me=new Promise((Be,Je)=>{const je=()=>{Z.removeEventListener("complete",ct),Z.removeEventListener("error",Pt),Z.removeEventListener("abort",Pt)},ct=()=>{Be(),je()},Pt=()=>{Je(Z.error||new DOMException("AbortError","AbortError")),je()};Z.addEventListener("complete",ct),Z.addEventListener("error",Pt),Z.addEventListener("abort",Pt)});He.set(Z,me)}(Z),m(Z,function Se(){return K||(K=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Z,Re):Z)}function _e(Z){if(Z instanceof IDBRequest)return function Me(Z){const me=new Promise((Be,Je)=>{const je=()=>{Z.removeEventListener("success",ct),Z.removeEventListener("error",Pt)},ct=()=>{Be(_e(Z.result)),je()},Pt=()=>{Je(Z.error),je()};Z.addEventListener("success",ct),Z.addEventListener("error",Pt)});return me.then(Be=>{Be instanceof IDBCursor&&de.set(Be,Z)}).catch(()=>{}),oe.set(me,Z),me}(Z);if(he.has(Z))return he.get(Z);const me=De(Z);return me!==Z&&(he.set(Z,me),oe.set(me,Z)),me}const et=Z=>oe.get(Z);function ut(Z,me,{blocked:Be,upgrade:Je,blocking:je,terminated:ct}={}){const Pt=indexedDB.open(Z,me),Tt=_e(Pt);return Je&&Pt.addEventListener("upgradeneeded",Lt=>{Je(_e(Pt.result),Lt.oldVersion,Lt.newVersion,_e(Pt.transaction),Lt)}),Be&&Pt.addEventListener("blocked",Lt=>Be(Lt.oldVersion,Lt.newVersion,Lt)),Tt.then(Lt=>{ct&&Lt.addEventListener("close",()=>ct()),je&&Lt.addEventListener("versionchange",We=>je(We.oldVersion,We.newVersion,We))}).catch(()=>{}),Tt}const we=["get","getKey","getAll","getAllKeys","count"],ke=["put","add","delete","clear"],Le=new Map;function be(Z,me){if(!(Z instanceof IDBDatabase)||me in Z||"string"!=typeof me)return;if(Le.get(me))return Le.get(me);const Be=me.replace(/FromIndex$/,""),Je=me!==Be,je=ke.includes(Be);if(!(Be in(Je?IDBIndex:IDBObjectStore).prototype)||!je&&!we.includes(Be))return;const ct=function(){var Pt=(0,g.Z)(function*(Tt,...Lt){const We=this.transaction(Tt,je?"readwrite":"readonly");let ae=We.store;return Je&&(ae=ae.index(Lt.shift())),(yield Promise.all([ae[Be](...Lt),je&&We.done]))[0]});return function(Lt){return Pt.apply(this,arguments)}}();return Le.set(me,ct),ct}!function $e(Z){Re=Z(Re)}(Z=>({...Z,get:(me,Be,Je)=>be(me,Be)||Z.get(me,Be,Je),has:(me,Be)=>!!be(me,Be)||Z.has(me,Be)}))},5861:(Jt,nt,N)=>{"use strict";function g(K,re,Se,Te,de,He,Ne){try{var he=K[He](Ne),oe=he.value}catch(Me){return void Se(Me)}he.done?re(oe):Promise.resolve(oe).then(Te,de)}function m(K){return function(){var re=this,Se=arguments;return new Promise(function(Te,de){var He=K.apply(re,Se);function Ne(oe){g(He,Te,de,Ne,he,"next",oe)}function he(oe){g(He,Te,de,Ne,he,"throw",oe)}Ne(void 0)})}}N.d(nt,{Z:()=>m})},7582:(Jt,nt,N)=>{"use strict";function re(ae,ge){var Oe={};for(var ze in ae)Object.prototype.hasOwnProperty.call(ae,ze)&&ge.indexOf(ze)<0&&(Oe[ze]=ae[ze]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var tt=0;for(ze=Object.getOwnPropertySymbols(ae);tt<ze.length;tt++)ge.indexOf(ze[tt])<0&&Object.prototype.propertyIsEnumerable.call(ae,ze[tt])&&(Oe[ze[tt]]=ae[ze[tt]])}return Oe}function Se(ae,ge,Oe,ze){var Nt,tt=arguments.length,Ze=tt<3?ge:null===ze?ze=Object.getOwnPropertyDescriptor(ge,Oe):ze;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ze=Reflect.decorate(ae,ge,Oe,ze);else for(var kt=ae.length-1;kt>=0;kt--)(Nt=ae[kt])&&(Ze=(tt<3?Nt(Ze):tt>3?Nt(ge,Oe,Ze):Nt(ge,Oe))||Ze);return tt>3&&Ze&&Object.defineProperty(ge,Oe,Ze),Ze}function Me(ae,ge,Oe,ze){return new(Oe||(Oe=Promise))(function(Ze,Nt){function kt(dt){try{pe(ze.next(dt))}catch(mt){Nt(mt)}}function It(dt){try{pe(ze.throw(dt))}catch(mt){Nt(mt)}}function pe(dt){dt.done?Ze(dt.value):function tt(Ze){return Ze instanceof Oe?Ze:new Oe(function(Nt){Nt(Ze)})}(dt.value).then(kt,It)}pe((ze=ze.apply(ae,ge||[])).next())})}function Qe(ae){return this instanceof Qe?(this.v=ae,this):new Qe(ae)}function we(ae,ge,Oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tt,ze=Oe.apply(ae,ge||[]),Ze=[];return tt={},Nt("next"),Nt("throw"),Nt("return"),tt[Symbol.asyncIterator]=function(){return this},tt;function Nt(St){ze[St]&&(tt[St]=function(Zt){return new Promise(function(In,qt){Ze.push([St,Zt,In,qt])>1||kt(St,Zt)})})}function kt(St,Zt){try{!function It(St){St.value instanceof Qe?Promise.resolve(St.value.v).then(pe,dt):mt(Ze[0][2],St)}(ze[St](Zt))}catch(In){mt(Ze[0][3],In)}}function pe(St){kt("next",St)}function dt(St){kt("throw",St)}function mt(St,Zt){St(Zt),Ze.shift(),Ze.length&&kt(Ze[0][0],Ze[0][1])}}function Le(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,ge=ae[Symbol.asyncIterator];return ge?ge.call(ae):(ae=function lt(ae){var ge="function"==typeof Symbol&&Symbol.iterator,Oe=ge&&ae[ge],ze=0;if(Oe)return Oe.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&ze>=ae.length&&(ae=void 0),{value:ae&&ae[ze++],done:!ae}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),Oe={},ze("next"),ze("throw"),ze("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe);function ze(Ze){Oe[Ze]=ae[Ze]&&function(Nt){return new Promise(function(kt,It){!function tt(Ze,Nt,kt,It){Promise.resolve(It).then(function(pe){Ze({value:pe,done:kt})},Nt)}(kt,It,(Nt=ae[Ze](Nt)).done,Nt.value)})}}}N.d(nt,{FC:()=>we,KL:()=>Le,_T:()=>re,gn:()=>Se,mG:()=>Me,qq:()=>Qe}),"function"==typeof SuppressedError&&SuppressedError}},Jt=>{Jt(Jt.s=4469)}]);